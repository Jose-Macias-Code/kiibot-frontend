{"version":3,"file":"js/app.b1a39a81.js","mappings":"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","sources":["webpack://kiibot-frontend/./src/App.vue","webpack://kiibot-frontend/./src/App.vue?7ccd","webpack://kiibot-frontend/./src/views/LoginForm.vue","webpack://kiibot-frontend/./src/views/LoginForm.vue?527b","webpack://kiibot-frontend/./src/layouts/MainLayout.vue","webpack://kiibot-frontend/./src/components/SidebarView.vue","webpack://kiibot-frontend/./src/components/Chat/ConfirmDeleteModal.vue","webpack://kiibot-frontend/./src/components/Chat/ConfirmDeleteModal.vue?1cc5","webpack://kiibot-frontend/./src/components/Chat/SearchModal.vue","webpack://kiibot-frontend/./src/components/Chat/SearchModal.vue?a26a","webpack://kiibot-frontend/./src/eventBus.js","webpack://kiibot-frontend/./src/components/SidebarView.vue?8d19","webpack://kiibot-frontend/./src/layouts/MainLayout.vue?64ec","webpack://kiibot-frontend/./src/views/HomeView.vue","webpack://kiibot-frontend/./src/views/HomeView.vue?1da1","webpack://kiibot-frontend/./src/views/ChatView.vue","webpack://kiibot-frontend/./src/components/Chat/MessageInput.vue","webpack://kiibot-frontend/./src/components/Chat/MessageInput.vue?005a","webpack://kiibot-frontend/./src/views/ChatView.vue?fcb5","webpack://kiibot-frontend/./src/views/BackOffice.vue","webpack://kiibot-frontend/./src/views/BackOffice.vue?6832","webpack://kiibot-frontend/./src/views/UserManagement.vue","webpack://kiibot-frontend/./src/components/Users/UserActionsModal.vue","webpack://kiibot-frontend/./src/components/Users/UserActionsModal.vue?3644","webpack://kiibot-frontend/./src/components/Users/AddUserModal.vue","webpack://kiibot-frontend/./src/components/Users/AddUserModal.vue?b953","webpack://kiibot-frontend/./src/data/users.js","webpack://kiibot-frontend/./src/views/UserManagement.vue?8bda","webpack://kiibot-frontend/./src/views/MetricsPanel.vue","webpack://kiibot-frontend/./src/components/Metrics/Modals/ModalTime.vue","webpack://kiibot-frontend/./src/components/Metrics/Modals/ModalTime.vue?ca64","webpack://kiibot-frontend/./src/components/Metrics/Modals/ModalDate.vue","webpack://kiibot-frontend/./src/components/Metrics/Modals/ModalDate.vue?ba90","webpack://kiibot-frontend/./src/components/Metrics/GeneralMetrics.vue","webpack://kiibot-frontend/./src/components/Metrics/Widgets/MetricCard.vue","webpack://kiibot-frontend/./src/components/Metrics/Widgets/MetricCard.vue?f4ed","webpack://kiibot-frontend/./src/components/Metrics/Widgets/MetricProgressGroup.vue","webpack://kiibot-frontend/./src/components/Metrics/Widgets/MetricProgressGroup.vue?50ac","webpack://kiibot-frontend/./src/components/Metrics/Widgets/MetricList.vue","webpack://kiibot-frontend/./src/components/Metrics/Widgets/MetricList.vue?b9f9","webpack://kiibot-frontend/./src/components/Metrics/Widgets/MetricPie.vue","webpack://kiibot-frontend/./src/components/Metrics/Widgets/MetricPie.vue?55e0","webpack://kiibot-frontend/./src/components/Metrics/GeneralMetrics.vue?7a84","webpack://kiibot-frontend/./src/components/Metrics/UserMetrics.vue","webpack://kiibot-frontend/./src/components/Metrics/UserMetrics.vue?5343","webpack://kiibot-frontend/./src/views/MetricsPanel.vue?5ecd","webpack://kiibot-frontend/./src/views/DocumentsPanel.vue","webpack://kiibot-frontend/./src/components/Documents/UploadDocument.vue","webpack://kiibot-frontend/./src/components/Documents/UploadDocument.vue?67fa","webpack://kiibot-frontend/./src/components/Documents/DeleteConfirm.vue","webpack://kiibot-frontend/./src/components/Documents/DeleteConfirm.vue?5297","webpack://kiibot-frontend/./src/views/DocumentsPanel.vue?bd3a","webpack://kiibot-frontend/./src/views/KnowledgeBase.vue","webpack://kiibot-frontend/./src/components/Knowledge/EditFragmentModal.vue","webpack://kiibot-frontend/./src/components/Knowledge/EditFragmentModal.vue?e7ac","webpack://kiibot-frontend/./src/views/KnowledgeBase.vue?6928","webpack://kiibot-frontend/./src/views/ChatNew.vue","webpack://kiibot-frontend/./src/views/ChatNew.vue?211b","webpack://kiibot-frontend/./src/router/index.js","webpack://kiibot-frontend/./src/main.js","webpack://kiibot-frontend/webpack/bootstrap","webpack://kiibot-frontend/webpack/runtime/chunk loaded","webpack://kiibot-frontend/webpack/runtime/define property getters","webpack://kiibot-frontend/webpack/runtime/global","webpack://kiibot-frontend/webpack/runtime/hasOwnProperty shorthand","webpack://kiibot-frontend/webpack/runtime/publicPath","webpack://kiibot-frontend/webpack/runtime/jsonp chunk loading","webpack://kiibot-frontend/webpack/startup"],"sourcesContent":["<template>\n  <router-view></router-view>\n</template>\n\n<script>\nexport default {\n  name: \"App\"\n};\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n}\n\nbody {\n  background-color: #f7f7f7;\n  margin: 0;\n  padding: 0;\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n}\n\nbody.dark-mode {\n  background-color: #1e1e1e;\n  color: #fff;\n}\n</style>\n","import { render } from \"./App.vue?vue&type=template&id=16b452e0\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=16b452e0&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"login-container\">\r\n    <h1 class=\"login-title\">¡Bienvenido(a) de nuevo!</h1>\r\n    <p class=\"login-subtitle\">Por favor, inicia sesión para continuar.</p>\r\n\r\n    <div class=\"cred-tooltip\">\r\n      <i class=\"fas fa-info-circle\"></i>\r\n      <div class=\"tooltip-content\">\r\n        <strong>Credenciales de prueba:</strong><br>\r\n        Correo: <code>admin@gmail.com</code><br>\r\n        Contraseña: <code>123456</code>\r\n      </div>\r\n    </div>\r\n\r\n    <form @submit.prevent=\"handleLogin\">\r\n      <div class=\"input-group\" :class=\"{ 'error-border': emailError }\">\r\n        <div class=\"input-wrapper\">\r\n          <input\r\n            type=\"email\"\r\n            id=\"email\"\r\n            v-model=\"email\"\r\n            @focus=\"focusedField = 'email'\"\r\n            @blur=\"validateEmail\"\r\n          />\r\n        </div>\r\n        <label\r\n          :class=\"{ active: focusedField === 'email' || email, 'error-label': emailError }\"\r\n          for=\"email\"\r\n        >\r\n          Dirección de correo electrónico*\r\n        </label>\r\n      </div>\r\n      <p v-if=\"emailError\" class=\"error-message\">{{ emailError }}</p>\r\n\r\n      <div class=\"input-group\" :class=\"{ 'error-border': passwordError }\">\r\n        <div class=\"input-wrapper\">\r\n          <input\r\n            :type=\"showPassword ? 'text' : 'password'\"\r\n            id=\"password\"\r\n            v-model=\"password\"\r\n            @focus=\"focusedField = 'password'\"\r\n            @blur=\"validatePassword\"\r\n          />\r\n          <i \r\n            :class=\"showPassword ? 'fas fa-eye' : 'fas fa-eye-slash'\"\r\n            class=\"toggle-password\"\r\n            @click=\"togglePassword\"\r\n          ></i>\r\n        </div>\r\n        <label\r\n          :class=\"{ active: focusedField === 'password' || password, 'error-label': passwordError }\"\r\n          for=\"password\"\r\n        >\r\n          Contraseña*\r\n        </label>\r\n      </div>\r\n      <p v-if=\"passwordError\" class=\"error-message\">{{ passwordError }}</p>\r\n\r\n      <button \r\n        type=\"submit\" \r\n        class=\"login-button\" \r\n        :disabled=\"isLocked\"\r\n      >\r\n        <span v-if=\"!isLocked\">Iniciar sesión</span>\r\n        <span v-else class=\"loading-spinner\"></span>\r\n      </button>\r\n    </form>\r\n    <transition name=\"fade\">\r\n      <p v-if=\"errorMessage\" class=\"general-error-message\">\r\n        {{ errorMessage }}\r\n      </p>\r\n    </transition>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nconst fake_user = {\r\n  email: \"admin@gmail.com\",\r\n  password: \"123456\",\r\n  name: \"Jose\",\r\n  role: \"admin\",\r\n  profile_photo: \"https://i.pravatar.cc/150?img=3\"\r\n};\r\n\r\nexport default {\r\n  name: \"LoginForm\",\r\n  data() {\r\n    return {\r\n      email: \"\",\r\n      password: \"\",\r\n      focusedField: \"\",\r\n      emailError: \"\",\r\n      passwordError: \"\",\r\n      showPassword: false,\r\n      errorMessage: \"\",\r\n      isLocked: false\r\n    };\r\n  },\r\n  methods: {\r\n    validateEmail() {\r\n      if (!this.email.trim()) {\r\n        this.emailError = \"El correo no puede estar vacío.\";\r\n      } else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(this.email)) {\r\n        this.emailError = \"Ingresa un correo válido.\";\r\n      } else {\r\n        this.emailError = \"\";\r\n      }\r\n    },\r\n    validatePassword() {\r\n      if (!this.password.trim()) {\r\n        this.passwordError = \"La contraseña no puede estar vacía.\";\r\n      } else if (this.password.length < 6) {\r\n        this.passwordError = \"La contraseña debe tener al menos 6 caracteres.\";\r\n      } else {\r\n        this.passwordError = \"\";\r\n      }\r\n    },\r\n    async handleLogin() {\r\n      this.validateEmail();\r\n      this.validatePassword();\r\n\r\n      if (!this.emailError && !this.passwordError) {\r\n        this.isLocked = true;\r\n\r\n        setTimeout(() => {\r\n          if (\r\n            this.email === fake_user.email &&\r\n            this.password === fake_user.password\r\n          ) {\r\n            localStorage.setItem(\"token\", \"token-123456\"); \r\n            localStorage.setItem(\"role\", fake_user.role);\r\n            localStorage.setItem(\"name\", fake_user.name);\r\n            localStorage.setItem(\"email\", fake_user.email);\r\n            localStorage.setItem(\"profile_photo\", fake_user.profile_photo);\r\n\r\n            this.$router.push(\"/chat/new\");\r\n          } else {\r\n            this.errorMessage = \"Credenciales incorrectas.\";\r\n            setTimeout(() => (this.errorMessage = \"\"), 2500);\r\n          }\r\n\r\n          this.isLocked = false;\r\n        }, 800); \r\n      }\r\n    },\r\n    togglePassword() {\r\n      this.showPassword = !this.showPassword;\r\n    },\r\n    handleTokenExpired() {\r\n      this.errorMessage = \"Sesión expirada. Por favor, inicia sesión nuevamente.\";\r\n    }\r\n  },\r\n  mounted() {\r\n    window.addEventListener(\"token-expired\", this.handleTokenExpired);\r\n  },\r\n  beforeUnmount() {\r\n    window.removeEventListener(\"token-expired\", this.handleTokenExpired);\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.login-container {\r\n  text-align: center;\r\n  margin-top: 100px;\r\n}\r\n\r\n.login-title {\r\n  font-size: 2rem;\r\n  font-weight: bold;\r\n  color: #333;\r\n}\r\n\r\n.login-subtitle {\r\n  font-size: 1.2rem;\r\n  color: #666;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.input-wrapper {\r\n  position: relative;\r\n  width: 100%;\r\n}\r\n\r\n.input-wrapper input {\r\n  width: 100%;\r\n  padding: 15px 12px 10px;\r\n  padding-right: 40px;\r\n  font-size: 1rem;\r\n  border: 1px solid #c4c4c4;\r\n  border-radius: 8px;\r\n  outline: none;\r\n  background: transparent;\r\n  transition: border 0.3s ease, box-shadow 0.3s ease;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.input-wrapper .toggle-password {\r\n  position: absolute;\r\n  right: 12px;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  cursor: pointer;\r\n  color: #666;\r\n  font-size: 1.2rem;\r\n  transition: 0.3s ease;\r\n}\r\n\r\n.input-group {\r\n  position: relative;\r\n  width: 100%;\r\n  max-width: 400px;\r\n  margin: 25px auto;\r\n}\r\n\r\n.input-group label {\r\n  position: absolute;\r\n  left: 12px;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  font-size: 1rem;\r\n  color: #aaa;\r\n  transition: all 0.3s ease;\r\n  pointer-events: none;\r\n  background-color: #f7f7f7;\r\n  padding: 0 5px;\r\n}\r\n\r\n.input-group label.active {\r\n  top: 2px;\r\n  font-size: 0.85rem;\r\n  color: #23a36e;\r\n}\r\n\r\n.input-group label.error-label {\r\n  color: #ec1a03 !important;\r\n}\r\n\r\n.input-group input:focus {\r\n  border: 2px solid #23a36e;\r\n  box-shadow: 0px 4px 10px rgba(35, 163, 110, 0.2);\r\n}\r\n\r\n.error-message {\r\n  color: #ec1a03;\r\n  font-size: 0.9rem;\r\n  text-align: left;\r\n  max-width: 400px;\r\n  margin: -10px auto 15px;\r\n}\r\n\r\n.error-border input {\r\n  border: 2px solid #ec1a03 !important;\r\n}\r\n\r\n.toggle-password {\r\n  position: absolute;\r\n  right: 10px;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  cursor: pointer;\r\n  color: #666;\r\n  font-size: 1.2rem;\r\n  transition: 0.3s ease;\r\n}\r\n\r\n.toggle-password:hover {\r\n  color: #23a36e;\r\n}\r\n\r\n.login-button {\r\n  width: 100%;\r\n  max-width: 250px;\r\n  padding: 14px;\r\n  background-color: #23a36e;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 8px;\r\n  font-size: 1rem;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  font-weight: bold;\r\n  box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);\r\n  display: block;\r\n  margin: 20px auto 0; \r\n  text-align: center;\r\n}\r\n\r\n.login-button:hover {\r\n  background-color: #1c8658;\r\n  box-shadow: 0px 6px 10px rgba(0, 0, 0, 0.15);\r\n}\r\n\r\n.login-button:active {\r\n  background-color: #166746;\r\n  transform: scale(0.98);\r\n}\r\n\r\n.login-button:disabled {\r\n  background-color: #b3b3b3;\r\n  cursor: not-allowed;\r\n  box-shadow: none;\r\n}\r\n\r\n.loading-spinner {\r\n  width: 22px;\r\n  height: 22px;\r\n  border: 3px solid #fff;\r\n  border-top: 3px solid transparent;\r\n  border-radius: 50%;\r\n  animation: spin 0.7s linear infinite;\r\n  display: inline-block;\r\n  vertical-align: middle;\r\n}\r\n\r\n@keyframes spin {\r\n  to {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n\r\n.general-error-message {\r\n  background-color: #ff4b5c;\r\n  color: white;\r\n  padding: 10px;\r\n  border-radius: 5px;\r\n  text-align: center;\r\n  font-size: 1rem;\r\n  margin-bottom: 15px;\r\n  max-width: 400px;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  transition: opacity 0.5s ease-in-out;\r\n}\r\n\r\n.fade-enter-active {\r\n  transition: opacity 0.1s ease-in;\r\n}\r\n\r\n.fade-leave-active {\r\n  transition: opacity 1s ease-out; \r\n}\r\n\r\n.fade-enter-from, .fade-leave-to {\r\n  opacity: 0;\r\n}\r\n\r\nform {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .login-container {\r\n    margin-top: 100px;\r\n  }\r\n\r\n  .login-title {\r\n    font-size: 1.8rem;\r\n  }\r\n\r\n  .login-subtitle {\r\n    font-size: 1.1rem;\r\n  }\r\n\r\n  .input-group {\r\n    max-width: 350px;\r\n    margin: 20px auto;\r\n  }\r\n\r\n  .input-group input {\r\n    font-size: 0.95rem;\r\n    padding: 12px 10px;\r\n  }\r\n\r\n  .input-group label {\r\n    font-size: 0.9rem;\r\n  }\r\n\r\n  .login-button {\r\n    max-width: 230px;\r\n    padding: 12px;\r\n  }\r\n\r\n  .error-message {\r\n    font-size: 0.85rem;\r\n    max-width: 350px;\r\n  }\r\n}\r\n\r\n@media (max-width: 480px) {\r\n  .login-container {\r\n    margin-top: 100px;\r\n    padding: 0 15px;\r\n  }\r\n\r\n  .login-title {\r\n    font-size: 1.6rem;\r\n  }\r\n\r\n  .login-subtitle {\r\n    font-size: 1rem;\r\n  }\r\n\r\n  .input-group {\r\n    max-width: 70%;\r\n    margin: 15px auto;\r\n  }\r\n\r\n  .input-group input {\r\n    font-size: 0.9rem;\r\n    padding: 10px;\r\n  }\r\n\r\n  .input-group label {\r\n    font-size: 0.85rem;\r\n  }\r\n\r\n  .toggle-password {\r\n    font-size: 1rem;\r\n    right: 8px;\r\n  }\r\n\r\n  .login-button {\r\n    max-width: 200px;\r\n    padding: 10px;\r\n    font-size: 0.9rem;\r\n  }\r\n\r\n  .error-message {\r\n    font-size: 0.8rem;\r\n    max-width: 80%;\r\n    padding: 0 5px;\r\n  }\r\n}\r\n\r\n.cred-tooltip {\r\n  position: relative;\r\n  display: inline-block;\r\n  color: #555;\r\n  font-size: 0.95rem;\r\n  cursor: help;\r\n}\r\n\r\n.cred-tooltip i {\r\n  font-size: 1.2rem;\r\n  color: #23a36e;\r\n}\r\n\r\n.tooltip-content {\r\n  visibility: hidden;\r\n  background-color: #f0f0f0;\r\n  color: #333;\r\n  text-align: left;\r\n  border-radius: 8px;\r\n  padding: 12px;\r\n  position: absolute;\r\n  z-index: 100;\r\n  width: max-content;\r\n  min-width: 230px;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  top: 25px;\r\n  box-shadow: 0 2px 8px rgba(0,0,0,0.1);\r\n  opacity: 0;\r\n  transition: opacity 0.3s ease;\r\n  font-family: monospace;\r\n}\r\n\r\n.cred-tooltip:hover .tooltip-content {\r\n  visibility: visible;\r\n  opacity: 1;\r\n}\r\n</style>\r\n","import { render } from \"./LoginForm.vue?vue&type=template&id=17f91b3e&scoped=true\"\nimport script from \"./LoginForm.vue?vue&type=script&lang=js\"\nexport * from \"./LoginForm.vue?vue&type=script&lang=js\"\n\nimport \"./LoginForm.vue?vue&type=style&index=0&id=17f91b3e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-17f91b3e\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"main-layout\">\r\n    <div\r\n      v-if=\"isSidebarOpen && isMobile\"\r\n      class=\"sidebar-backdrop\"\r\n      @click=\"toggleSidebar\"\r\n    ></div>\r\n\r\n    <SidebarView \r\n      :isSidebarOpen=\"isSidebarOpen\" \r\n      @toggleSidebar=\"toggleSidebar\" \r\n    />\r\n    \r\n    <div :class=\"['content', { expanded: !isSidebarOpen }]\">\r\n      <router-view v-slot=\"{ Component }\">\r\n        <transition name=\"slide-fade-page\" mode=\"out-in\">\r\n          <component :is=\"Component\" />\r\n        </transition>\r\n      </router-view>\r\n    </div>\r\n\r\n    <div v-if=\"showSessionExpiredModal\" class=\"modal-overlay\">\r\n      <div class=\"modal-content\">\r\n        <h2>Sesión Expirada</h2>\r\n        <p>Tu sesión ha caducado. Por favor, inicia sesión nuevamente.</p>\r\n        <button @click=\"redirectToLogin\" class=\"btn-login-again\">Iniciar sesión</button>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport SidebarView from '../components/SidebarView.vue';\r\n\r\nexport default {\r\n  name: \"MainLayout\",\r\n  components: { SidebarView },\r\n  data() {\r\n    return {\r\n      isSidebarOpen: true,\r\n      showSessionExpiredModal: false,\r\n      isMobile: window.innerWidth <= 640\r\n    };\r\n  },\r\n  methods: {\r\n    toggleSidebar() {\r\n      this.isSidebarOpen = !this.isSidebarOpen;\r\n\r\n      const isMobile = window.innerWidth <= 640;\r\n\r\n      if (isMobile && this.isSidebarOpen) {\r\n        document.documentElement.style.overflow = 'hidden';\r\n        document.body.style.cssText = `\r\n          overflow: hidden !important;\r\n          touch-action: none;\r\n          position: fixed;\r\n          width: 100vw;\r\n          height: 100dvh;\r\n        `;\r\n      } else {\r\n        document.documentElement.style.overflow = '';\r\n        document.body.style.cssText = '';\r\n      }\r\n    },\r\n    handleTokenExpired() {\r\n      this.showSessionExpiredModal = true;\r\n    },\r\n    redirectToLogin() {\r\n      this.showSessionExpiredModal = false;\r\n      this.$router.push(\"/login\");\r\n    },\r\n    updateIsMobile() {\r\n      this.isMobile = window.innerWidth <= 640;\r\n    },\r\n  },\r\n  mounted() {\r\n    window.addEventListener(\"token-expired\", this.handleTokenExpired);\r\n    window.addEventListener(\"resize\", this.updateIsMobile);\r\n\r\n    if (this.isMobile && this.isSidebarOpen) this.toggleSidebar();\r\n  },\r\n  beforeUnmount() {\r\n    window.removeEventListener(\"token-expired\", this.handleTokenExpired);\r\n    window.removeEventListener(\"resize\", this.updateIsMobile);\r\n    document.documentElement.style.overflow = '';\r\n    document.body.style.cssText = '';\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.sidebar-backdrop {\r\n  position: fixed;\r\n  inset: 0;\r\n  background-color: rgba(0, 0, 0, 0.4);\r\n  z-index: 99;\r\n}\r\n\r\n.sidebar {\r\n  z-index: 100;\r\n}\r\n</style>\r\n\r\n<style scoped>\r\n.main-layout {\r\n  display: flex;\r\n  min-height: 100vh;\r\n  background-color: #ececec;\r\n  transition: all 0.5s ease;\r\n}\r\n\r\n.content {\r\n  flex: 1;\r\n  padding: 20px;\r\n  transition: margin-left 0.5s ease, padding 0.5s ease;\r\n  background-color: #fff;\r\n  margin-left: 200px;\r\n}\r\n\r\n.content.expanded {\r\n  margin-left: 0;\r\n}\r\n\r\n.slide-fade-page-enter-active,\r\n.slide-fade-page-leave-active {\r\n  transition: opacity 0.20s ease-in-out;\r\n}\r\n.slide-fade-page-enter-from,\r\n.slide-fade-page-leave-to {\r\n  opacity: 0;\r\n}\r\n.slide-fade-page-enter-to,\r\n.slide-fade-page-leave-from {\r\n  opacity: 1;\r\n}\r\n\r\n.modal-overlay {\r\n  position: fixed;\r\n  inset: 0;\r\n  background-color: rgba(0, 0, 0, 0.6);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 9999;\r\n}\r\n\r\n.modal-content {\r\n  background: white;\r\n  padding: 30px;\r\n  border-radius: 12px;\r\n  text-align: center;\r\n  max-width: 400px;\r\n  width: 90%;\r\n}\r\n\r\n.modal-content h2 {\r\n  margin-bottom: 10px;\r\n  font-size: 24px;\r\n  color: #333;\r\n}\r\n\r\n.modal-content p {\r\n  margin-bottom: 20px;\r\n  color: #666;\r\n}\r\n\r\n.btn-login-again {\r\n  background-color: #23a36e;\r\n  color: white;\r\n  padding: 10px 20px;\r\n  border-radius: 8px;\r\n  border: none;\r\n  cursor: pointer;\r\n  font-weight: bold;\r\n  transition: background-color 0.3s;\r\n}\r\n\r\n.btn-login-again:hover {\r\n  background-color: #1c8658;\r\n}\r\n</style>\r\n","<template>\r\n  <div>\r\n    <button \r\n      v-if=\"!isSidebarOpen\" \r\n      @click=\"toggleSidebar\" \r\n      class=\"open-sidebar-button\"\r\n      data-tooltip=\"Abrir barra lateral\">\r\n      <i class=\"fas fa-bars\"></i>\r\n    </button>\r\n\r\n    <div v-show=\"true\" :class=\"['sidebar', { 'open': isSidebarOpen, 'closed': !isSidebarOpen }]\">\r\n      <div class=\"top-buttons\">\r\n        <button class=\"icon-button\" @click=\"toggleSidebar\" data-tooltip=\"Cerrar barra lateral\">\r\n          <i class=\"fas fa-bars\"></i>\r\n        </button>\r\n\r\n        <div class=\"spacer\"></div>\r\n\r\n        <button class=\"icon-button hide-on-mobile\" @click=\"openSearchModal\" data-tooltip=\"Buscar chats\">\r\n          <i class=\"fas fa-search\"></i>\r\n        </button>\r\n        <button class=\"icon-button\" @click=\"handleStartNewChat\" data-tooltip=\"Nuevo chat\">\r\n          <i class=\"fas fa-plus-circle\"></i>\r\n        </button>\r\n      </div>\r\n\r\n      <div class=\"chats-list\">\r\n        <h4 class=\"chats-title\">CHATS</h4>\r\n        <div class=\"chat-list-container\">\r\n          <ul class=\"chat-list\">\r\n            <li v-for=\"chat in chats\" :key=\"chat.id\" class=\"chat-item\" :class=\"{ 'active-chat': Number($route.params.id) === chat.id, 'is-editing': editingChatId === chat.id }\" >\r\n              <router-link\r\n                :to=\"`/chat/${chat.id}`\"\r\n                class=\"chat-link\"\r\n                @click=\"handleSidebarSelect\"\r\n              >\r\n                <transition name=\"scale-fade\" mode=\"out-in\">\r\n                  <template v-if=\"editingChatId === chat.id\">\r\n                    <input\r\n                      key=\"input\"\r\n                      v-model=\"newChatName\"\r\n                      @keyup.enter=\"confirmRename(chat)\"\r\n                      @keyup.esc=\"cancelRename\"\r\n                      @blur=\"cancelRename\"\r\n                      class=\"rename-input\"\r\n                      placeholder=\"Nuevo nombre...\"\r\n                      autofocus\r\n                    />\r\n                  </template>\r\n                  <template v-else>\r\n                    <span key=\"text\">{{ chat.name }}</span>\r\n                  </template>\r\n                </transition>\r\n\r\n                <i \r\n                  class=\"fas fa-ellipsis-h chat-options-icon hide-on-mobile\" \r\n                  @click.prevent=\"editingChatId === null && openChatOptions(chat.id, $event)\"\r\n                ></i>\r\n              </router-link>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <div v-if=\"showModal\" class=\"modal-overlay\" @click=\"closeModal\">\r\n        <div \r\n          class=\"modal-content\" \r\n          :style=\"{ top: modalPosition.top + 'px', left: modalPosition.left + 'px' }\"\r\n          @click.stop\r\n        >\r\n          <ul class=\"modal-options\">\r\n            <li @click=\"renameChat\">\r\n              <i class=\"fas fa-edit\"></i> Cambiar el nombre\r\n            </li>\r\n            <li class=\"delete-option\" @click=\"deleteChat\">\r\n              <i class=\"fas fa-trash-alt delete-icon\"></i> Eliminar\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"bottom-section\"> \r\n        <router-link to=\"/profile\" class=\"profile-link\" data-tooltip=\"Perfil\" @click=\"handleSidebarSelect\">\r\n          <div class=\"profile-container\">\r\n            <img v-if=\"profileImage\" :src=\"profileImage\" alt=\"Foto de perfil\" class=\"profile-image\" />\r\n            <i v-else class=\"fas fa-user-circle default-icon\"></i>\r\n          </div>\r\n        </router-link>\r\n        <div v-if=\"userRole === 'admin'\" class=\"admin-panel\">\r\n          <button class=\"admin-button\" @click=\"handleBackofficeClick\">\r\n            <i class=\"fas fa-briefcase\"></i> <p>Office</p>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <ConfirmDeleteModal\r\n      v-if=\"showConfirmDelete\"\r\n      :chat-id=\"chatToDelete\"\r\n      :chat-name=\"getChatNameById(chatToDelete)\"\r\n      @confirm-delete=\"handleConfirmedDelete\"\r\n      @cancel-delete=\"handleCancelDelete\"\r\n    />\r\n\r\n    <SearchModal\r\n      v-if=\"showSearchModal\"\r\n      @close=\"showSearchModal = false\"\r\n      :chats=\"chats\"\r\n    />\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ConfirmDeleteModal from '../components/Chat/ConfirmDeleteModal.vue';\r\nimport SearchModal from '../components/Chat/SearchModal.vue';\r\nimport { bus } from '../eventBus'\r\n\r\nexport default {\r\n  components: {\r\n    ConfirmDeleteModal,\r\n    SearchModal\r\n  },\r\n  props: {\r\n    isSidebarOpen: {\r\n      type: Boolean,\r\n      default: true\r\n    }\r\n  },\r\n  watch: {\r\n    '$route.params.id': {\r\n      immediate: true,\r\n      handler(newId) {\r\n        this.selectedChatId = Number(newId);\r\n        if (this.editingChatId !== null) {\r\n          this.cancelRename(); \r\n        }\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      chats: [\r\n        { id: 1, name: 'Saludo' },\r\n        { id: 2, name: 'Marketing' },\r\n        { id: 3, name: 'Consultoría' },\r\n        { id: 4, name: 'Soporte Técnico' },\r\n        { id: 5, name: 'Ventas' }\r\n      ],\r\n      profileImage: localStorage.getItem(\"profile_photo\") || require('../assets/img/default-avatar.webp'),\r\n      showModal: false,\r\n      selectedChatId: null,\r\n      modalPosition: { top: 0, left: 0 },\r\n      userRole: null,\r\n      showConfirmDelete: false,\r\n      chatToDelete: null,\r\n      editingChatId: null,\r\n      newChatName: '',\r\n      showSearchModal: false,\r\n    };\r\n  },\r\n  mounted() {\r\n    document.addEventListener(\"mousedown\", this.handleClickOutside);\r\n    document.addEventListener(\"mousedown\", this.handleClickOutsideRename);\r\n\r\n    bus.on('profile-updated', this.updateProfilePhoto);\r\n\r\n    this.getUserRole();\r\n  },\r\n  beforeUnmount() {\r\n    document.removeEventListener(\"mousedown\", this.handleClickOutside);\r\n    document.removeEventListener(\"mousedown\", this.handleClickOutsideRename);\r\n\r\n    bus.off('profile-updated', this.updateProfilePhoto);\r\n  },\r\n  methods: {\r\n    updateProfilePhoto(newBase64) {\r\n      this.profileImage = newBase64 ||\r\n        localStorage.getItem(\"profile_photo\") ||\r\n        require('../assets/img/default-avatar.webp');\r\n    },\r\n    getUserRole() {\r\n      this.userRole = localStorage.getItem(\"role\") || \"\"; \r\n    },\r\n    toggleSidebar() {\r\n      this.$emit('toggleSidebar');\r\n    },\r\n    openSearchModal() {\r\n      this.showSearchModal = true;\r\n    },\r\n    startNewChat() {\r\n      this.$router.push(\"/chat/new\");\r\n    },\r\n    openChatOptions(chatId, event) {\r\n      this.selectedChatId = chatId;\r\n      this.showModal = true;\r\n\r\n      const rect = event.target.getBoundingClientRect();\r\n      this.modalPosition = {\r\n        top: rect.top + window.scrollY + 17,\r\n        left: rect.left + window.scrollX + 17\r\n      };\r\n    },\r\n    handleClickOutside(event) {\r\n      const modal = this.$el.querySelector(\".modal-content\");\r\n      if (this.showModal && modal && !modal.contains(event.target)) {\r\n        this.closeModal();\r\n      }\r\n    },\r\n    closeModal() {\r\n      this.showModal = false;\r\n      this.selectedChatId = null;\r\n    },\r\n    shareChat() {\r\n      console.log(\"Compartir chat\", this.selectedChatId);\r\n      this.closeModal();\r\n    },\r\n    deleteChat() {\r\n      this.chatToDelete = this.selectedChatId;\r\n      this.showModal = false;\r\n      this.showConfirmDelete = true;\r\n    },\r\n    getChatNameById(id) {\r\n      const found = this.chats.find(chat => chat.id === id);\r\n      return found ? found.name : '';\r\n    },\r\n    handleCancelDelete() {\r\n      this.showConfirmDelete = false;\r\n      this.selectedChatId = null; \r\n    },\r\n    handleConfirmedDelete(chatId) {\r\n      this.chats = this.chats.filter(chat => chat.id !== chatId);\r\n\r\n      if (this.$route.params.id == chatId) {\r\n        this.$router.push('/chat/new');\r\n      }\r\n\r\n      this.showConfirmDelete = false;\r\n    },\r\n    startRenaming(chat) {\r\n      this.editingChatId = chat.id;\r\n      this.newChatName = chat.name;\r\n      this.showModal = false; \r\n    },\r\n    confirmRename(chat) {\r\n      const newName = this.newChatName.trim();\r\n      if (newName !== '') {\r\n        chat.name = newName;\r\n      }\r\n      this.cancelRename();\r\n    },\r\n    cancelRename() {\r\n      this.editingChatId = null;\r\n      this.newChatName = '';\r\n    },\r\n    renameChat() {\r\n      const chat = this.chats.find(c => c.id === this.selectedChatId);\r\n      if (chat) this.startRenaming(chat);\r\n      this.closeModal();\r\n    },\r\n    handleSidebarSelect() {\r\n      if (window.innerWidth <= 640) {\r\n        this.$nextTick(() => {\r\n          this.$emit('toggleSidebar');\r\n        });\r\n      }\r\n    },\r\n    handleStartNewChat() {\r\n      this.$router.push(\"/chat/new\");\r\n      this.handleSidebarSelect();\r\n    },\r\n    handleBackofficeClick() {\r\n      this.$router.push('/backoffice');\r\n      this.handleSidebarSelect();\r\n    },\r\n    handleClickOutsideRename(event) {\r\n      if (!this.editingChatId) return;\r\n\r\n      const activeInput = this.$el.querySelector('.rename-input');\r\n      if (activeInput && !activeInput.contains(event.target)) {\r\n        this.cancelRename();\r\n      }\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.sidebar {\r\n  width: 200px;\r\n  background-color: #f4f4f4;\r\n  padding: 10px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-start; \r\n  position: fixed;\r\n  left: 0;\r\n  height: 100dvh;\r\n  box-shadow: 2px 0 5px rgba(0, 0, 0, 0.08);\r\n  z-index: 100;\r\n  transform: translateX(-220px);\r\n  opacity: 0;\r\n  transition: transform 0.5s ease, opacity 0.5s ease;\r\n}\r\n\r\n.sidebar.open {\r\n  transform: translateX(0);\r\n  opacity: 1;\r\n}\r\n\r\n.sidebar.closed {\r\n  transform: translateX(-220px);\r\n  opacity: 0;\r\n}\r\n\r\n.open-sidebar-button {\r\n  position: fixed;\r\n  top: 15px;\r\n  left: 15px;\r\n  border: none;\r\n  padding: 9px;\r\n  cursor: pointer;\r\n  border-radius: 8px;\r\n  font-size: 18px;\r\n  color: #4a4a4a;\r\n  z-index: 101;\r\n  transition: all 0.3s ease, transform 0.3s ease;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.open-sidebar-button:hover {\r\n  background-color: #dedede;\r\n}\r\n\r\n.open-sidebar-button::after {\r\n  content: attr(data-tooltip);\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 115%;\r\n  transform: translateY(-50%);\r\n  background: linear-gradient(135deg, #1e1e1e, #2c2c2c);\r\n  color: #fff;\r\n  padding: 6px 12px;\r\n  border-radius: 6px;\r\n  white-space: nowrap;\r\n  opacity: 0;\r\n  pointer-events: none;\r\n  transition: opacity 0.3s ease, transform 0.3s ease;\r\n  z-index: 1000;\r\n  font-size: 13px;\r\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.4);\r\n  font-weight: 500;\r\n  font-family: 'Roboto', sans-serif;\r\n}\r\n\r\n.open-sidebar-button::before {\r\n  content: '';\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 85%;\r\n  transform: translateY(-50%);\r\n  border-width: 6px;\r\n  border-style: solid;\r\n  border-color: transparent #1e1e1e transparent transparent; \r\n  opacity: 0;\r\n  transition: opacity 0.3s ease;\r\n  z-index: 999;\r\n}\r\n\r\n.open-sidebar-button:hover::after,\r\n.open-sidebar-button:hover::before {\r\n  opacity: 1;\r\n}\r\n\r\n.top-buttons {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.spacer {\r\n  flex-grow: 1;\r\n}\r\n\r\n.icon-button {\r\n  background-color: transparent;\r\n  border: none;\r\n  padding: 9px;\r\n  margin: 5px;\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  position: relative;\r\n  transition: background-color 0.3s ease, box-shadow 0.3s ease, transform 0.2s ease;\r\n}\r\n\r\n.icon-button i {\r\n  font-size: 18px;\r\n  color: #4a4a4a;\r\n  transition: color 0.2s ease;\r\n}\r\n\r\n.icon-button:hover {\r\n  background-color: #dedede;  \r\n}\r\n\r\n.icon-button::after {\r\n  content: attr(data-tooltip);\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 115%;\r\n  transform: translateY(-50%);\r\n  background: linear-gradient(135deg, #1e1e1e, #2c2c2c);\r\n  color: #fff;\r\n  padding: 7px 12px;\r\n  border-radius: 8px;\r\n  white-space: nowrap;\r\n  opacity: 0;\r\n  pointer-events: none;\r\n  transition: opacity 0.2s ease-in-out, transform 0.2s ease-in-out;\r\n  z-index: 1000;\r\n  font-size: 13px;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4); \r\n  font-weight: 500; \r\n  font-family: 'Roboto', sans-serif;\r\n}\r\n\r\n.icon-button::before {\r\n  content: '';\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 85%; \r\n  transform: translateY(-50%);\r\n  border-width: 6px;\r\n  border-style: solid;\r\n  border-color: transparent #1e1e1e transparent transparent;\r\n  opacity: 0;\r\n  transition: opacity 0.2s ease-in-out;\r\n  z-index: 999; \r\n}\r\n\r\n.icon-button:hover::after,\r\n.icon-button:hover::before {\r\n  opacity: 1;\r\n}\r\n\r\n.chats-list {\r\n  margin-top: -10px;  \r\n  padding: 0 10px;\r\n  font-family: 'Poppins', sans-serif; \r\n}\r\n\r\n.chats-title {\r\n  font-size: 13px;\r\n  color: #6b7280; \r\n  margin-bottom: 8px;\r\n  letter-spacing: 1.2px;\r\n  text-transform: uppercase;\r\n  text-align: left;\r\n  font-weight: 500; \r\n}\r\n\r\n.chat-list-container {\r\n  max-height: calc(100vh - 170px);  \r\n  overflow-y: auto;\r\n  padding-right: 15px;\r\n  margin-right: -20px;\r\n}\r\n\r\n.chat-list-container::-webkit-scrollbar {\r\n  width: 6px; \r\n}\r\n\r\n.chat-list-container::-webkit-scrollbar-thumb {\r\n  background-color: #c4c4c4;\r\n  border-radius: 3px;        \r\n}\r\n\r\n.chat-list {\r\n  list-style-type: none;\r\n  padding: 0;\r\n  margin: 0;\r\n  text-align: left;\r\n  font-size: 15px;\r\n}\r\n\r\n.chat-item {\r\n  margin-bottom: 3px;\r\n}\r\n\r\n.rename-input {\r\n  width: 100%;\r\n  font-size: 16px;\r\n  padding: 4px 14px;\r\n  border: 1.5px solid #ccc;\r\n  border-radius: 10px;\r\n  background-color: #fefefe;\r\n  outline: none;\r\n  font-weight: 500;\r\n  font-family: 'Poppins', sans-serif;\r\n  color: #333;\r\n  transition: border-color 0.3s ease, box-shadow 0.3s ease, background-color 0.3s ease;\r\n  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.icon-button:disabled {\r\n  opacity: 0.5;\r\n  pointer-events: none;\r\n}\r\n\r\n.scale-fade-enter-active,\r\n.scale-fade-leave-active {\r\n  transition: all 0.2s ease-in-out;\r\n  transform-origin: center left;\r\n}\r\n\r\n.scale-fade-enter-from,\r\n.scale-fade-leave-to {\r\n  opacity: 0;\r\n  transform: scale(0.9);\r\n}\r\n\r\n.scale-fade-leave-from,\r\n.scale-fade-enter-to {\r\n  opacity: 1;\r\n  transform: scale(1);\r\n}\r\n\r\n.chat-link {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  text-decoration: none;\r\n  color: #374151; \r\n  padding: 7px 12px;\r\n  border-radius: 8px;\r\n  transition: all 0.3s ease;\r\n  position: relative;\r\n  font-weight: 500;\r\n}\r\n\r\n.chat-link:hover {\r\n  background-color: #dedede;\r\n  transform: translateX(5px);\r\n  opacity: 1;\r\n}\r\n\r\n.chat-link::before {\r\n  content: '';\r\n  position: absolute;\r\n  left: 0;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  width: 4px;\r\n  height: 0;\r\n  background-color: #606060; \r\n  border-radius: 2px;\r\n  transition: height 0.3s ease;\r\n}\r\n\r\n.chat-link:hover::before {\r\n  height: 100%;\r\n}\r\n\r\n.chat-link:active {\r\n  background-color: #d1d5db; \r\n}\r\n\r\n.chat-link:active::before {\r\n  background-color: #606060;\r\n}\r\n\r\n.bottom-section {\r\n  margin-top: auto; \r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 10px;  \r\n}\r\n\r\n.chat-options-icon {\r\n  opacity: 0;\r\n  transform: translateX(-10px);\r\n  transition: opacity 0.3s ease, transform 0.3s ease;\r\n  margin-left: auto;\r\n  font-size: 16px;\r\n  color: #4a4a4a;\r\n}\r\n\r\n.chat-link:hover .chat-options-icon {\r\n  opacity: 1;\r\n  transform: translateX(0);\r\n}\r\n\r\n.active-chat .chat-link {\r\n  background-color: #c3c3c3 !important;\r\n  transform: translateX(5px);\r\n  opacity: 1;\r\n  transition: background-color 0.3s ease;\r\n}\r\n\r\n.active-chat .chat-options-icon {\r\n  opacity: 1;\r\n  transform: translateX(0);\r\n}\r\n\r\n.modal-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 1000;\r\n  animation: fadeInBg 0.3s ease-in-out; \r\n}\r\n\r\n.modal-content {\r\n  position: absolute;\r\n  width: 200px;\r\n  background-color: #ffffff;\r\n  padding: 12px;\r\n  border-radius: 10px;\r\n  border: 1px solid #ddd;\r\n  animation: scaleIn 0.25s ease-out forwards; \r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\r\n  transform-origin: top left;\r\n  opacity: 0;\r\n}\r\n\r\n@keyframes scaleIn {\r\n  from { transform: scale(0.8); opacity: 0; }\r\n  to { transform: scale(1); opacity: 1; }\r\n}\r\n\r\n@keyframes scaleOut {\r\n  from { transform: scale(1); opacity: 1; }\r\n  to { transform: scale(0.8); opacity: 0; }\r\n}\r\n\r\n.modal-options {\r\n  list-style: none;\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\n.modal-options li {\r\n  padding: 10px 14px;\r\n  cursor: pointer;\r\n  transition: background-color 0.25s ease, transform 0.2s ease;\r\n  display: flex;\r\n  align-items: center;\r\n  border-radius: 6px;\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n  color: #333;\r\n}\r\n\r\n.modal-options li i {\r\n  margin-right: 10px;\r\n  font-size: 18px;\r\n  color: #555;\r\n  transition: color 0.3s ease;\r\n}\r\n\r\n.modal-options li:hover {\r\n  background-color: #f8f9fa;\r\n  transform: translateX(4px); \r\n}\r\n\r\n.modal-options li:hover i {\r\n  color: #222;\r\n}\r\n\r\n.delete-option {\r\n  color: #d9534f !important;\r\n  font-weight: 600;\r\n}\r\n\r\n.delete-option i {\r\n  color: #d9534f !important;\r\n}\r\n\r\n.delete-option:hover {\r\n  background-color: #fceaea;\r\n  transform: translateX(4px);\r\n}\r\n\r\n.closing-modal {\r\n  animation: scaleOut 0.2s ease-in forwards;\r\n}\r\n\r\n.admin-panel {\r\n  text-align: center; \r\n}\r\n\r\n.admin-button {\r\n  background-color: transparent;\r\n  border: none;\r\n  padding: 9px;\r\n  margin: 5px;\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  position: relative;\r\n  transition: background-color 0.3s ease, box-shadow 0.3s ease, transform 0.2s ease;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 14px;\r\n  color: #4a4a4a;\r\n}\r\n\r\n.admin-button p {\r\n  letter-spacing: 2.7px;\r\n  padding: 0;\r\n  margin: 0;\r\n}\r\n\r\n.admin-button i {\r\n  margin-right: 5px;\r\n  font-size: 18px;\r\n  color: #4a4a4a;\r\n  transition: color 0.2s ease;\r\n}\r\n\r\n.admin-button:hover {\r\n  background-color: #dedede;\r\n}\r\n\r\n.admin-button:active {\r\n  transform: scale(0.95);\r\n}\r\n\r\n.admin-button::after {\r\n  content: \"Ir al Back Office\";\r\n  position: absolute;\r\n  top: -60%;\r\n  left: -10%;\r\n  transform: translateY(-50%);\r\n  background: linear-gradient(135deg, #1e1e1e, #2c2c2c);\r\n  color: #fff;\r\n  padding: 7px 12px;\r\n  border-radius: 8px;\r\n  white-space: nowrap;\r\n  opacity: 0;\r\n  pointer-events: none;\r\n  transition: opacity 0.2s ease-in-out, transform 0.2s ease-in-out;\r\n  z-index: 1000;\r\n  font-size: 13px;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);\r\n  font-weight: 500;\r\n  font-family: 'Roboto', sans-serif;\r\n}\r\n\r\n.admin-button::before {\r\n  content: '';\r\n  position: absolute;\r\n  top: -5%;\r\n  left: 40%;\r\n  transform: translateY(-50%);\r\n  border-width: 6px;\r\n  border-style: solid;\r\n  border-color: #1e1e1e transparent transparent transparent;\r\n  opacity: 0;\r\n  transition: opacity 0.2s ease-in-out;\r\n  z-index: 999;\r\n}\r\n\r\n.admin-button:hover::after,\r\n.admin-button:hover::before {\r\n  opacity: 1;\r\n}\r\n\r\n.profile-link {\r\n  text-decoration: none;\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 7px;\r\n  border-radius: 8px;\r\n  transition: background-color 0.3s ease;\r\n  position: relative;\r\n}\r\n\r\n.profile-link:hover {\r\n  background-color: #dedede;\r\n}\r\n\r\n.profile-container {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.profile-image {\r\n  width: 35px;\r\n  height: 35px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n  border: 2px solid #4a4a4a;\r\n}\r\n\r\n.default-icon {\r\n  font-size: 35px;\r\n  color: #4a4a4a;\r\n}\r\n\r\n.icon-button {\r\n  background-color: transparent;\r\n  border: none;\r\n  padding: 9px;\r\n  margin: 5px;\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  position: relative;\r\n  transition: background-color 0.3s ease, box-shadow 0.3s ease, transform 0.2s ease;\r\n}\r\n\r\n.icon-button i {\r\n  font-size: 18px;\r\n  color: #4a4a4a;\r\n  transition: color 0.2s ease;\r\n}\r\n\r\n.icon-button:hover {\r\n  background-color: #dedede;\r\n}\r\n\r\n/*  */\r\n@media (max-width: 640px) {\r\n  .hide-on-mobile {\r\n    display: none !important;\r\n  }\r\n}\r\n\r\n\r\n</style>\r\n","<template>\r\n  <div class=\"modal-overlay\">\r\n    <div class=\"modal-card\">\r\n      <p class=\"modal-title\">¿Eliminar chat?</p>\r\n      <hr class=\"divider\" />\r\n\r\n      <div class=\"modal-body\">\r\n        <div class=\"modal-text-wrapper\">\r\n          <p class=\"modal-text\">\r\n            Esto eliminará <strong>{{ chatName }}</strong>.\r\n          </p>\r\n          <p class=\"modal-subtext\">\r\n            Al eliminar este chat, <strong>KIIBOT</strong> olvidará todo lo aprendido durante esta conversación. Esta acción no se puede deshacer.\r\n          </p>\r\n        </div>\r\n\r\n        <div class=\"modal-image\">\r\n          <img src=\"../../assets/img/advertencia.webp\" alt=\"KIIBOT Adv\" loading=\"lazy\"/>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"modal-actions\">\r\n        <button class=\"btn-cancel\" @click=\"$emit('cancel-delete')\">Cancelar</button>\r\n        <button class=\"btn-delete\" @click=\"$emit('confirm-delete', chatId)\">Eliminar</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'ConfirmDeleteModal',\r\n  props: {\r\n    chatId: {\r\n      type: [String, Number],\r\n      required: true\r\n    },\r\n    chatName: {\r\n      type: String,\r\n      required: true\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap');\r\n\r\n.modal-overlay {\r\n  position: fixed;\r\n  inset: 0;\r\n  background-color: rgba(0, 0, 0, 0.45);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 9999;\r\n  backdrop-filter: blur(2px);\r\n}\r\n\r\n.modal-card {\r\n  background-color: #ffffff;\r\n  border-radius: 20px;\r\n  width: 95%;\r\n  max-width: 400px;\r\n  padding: 1rem 2rem;\r\n  box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);\r\n  display: flex;\r\n  flex-direction: column;\r\n  animation: fadeIn 0.3s ease-out;\r\n}\r\n\r\n@keyframes fadeIn {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(15px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n}\r\n\r\n.modal-title {\r\n  font-size: 24px;\r\n  font-weight: 500;\r\n  font-family: 'Inter', sans-serif;\r\n  color: #1a1a1a;\r\n  margin: 0;\r\n  text-align: center;\r\n  letter-spacing: 1px;\r\n  text-align: left;\r\n}\r\n\r\n.divider {\r\n  margin: 15px 0 15px;\r\n  border: none;\r\n  height: 1.2px;\r\n  background-color: #ddd;\r\n}\r\n\r\n.modal-body {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n}\r\n\r\n.modal-image {\r\n  flex-shrink: 0;\r\n  width: 100px;\r\n  height: 100px;\r\n  overflow: hidden;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.modal-image img {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: contain;\r\n}\r\n\r\n.modal-text-wrapper {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items:flex-start;\r\n  max-width: 350px;\r\n}\r\n\r\n.modal-text {\r\n  font-size: 18px;\r\n  color: #222;\r\n  margin: 0;\r\n  font-family: 'Inter', sans-serif;\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.modal-text strong {\r\n  font-weight: 700;\r\n  color: #000;\r\n}\r\n\r\n.modal-subtext {\r\n  font-size: 14px;\r\n  color: #555;\r\n  line-height: 1.5;\r\n  margin: 0;\r\n  text-align: left;\r\n  max-width: 300px;\r\n}\r\n\r\n.modal-subtext strong {\r\n  color: #007bff;\r\n}\r\n\r\n.modal-actions {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 16px;\r\n  margin-top: 32px;\r\n}\r\n\r\n.btn-cancel {\r\n  padding: 10px 22px;\r\n  font-size: 15px;\r\n  border-radius: 9999px;\r\n  background-color: #fff;\r\n  color: #333;\r\n  border: 2px solid #ccc;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  font-weight: 500;\r\n}\r\n\r\n.btn-cancel:hover {\r\n  background-color: #f5f5f5;\r\n  border-color: #bbb;\r\n}\r\n\r\n.btn-delete {\r\n  padding: 10px 22px;\r\n  font-size: 15px;\r\n  border-radius: 9999px;\r\n  background-color: #d93025;\r\n  color: #fff;\r\n  border: 2px solid #d93025;\r\n  box-shadow: 0 0 0 2px white inset;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  font-weight: 600;\r\n}\r\n\r\n.btn-delete:hover {\r\n  background-color: #b9281f;\r\n  border-color: #b9281f;\r\n}\r\n\r\n\r\n/* Responsive */\r\n@media (max-width: 600px) {\r\n  .modal-card {\r\n    padding: 1rem 1.2rem;\r\n    max-width: 80%;\r\n    border-radius: 14px;\r\n  }\r\n\r\n  .modal-title {\r\n    font-size: 20px;\r\n    text-align: center;\r\n  }\r\n\r\n  .modal-body {\r\n    flex-direction: column;\r\n    gap: 12px;\r\n    text-align: center;\r\n  }\r\n\r\n  .modal-image {\r\n    width: 80px;\r\n    height: 80px;\r\n    margin: 0 auto;\r\n  }\r\n\r\n  .modal-text-wrapper {\r\n    align-items: center;\r\n    max-width: 100%;\r\n  }\r\n\r\n  .modal-text {\r\n    font-size: 16px;\r\n    text-align: center;\r\n  }\r\n\r\n  .modal-subtext {\r\n    font-size: 13px;\r\n    text-align: center;\r\n    max-width: 100%;\r\n  }\r\n\r\n  .modal-actions {\r\n    flex-direction: column;\r\n    align-items: stretch;\r\n    gap: 10px;\r\n    margin-top: 24px;\r\n  }\r\n\r\n  .btn-cancel,\r\n  .btn-delete {\r\n    width: 100%;\r\n    font-size: 14px;\r\n    padding: 10px 16px;\r\n  }\r\n}\r\n</style>","import { render } from \"./ConfirmDeleteModal.vue?vue&type=template&id=42f4ba7e&scoped=true\"\nimport script from \"./ConfirmDeleteModal.vue?vue&type=script&lang=js\"\nexport * from \"./ConfirmDeleteModal.vue?vue&type=script&lang=js\"\n\nimport \"./ConfirmDeleteModal.vue?vue&type=style&index=0&id=42f4ba7e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-42f4ba7e\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"modal-overlay\" @click.self=\"$emit('close')\">\r\n    <transition name=\"modal-slide\" appear>\r\n      <div class=\"modal-card\">\r\n\r\n        <div class=\"modal-header\">\r\n          <input\r\n            ref=\"searchInput\"\r\n            v-model=\"search\"\r\n            type=\"text\"\r\n            class=\"search-input\"\r\n            placeholder=\"Buscar chats...\"\r\n            @input=\"handleSearch\"\r\n          />\r\n          <button class=\"close-button\" @click=\"$emit('close')\">\r\n            <i class=\"fas fa-times\"></i>\r\n          </button>\r\n        </div>\r\n\r\n        <div class=\"modal-results-container\">\r\n          <ul v-if=\"filteredResults.length > 0\" class=\"results-list\">\r\n            <li\r\n              v-for=\"item in filteredResults\"\r\n              :key=\"item.id\"\r\n              class=\"result-item\"\r\n              @click=\"selectResult(item)\"\r\n            >\r\n              <i class=\"fas fa-comment-alt icon\"></i>\r\n              <span class=\"item-text\">{{ item.name }}</span>\r\n            </li>\r\n          </ul>\r\n\r\n          <div v-else class=\"no-results-container\">\r\n            <img src=\"../../assets/img/buscar.webp\" alt=\"Sin resultados\" class=\"no-results-image\" loading=\"lazy\"/>\r\n            <p class=\"no-results-title\">Sin coincidencias encontradas</p>\r\n            <p class=\"no-results-subtext\">\r\n              Intenta con otro término o revisa la ortografía. A veces una palabra clave puede marcar la diferencia.\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </transition>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'SearchModal',\r\n  props: {\r\n    modelValue: Boolean,\r\n    chats: {\r\n      type: Array,\r\n      required: true\r\n    }\r\n  },\r\n  emits: ['update:modelValue', 'close'],\r\n  data() {\r\n    return {\r\n      search: '',\r\n      results: [\r\n        { id: 2, name: 'Fragmento de cliente molesto', type: 'fragment' },\r\n        { id: 4, name: 'Fragmento importante', type: 'fragment' },\r\n      ]\r\n    };\r\n  },\r\n  computed: {\r\n    filteredResults() {\r\n      const text = this.search.toLowerCase();\r\n      const chatResults = this.chats.map(chat => ({ ...chat, type: 'chat' }));\r\n      const combined = [...chatResults, ...this.results];\r\n\r\n      return combined.filter(item => {\r\n        const isMatch = item.name.toLowerCase().includes(text);\r\n        const isChat = item.type === 'chat';\r\n        return this.search === '' ? isChat : isMatch;\r\n      });\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n      this.$refs.searchInput?.focus();\r\n    });\r\n  },\r\n  methods: {\r\n    closeModal() {\r\n      this.$emit('update:modelValue', false);\r\n      this.search = '';\r\n    },\r\n    selectResult(result) {\r\n      if (result.type === 'chat') {\r\n        this.$emit('close');\r\n        this.$router.push(`/chat/${result.id}`); \r\n      } else {\r\n        // Fragmentos Logica\r\n        this.$emit('close');\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap');\r\n\r\n.modal-slide-enter-active,\r\n.modal-slide-leave-active {\r\n  transition: all 0.45s ease;\r\n}\r\n\r\n.modal-slide-enter-from {\r\n  opacity: 0;\r\n  transform: translateY(80px) scale(0.98);\r\n}\r\n\r\n.modal-slide-enter-to {\r\n  opacity: 1;\r\n  transform: translateY(0) scale(1);\r\n}\r\n\r\n.modal-slide-leave-from {\r\n  opacity: 1;\r\n  transform: translateY(0) scale(1);\r\n}\r\n\r\n.modal-slide-leave-to {\r\n  opacity: 0;\r\n  transform: translateY(-60px) scale(0.95);\r\n}\r\n\r\n.modal-overlay {\r\n  position: fixed;\r\n  inset: 0;\r\n  background-color: rgba(0, 0, 0, 0.4);\r\n  backdrop-filter: blur(2px);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 9999;\r\n}\r\n\r\n.modal-card {\r\n  background-color: #fff;\r\n  width: 95%;\r\n  max-width: 600px;\r\n  max-height: 60vh;\r\n  border-radius: 16px;\r\n  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);\r\n  font-family: 'Inter', sans-serif;\r\n  overflow: hidden;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.modal-header {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 14px 16px;\r\n  border-bottom: 1px solid #e5e7eb;\r\n  background-color: #fff;\r\n}\r\n\r\n.search-input {\r\n  flex-grow: 1;\r\n  border: none;\r\n  outline: none;\r\n  font-size: 15px;\r\n  padding: 8px 10px;\r\n  font-family: inherit;\r\n  background-color: transparent;\r\n  color: #111;\r\n}\r\n\r\n.search-input::placeholder {\r\n  color: #9ca3af;\r\n}\r\n\r\n.close-button {\r\n  background: none;\r\n  border: none;\r\n  font-size: 18px;\r\n  color: #6b7280;\r\n  padding: 6px;\r\n  margin-left: 8px;\r\n  cursor: pointer;\r\n  transition: color 0.2s ease;\r\n}\r\n\r\n.close-button:hover {\r\n  color: #111;\r\n}\r\n\r\n.modal-results-container {\r\n  overflow-y: auto;\r\n  flex: 1;\r\n  padding: 11px 0;\r\n}\r\n\r\n.results-list {\r\n  list-style: none;\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\n.result-item {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 16px 16px;\r\n  cursor: pointer;\r\n  transition: background-color 0.2s ease;\r\n}\r\n\r\n.result-item:hover {\r\n  background-color: #f3f4f6;\r\n}\r\n\r\n.result-item .icon {\r\n  font-size: 16px;\r\n  color: #6b7280;\r\n  margin-right: 12px;\r\n}\r\n\r\n.item-text {\r\n  font-size: 15px;\r\n  font-weight: 500;\r\n  color: #1f2937;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  max-width: 90%;\r\n}\r\n\r\n.no-results-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 10px;\r\n  animation: fadeIn 0.4s ease-in-out;\r\n  border-radius: 12px;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.no-results-image {\r\n  width: 120px;\r\n  height: 120px;\r\n  object-fit: contain;\r\n  animation: float 3s ease-in-out infinite;\r\n  transform-origin: center;\r\n  filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.1));\r\n}\r\n\r\n@keyframes float {\r\n  0% { transform: translateY(0); }\r\n  50% { transform: translateY(5px); }\r\n  100% { transform: translateY(0); }\r\n}\r\n\r\n.no-results-title {\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  color: #1f2937;\r\n  font-family: 'Inter', sans-serif;\r\n}\r\n\r\n.no-results-subtext {\r\n  font-size: 14px;\r\n  color: #6b7280;\r\n  font-family: 'Inter', sans-serif;\r\n  max-width: 360px;\r\n  text-align: center;\r\n  line-height: 1.6;\r\n  opacity: 0.85;\r\n  margin-top: -10px;\r\n}\r\n\r\n@keyframes fadeIn {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(10px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n}\r\n\r\n</style>\r\n\r\n\r\n","import { render } from \"./SearchModal.vue?vue&type=template&id=02981eed&scoped=true\"\nimport script from \"./SearchModal.vue?vue&type=script&lang=js\"\nexport * from \"./SearchModal.vue?vue&type=script&lang=js\"\n\nimport \"./SearchModal.vue?vue&type=style&index=0&id=02981eed&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-02981eed\"]])\n\nexport default __exports__","import mitt from 'mitt'\r\nexport const bus = mitt()\r\n","import { render } from \"./SidebarView.vue?vue&type=template&id=9e95fc26&scoped=true\"\nimport script from \"./SidebarView.vue?vue&type=script&lang=js\"\nexport * from \"./SidebarView.vue?vue&type=script&lang=js\"\n\nimport \"./SidebarView.vue?vue&type=style&index=0&id=9e95fc26&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-9e95fc26\"]])\n\nexport default __exports__","import { render } from \"./MainLayout.vue?vue&type=template&id=7b85376a&scoped=true\"\nimport script from \"./MainLayout.vue?vue&type=script&lang=js\"\nexport * from \"./MainLayout.vue?vue&type=script&lang=js\"\n\nimport \"./MainLayout.vue?vue&type=style&index=0&id=7b85376a&lang=css\"\nimport \"./MainLayout.vue?vue&type=style&index=1&id=7b85376a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7b85376a\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"profile-page\">\r\n\r\n    <div class=\"profile-header\">\r\n      <div class=\"profile-photo\">\r\n        <img :src=\"profileImage\" alt=\"Foto de perfil\" />\r\n        <label v-if=\"isEditing\" class=\"edit-icon\">\r\n          <i class=\"fas fa-camera\"></i>\r\n          <input type=\"file\" @change=\"updateProfileImage\" hidden />\r\n        </label>\r\n      </div>\r\n\r\n      <div class=\"profile-info\">\r\n        <div class=\"info-row\">\r\n          <input \r\n            :readonly=\"!isEditing\" \r\n            v-model=\"name\" \r\n            :class=\"['editable-field', nameError && 'invalid']\"\r\n          />\r\n          <p v-if=\"nameError && isEditing\" class=\"field-error\">{{ nameError }}</p>\r\n\r\n          <input \r\n            :readonly=\"!isEditing\" \r\n            v-model=\"email\" \r\n            :class=\"['editable-field', emailError && 'invalid']\"\r\n          />\r\n          <p v-if=\"emailError && isEditing\" class=\"field-error\">{{ emailError }}</p>\r\n\r\n          <div v-if=\"toastMessage\" :class=\"['toast', toastType]\" @click=\"closeToast\">\r\n            {{ toastMessage }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"actions\">\r\n        <i v-if=\"!isEditing\" class=\"fas fa-pencil-alt\" @click=\"toggleEdit\" title=\"Editar perfil\"></i>\r\n        <i v-else :class=\"['fas', isSaving ? 'fa-spinner fa-spin' : 'fa-save']\" @click=\"saveChanges\" title=\"Guardar cambios\"></i>\r\n        <i class=\"fas fa-key\" @click=\"showChangePassword = true\" title=\"Cambiar contraseña\"></i>\r\n        <i class=\"fas fa-sign-out-alt\" @click=\"handleLogout\" title=\"Cerrar sesión\"></i>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"metrics-section\">\r\n      <div class=\"metric-card\">\r\n        <i class=\"fas fa-paper-plane icon\"></i>\r\n        <h3>Mensajes enviados</h3>\r\n        <p>{{ metrics.sentMessages }}</p>\r\n      </div>\r\n      <div class=\"metric-card\">\r\n        <i class=\"fas fa-robot icon\"></i>\r\n        <h3>Respondidos por el bot</h3>\r\n        <p>{{ metrics.botReplies }}</p>\r\n      </div>\r\n      <div class=\"metric-card\">\r\n        <i class=\"fas fa-comments icon\"></i>\r\n        <h3>Cantidad de chats</h3>\r\n        <p>{{ metrics.totalChats }}</p>\r\n      </div>\r\n    </div>\r\n\r\n    <div v-if=\"showChangePassword\" class=\"modal-overlay\" @click.self=\"closeChangePasswordModal\">\r\n      <div class=\"modal-password clean\">\r\n        <h2>CAMBIAR CONTRASEÑA</h2>\r\n        <p class=\"subtext\">Introduce y confirma tu nueva contraseña</p>\r\n\r\n        <div class=\"input-group\">\r\n          <i class=\"fas fa-lock\"></i>\r\n          <input \r\n            :type=\"showNewPassword ? 'text' : 'password'\" \r\n            v-model=\"newPassword\" \r\n            placeholder=\"Contraseña\"\r\n          />\r\n          <i \r\n            :class=\"showNewPassword ? 'fas fa-eye-slash' : 'fas fa-eye'\" \r\n            @click=\"togglePassword('new')\" \r\n            class=\"toggle\"\r\n          ></i>\r\n        </div>\r\n\r\n        <div class=\"input-group\">\r\n          <i class=\"fas fa-lock\"></i>\r\n          <input \r\n            :type=\"showConfirmPassword ? 'text' : 'password'\" \r\n            v-model=\"confirmPassword\" \r\n            placeholder=\"Repetir contraseña\"\r\n          />\r\n          <i \r\n            :class=\"showConfirmPassword ? 'fas fa-eye-slash' : 'fas fa-eye'\" \r\n            @click=\"togglePassword('confirm')\" \r\n            class=\"toggle\"\r\n          ></i>\r\n        </div>\r\n\r\n        <p v-if=\"errorMessage\" class=\"error-text\">{{ errorMessage }}</p>\r\n\r\n        <div v-if=\"passwordToastMessage\" :class=\"['toast', passwordToastType]\" @click=\"closePasswordToast\">\r\n          {{ passwordToastMessage }}\r\n        </div>\r\n\r\n        <ul class=\"rules-list\">\r\n          <li :class=\"{ valid: passwordValidations.hasUppercase }\">\r\n            <i class=\"fas\" :class=\"passwordValidations.hasUppercase ? 'fa-check-circle' : 'fa-times-circle'\"></i>\r\n            Una letra mayúscula\r\n          </li>\r\n          <li :class=\"{ valid: passwordValidations.hasLowercase }\">\r\n            <i class=\"fas\" :class=\"passwordValidations.hasLowercase ? 'fa-check-circle' : 'fa-times-circle'\"></i>\r\n            Una letra minúscula\r\n          </li>\r\n          <li :class=\"{ valid: passwordValidations.minLength }\">\r\n            <i class=\"fas\" :class=\"passwordValidations.minLength ? 'fa-check-circle' : 'fa-times-circle'\"></i>\r\n            8 caracteres como mínimo\r\n          </li>\r\n          <li :class=\"{ valid: passwordValidations.hasNumberOrSpecial }\">\r\n            <i class=\"fas\" :class=\"passwordValidations.hasNumberOrSpecial ? 'fa-check-circle' : 'fa-times-circle'\"></i>\r\n            Un número y/o carácter especial\r\n          </li>\r\n        </ul>\r\n\r\n        <button class=\"btn-change\" @click=\"changePassword\" :disabled=\"isChangingPassword\">\r\n          <i v-if=\"isChangingPassword\" class=\"fas fa-spinner fa-spin\"></i>\r\n          <template v-else>Cambiar contraseña</template>\r\n        </button>\r\n\r\n        <button class=\"btn-cancel\" @click=\"closeChangePasswordModal\" :disabled=\"isChangingPassword\">\r\n          Cancelar\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <div v-if=\"isLoggingOut\" class=\"logout-modal-overlay\">\r\n      <div class=\"logout-modal\">\r\n        <img \r\n          src=\"../assets/img/saludo.webp\" \r\n          alt=\"Robot despidiéndose\" \r\n          class=\"logout-image\" \r\n          loading=\"lazy\"\r\n        />\r\n        <p>Hasta luego, {{ name }} 👋</p>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { bus } from '@/eventBus'\r\n\r\nexport default {\r\n  name: \"ProfileView\",\r\n  data() {\r\n    return {\r\n      profileImage: localStorage.getItem(\"profile_photo\") || require('@/assets/img/default-avatar.webp'),\r\n      name: localStorage.getItem(\"name\") || \"\",\r\n      email: localStorage.getItem(\"email\") || \"\",\r\n      isEditing: false,\r\n      newPassword: \"\",\r\n      confirmPassword: \"\",\r\n      showChangePassword: false,\r\n      metrics: {\r\n        sentMessages: 356,\r\n        botReplies: 289,\r\n        totalChats: 72,\r\n      },\r\n      isLoggingOut: false,\r\n      showNewPassword: false,\r\n      showConfirmPassword: false,\r\n      errorMessage: \"\",\r\n      nameError: '',\r\n      emailError: '',\r\n      isSaving: false,\r\n      toastMessage: '',\r\n      toastType: '',\r\n      passwordToastMessage: '',\r\n      passwordToastType: '',\r\n      isChangingPassword: false,\r\n    };\r\n  },\r\n  computed: {\r\n    passwordValidations() {\r\n      const pwd = this.newPassword;\r\n      return {\r\n        hasUppercase: /[A-Z]/.test(pwd),\r\n        hasLowercase: /[a-z]/.test(pwd),\r\n        hasNumberOrSpecial: /[\\d\\W]/.test(pwd),\r\n        minLength: pwd.length >= 8,\r\n      };\r\n    }\r\n  },\r\n  watch: {\r\n    showChangePassword(newVal) {\r\n      document.body.style.overflow = newVal ? \"hidden\" : \"\";\r\n    }\r\n  },\r\n  methods: {\r\n    toggleEdit() {\r\n      this.isEditing = true;\r\n    },\r\n    async saveChanges() {\r\n      this.nameError = '';\r\n      this.emailError = '';\r\n      this.isSaving = true;\r\n\r\n      const nameValid = this.name.trim().length >= 3;\r\n      const emailValid = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(this.email.trim());\r\n\r\n      if (!nameValid) this.nameError = 'El nombre debe tener al menos 3 caracteres.';\r\n      if (!emailValid) this.emailError = 'El correo no es válido.';\r\n\r\n      if (!nameValid || !emailValid) {\r\n        this.isSaving = false;\r\n        return;\r\n      }\r\n\r\n      localStorage.setItem(\"name\", this.name);\r\n      localStorage.setItem(\"email\", this.email);\r\n\r\n      this.isEditing = false;\r\n      this.isSaving = false;\r\n      this.showToast(\"Perfil actualizado exitosamente.\", \"success\");\r\n    },\r\n    showToast(message, type = \"success\") {\r\n      this.toastMessage = message;\r\n      this.toastType = type;\r\n      setTimeout(() => {\r\n        this.toastMessage = '';\r\n        this.toastType = '';\r\n      }, 2000); \r\n    },\r\n    closeToast() {\r\n      this.toastMessage = '';\r\n      this.toastType = '';\r\n    },\r\n    async updateProfileImage(event) { \r\n      const file = event.target.files[0];\r\n      if (file) {\r\n        const reader = new FileReader();\r\n        reader.onload = (e) => {\r\n          const base64Image = e.target.result;\r\n          this.profileImage = base64Image;\r\n\r\n          localStorage.setItem(\"profile_photo\", base64Image);\r\n          bus.emit('profile-updated', base64Image);\r\n        };\r\n        reader.readAsDataURL(file);\r\n      }\r\n    },\r\n    async changePassword() {\r\n      const v = this.passwordValidations;\r\n\r\n      if (!v.hasUppercase || !v.hasLowercase || !v.minLength || !v.hasNumberOrSpecial) {\r\n        this.errorMessage = \"Tu contraseña no cumple con los requisitos.\";\r\n        return;\r\n      }\r\n\r\n      if (this.newPassword !== this.confirmPassword) {\r\n        this.errorMessage = \"Las contraseñas no coinciden.\";\r\n        return;\r\n      }\r\n\r\n      this.isChangingPassword = true;\r\n\r\n      setTimeout(() => {\r\n        this.showPasswordToast(\"Contraseña cambiada exitosamente.\", \"success\");\r\n        this.errorMessage = \"\";\r\n        this.showChangePassword = false;\r\n        this.newPassword = \"\";\r\n        this.confirmPassword = \"\";\r\n        this.isChangingPassword = false;\r\n      }, 2000);\r\n    },\r\n    showPasswordToast(message, type = \"success\") {\r\n      this.passwordToastMessage = message;\r\n      this.passwordToastType = type;\r\n      setTimeout(() => {\r\n        this.passwordToastMessage = '';\r\n        this.passwordToastType = '';\r\n      }, 2500); \r\n    },\r\n    closeChangePasswordModal() {\r\n      if (this.isChangingPassword) return; \r\n      this.showChangePassword = false;\r\n    },\r\n    closePasswordToast() {\r\n      this.passwordToastMessage = '';\r\n      this.passwordToastType = '';\r\n    },\r\n    togglePassword(field) {\r\n      if (field === \"new\") this.showNewPassword = !this.showNewPassword;\r\n      if (field === \"confirm\") this.showConfirmPassword = !this.showConfirmPassword;\r\n    },\r\n    async handleLogout() {\r\n      this.isLoggingOut = true;\r\n\r\n      localStorage.removeItem(\"token\");\r\n      localStorage.removeItem(\"role\");\r\n      localStorage.removeItem(\"name\");\r\n      localStorage.removeItem(\"email\");\r\n      localStorage.removeItem(\"profile_photo\");\r\n\r\n      setTimeout(() => {\r\n        this.$router.push(\"/login\");\r\n      }, 2000);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.profile-page {\r\n  max-width: 100%;\r\n  padding: 16px;\r\n  margin: 0 auto;\r\n  box-sizing: border-box;\r\n  overflow-x: hidden;\r\n  font-family: 'Poppins', sans-serif;\r\n}\r\n\r\n.profile-header {\r\n  margin-top: -20px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 40px;\r\n  padding: 25px;\r\n  background-color: #fafafa;\r\n  border-bottom: 2px solid #eee;\r\n  border-radius: 12px;\r\n  position: relative;\r\n}\r\n\r\n.profile-photo {\r\n  flex-shrink: 0;\r\n  width: 120px;\r\n  height: 120px;\r\n  position: relative;\r\n}\r\n\r\n.profile-photo img {\r\n  width: 100%;\r\n  height: 100%;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n  border: 3px solid #4a4a4a;\r\n}\r\n\r\n.edit-icon {\r\n  position: absolute;\r\n  bottom: -6px;\r\n  right: -6px;\r\n  background: #fff;\r\n  border-radius: 50%;\r\n  padding: 8px;\r\n  cursor: pointer;\r\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);\r\n  transition: background 0.3s ease;\r\n}\r\n\r\n.edit-icon:hover {\r\n  background: #e9e9e9;\r\n}\r\n\r\n.edit-icon i {\r\n  font-size: 16px;\r\n  color: #4a4a4a;\r\n}\r\n\r\n.profile-info {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n}\r\n\r\n.info-row {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\r\n}\r\n\r\n.editable-field {\r\n  padding: 10px 14px;\r\n  border: 1.5px solid #ccc;\r\n  border-radius: 8px;\r\n  font-size: 16px;\r\n  transition: all 0.2s ease;\r\n  background-color: #fff;\r\n  color: #333;\r\n  font-weight: 500;\r\n}\r\n\r\n.editable-field:read-only {\r\n  background-color: #f0f0f0;\r\n  color: #6b7280;\r\n  border: 1.5px solid #ddd;\r\n  cursor: default;\r\n  user-select: none;\r\n  pointer-events: none;\r\n  font-weight: 500;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.editable-field:not(:read-only):focus {\r\n  outline: none;\r\n  border-color: #007bff;\r\n  background-color: #fff;\r\n  box-shadow: 0 0 0 2px rgba(74, 144, 226, 0.2);\r\n}\r\n\r\n.field-error {\r\n  font-size: 13px;\r\n  color: #ef4444;\r\n  font-weight: 500;\r\n  animation: fadeIn 0.3s ease;\r\n  text-align: left;\r\n  padding: 0;\r\n  margin: 0 0 0 15px;\r\n}\r\n\r\n.editable-field.invalid {\r\n  border-color: #ef4444 !important;\r\n  box-shadow: 0 0 0 2px rgba(239, 68, 68, 0.2);\r\n  background-color: #fff5f5;\r\n}\r\n\r\n.actions {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 18px;\r\n}\r\n\r\n.actions i {\r\n  font-size: 18px;\r\n  color: #4a4a4a;\r\n  cursor: pointer;\r\n  transition: color 0.3s ease, transform 0.2s ease;\r\n}\r\n\r\n.actions i:hover {\r\n  color: #222;\r\n  transform: scale(1.2);\r\n}\r\n\r\n.metrics-section {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));\r\n  gap: 28px;\r\n  margin-top: 45px;\r\n  padding: 0 15px;\r\n}\r\n\r\n.metric-card {\r\n  position: relative;\r\n  background: linear-gradient(145deg, #ffffff, #f8f9fb);\r\n  border-radius: 18px;\r\n  padding: 30px 20px;\r\n  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.07);\r\n  text-align: center;\r\n  border: 1.5px solid #e5e7eb;\r\n  transition: all 0.3s ease;\r\n  overflow: hidden;\r\n}\r\n\r\n.metric-card .icon {\r\n  background-color: #007bff; \r\n  color: white;\r\n  font-size: 20px;\r\n  width: 48px;\r\n  height: 48px;\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin: 0 auto 16px auto;\r\n  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);\r\n  transition: background 0.3s ease;\r\n}\r\n\r\n.metric-card h3 {\r\n  font-size: 14.5px;\r\n  color: #4b5563;\r\n  text-transform: uppercase;\r\n  font-weight: 600;\r\n  margin-bottom: 6px;\r\n  letter-spacing: 0.7px;\r\n}\r\n\r\n.metric-card p {\r\n  font-size: 24px;\r\n  font-weight: 700;\r\n  color: #111827;\r\n  margin: 0;\r\n  line-height: 1.2;\r\n}\r\n\r\n.modal-overlay {\r\n  position: fixed;\r\n  inset: 0;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  backdrop-filter: blur(6px);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 9999;\r\n  animation: fadeIn 0.3s ease-in-out;\r\n  pointer-events: all;\r\n}\r\n\r\n.modal-password.clean {\r\n  background: #fff;\r\n  padding: 20px 40px;\r\n  border-radius: 16px;\r\n  width: 100%;\r\n  max-width: 500px;\r\n  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.12);\r\n  text-align: center;\r\n  animation: slideUp 0.4s ease;\r\n  font-family: 'Poppins', sans-serif;\r\n}\r\n\r\n.modal-password.clean h2 {\r\n  font-size: 26px;\r\n  font-weight: 700;\r\n  color: #1f2937;\r\n  font-family: 'Roboto Slab', serif;\r\n  letter-spacing: 0.5px;\r\n  text-transform: uppercase;\r\n  padding: 0;\r\n}\r\n\r\n.modal-password.clean .subtext {\r\n  font-size: 15px;\r\n  font-weight: 400;\r\n  color: #6b7280;\r\n  font-family: 'Inter', sans-serif; \r\n  margin-bottom: 25px;\r\n  margin-top: -25px !important; \r\n  padding: 0;\r\n  line-height: 1.4;\r\n}\r\n\r\n.input-group {\r\n  position: relative;\r\n  margin-bottom: 18px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.input-group input {\r\n  width: 100%;\r\n  padding: 12px 40px 12px 38px;\r\n  font-size: 15px;\r\n  border-radius: 10px;\r\n  border: 1.5px solid #d0d5dd;\r\n  background-color: #f9f9f9;\r\n  transition: border 0.3s ease, box-shadow 0.3s ease;\r\n}\r\n\r\n.input-group input:focus {\r\n  border-color: #007bff;\r\n  outline: none;\r\n  background-color: #fff;\r\n  box-shadow: 0 0 0 2px rgba(74, 144, 226, 0.15);\r\n}\r\n\r\n.input-group i {\r\n  position: absolute;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  color: #a3a3a3;\r\n  font-size: 16px;\r\n  pointer-events: none;\r\n}\r\n\r\n.input-group i.fas.fa-lock {\r\n  left: 12px;\r\n}\r\n\r\n.input-group .toggle {\r\n  right: 12px;\r\n  pointer-events: auto;\r\n  cursor: pointer;\r\n  transition: color 0.2s ease;\r\n}\r\n\r\n.input-group .toggle:hover {\r\n  color: #4a90e2;\r\n}\r\n\r\n.error-text {\r\n  margin-top: -5px;\r\n  margin-bottom: 25px;\r\n  color: #ef4444;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  text-align: center;\r\n  animation: fadeIn 0.3s ease;\r\n}\r\n\r\n.rules-list {\r\n  margin: 30px 0;\r\n  padding: 0;\r\n  list-style: none;\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n  gap: 12px 30px;\r\n}\r\n\r\n.rules-list li {\r\n  font-size: 15px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  color: #a1a1aa;\r\n  font-weight: 500;\r\n  transition: color 0.3s ease;\r\n  white-space: nowrap;\r\n}\r\n\r\n.rules-list li.valid {\r\n  color: #22c55e;\r\n}\r\n\r\n.rules-list li:not(.valid) {\r\n  color: #626262;\r\n}\r\n\r\n.rules-list i {\r\n  font-size: 16px;\r\n  transition: color 0.3s ease;\r\n}\r\n\r\n.rules-list li.valid i {\r\n  color: #22c55e;\r\n}\r\n\r\n.rules-list li:not(.valid) i {\r\n  color: #ef4444;\r\n}\r\n\r\n.btn-change {\r\n  width: 100%;\r\n  background-color: #007bff;\r\n  color: white;\r\n  border: none;\r\n  padding: 12px;\r\n  font-size: 16px;\r\n  border-radius: 10px;\r\n  font-weight: 500;\r\n  transition: background-color 0.3s ease;\r\n}\r\n\r\n.btn-change:hover {\r\n  background-color: #0064d6;\r\n}\r\n\r\n.btn-cancel {\r\n  width: 100%;\r\n  background-color: #e5e7eb;\r\n  color: #333;\r\n  border: none;\r\n  padding: 12px;\r\n  font-size: 16px;\r\n  border-radius: 10px;\r\n  font-weight: 500;\r\n  margin-top: 12px;\r\n  transition: background-color 0.3s ease;\r\n}\r\n\r\n.btn-cancel:hover {\r\n  background-color: #c8c9cc;\r\n}\r\n\r\n.btn-change:disabled {\r\n  background-color: #9ca3af; \r\n  cursor: not-allowed;\r\n}\r\n\r\n.logout-modal-overlay {\r\n  position: fixed;\r\n  inset: 0;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  backdrop-filter: blur(6px);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 9999;\r\n  animation: fadeIn 0.3s ease-in-out;\r\n  pointer-events: all;\r\n}\r\n\r\n.logout-modal {\r\n  background: linear-gradient(145deg, #ffffff, #f3f3f3);\r\n  padding: 20px 10px;\r\n  border-radius: 20px;\r\n  box-shadow: 0 12px 30px rgba(0, 0, 0, 0.25);\r\n  text-align: center;\r\n  max-width: 360px;\r\n  width: 90%;\r\n  animation: slideUp 0.4s ease;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  border: 2px solid #e3e3e3;\r\n  position: relative;\r\n}\r\n\r\n@keyframes slideUp {\r\n  from {\r\n    transform: translateY(40px);\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    transform: translateY(0);\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n.logout-image {\r\n  width: 130px;\r\n  height: auto;\r\n  margin-bottom: 25px;\r\n  animation: float 3s ease-in-out infinite;\r\n  filter: drop-shadow(0 6px 12px rgba(0, 0, 0, 0.15));\r\n}\r\n\r\n@keyframes float {\r\n  0%, 100% { transform: translateY(0); }\r\n  50% { transform: translateY(-8px); }\r\n}\r\n\r\n.logout-modal p {\r\n  font-size: 20px;\r\n  font-weight: 600;\r\n  color: #2e2e2e;\r\n  animation: fadePulse 1.8s ease-in-out infinite;\r\n  margin-top: 0;\r\n  font-family: 'Poppins', sans-serif;\r\n}\r\n\r\n@keyframes fadePulse {\r\n  0%, 100% { opacity: 1; }\r\n  50% { opacity: 0.65; }\r\n}\r\n\r\n/*  */\r\n.toast {\r\n  position: relative;\r\n  margin-top: 5px;\r\n  background: #ffff;\r\n  color: #374151;\r\n  border-radius: 12px;\r\n  padding: 12px 18px;\r\n  font-size: 14.5px;\r\n  font-weight: 600;\r\n  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);\r\n  animation: toastFadeIn 0.4s ease, toastFadeOut 0.5s ease 2.8s;\r\n  transition: all 0.3s ease;\r\n  z-index: 5;\r\n  max-width: 100%;\r\n  letter-spacing: 0.25px;\r\n  text-align: center;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.toast.success {\r\n  border-left: 5px solid #10b981;\r\n}\r\n\r\n.toast.error {\r\n  border-left: 5px solid #ef4444;\r\n}\r\n\r\n@keyframes toastFadeIn {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(-6px) scale(0.98);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0) scale(1);\r\n  }\r\n}\r\n\r\n@keyframes toastFadeOut {\r\n  from {\r\n    opacity: 1;\r\n    transform: translateY(0) scale(1);\r\n  }\r\n  to {\r\n    opacity: 0;\r\n    transform: translateY(-6px) scale(0.95);\r\n  }\r\n}\r\n\r\n/*  */\r\n@media screen and (max-width: 1024px) {\r\n  .profile-page {\r\n    padding: 20px;\r\n    margin: 2rem auto;\r\n  }\r\n\r\n  .metrics-section {\r\n    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));\r\n    gap: 20px;\r\n    padding: 0;\r\n  }\r\n}\r\n\r\n@media screen and (max-width: 768px) {\r\n  .profile-header {\r\n    flex-direction: column;\r\n    gap: 16px;\r\n    padding: 14px;\r\n  }\r\n\r\n  .profile-photo {\r\n    width: 100px;\r\n    height: 100px;\r\n  }\r\n\r\n  .edit-icon {\r\n    padding: 6px;\r\n  }\r\n\r\n  .editable-field {\r\n    font-size: 15px;\r\n    padding: 10px 12px;\r\n  }\r\n\r\n  .actions {\r\n    flex-direction: row;\r\n    justify-content: center;\r\n    flex-wrap: wrap;\r\n    gap: 15px;\r\n    margin-top: 15px;\r\n  }\r\n\r\n  .metric-card {\r\n    padding: 25px 16px;\r\n  }\r\n\r\n  .metric-card p {\r\n    font-size: 20px;\r\n  }\r\n\r\n  .metric-card h3 {\r\n    font-size: 13px;\r\n  }\r\n\r\n  .modal-password.clean {\r\n    padding: 25px 20px;\r\n  }\r\n\r\n  .rules-list {\r\n    grid-template-columns: 1fr;\r\n    gap: 10px;\r\n  }\r\n}\r\n\r\n@media screen and (max-width: 480px) {\r\n  .profile-page {\r\n    padding: 5px;\r\n    margin: 2.2rem auto;\r\n  }\r\n\r\n  .metric-card {\r\n    padding: 16px 14px;\r\n  }\r\n\r\n  .metric-card .icon {\r\n    width: 35px;\r\n    height: 35px;\r\n    font-size: 15px;\r\n    margin: 0 auto 12px auto; \r\n  }\r\n\r\n  .logout-modal {\r\n    width: 92%;\r\n    padding: 18px;\r\n  }\r\n\r\n  .logout-image {\r\n    width: 100px;\r\n    margin-bottom: 18px;\r\n  }\r\n\r\n  .logout-modal p {\r\n    font-size: 18px;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./HomeView.vue?vue&type=template&id=7867da9e&scoped=true\"\nimport script from \"./HomeView.vue?vue&type=script&lang=js\"\nexport * from \"./HomeView.vue?vue&type=script&lang=js\"\n\nimport \"./HomeView.vue?vue&type=style&index=0&id=7867da9e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7867da9e\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"chat-wrapper\">\r\n\r\n    <transition-group name=\"message-fade\" tag=\"div\" class=\"chat-history\">\r\n      <div\r\n        v-for=\"(msg, index) in flows[activeFlowIndex]\"\r\n        :key=\"msg.id\"\r\n        :ref=\"index === flows[activeFlowIndex].length - 1 ? 'lastMsg' : null\"\r\n        :class=\"['chat-bubble', msg.role === 'user' ? 'user' : 'bot']\"\r\n        @mouseenter=\"hoveredMessageId = msg.id\"\r\n        @mouseleave=\"hoveredMessageId = null\"\r\n      >\r\n        <div\r\n          v-if=\"editingMessageId !== msg.id\"\r\n          :class=\"['bubble-inner', 'markdown-body', msg.role === 'user' ? 'with-background' : '']\"\r\n          v-html=\"msg.versions[msg.activeVersion].content\"\r\n        ></div>\r\n\r\n        <div\r\n          v-else\r\n          :class=\"['bubble-inner', 'markdown-body', msg.role === 'user' ? 'with-background' : '']\"\r\n        >\r\n          <div\r\n            class=\"edit-content\"\r\n            contenteditable=\"true\"\r\n            :ref=\"'editable-' + msg.id\"\r\n            @input=\"updateEditingText($event)\"\r\n            @keydown.enter.exact.prevent=\"saveEdit(msg)\"\r\n          >{{ editingText }}</div>\r\n\r\n          <div class=\"edit-actions\">\r\n            <button class=\"cancel-btn\" @click=\"cancelEdit\">Cancelar</button>\r\n            <button class=\"save-btn\" @click=\"saveEdit(msg)\">Enviar</button>\r\n          </div>\r\n        </div>\r\n\r\n        <transition name=\"fade-slide\">\r\n          <div\r\n            v-if=\"hoveredMessageId === msg.id && editingMessageId !== msg.id\"\r\n            :class=\"['message-actions', msg.role === 'user' ? 'user-actions' : 'bot-actions']\"\r\n          >\r\n            <button class=\"action-btn hide-on-mobile\" title=\"Copiar\" @click=\"copyMessage(msg)\">\r\n              <i :class=\"copiedMessageId === msg.id ? 'fas fa-check' : 'fas fa-copy'\"></i>\r\n            </button>\r\n\r\n            <button v-if=\"msg.role === 'user'\" class=\"action-btn hide-on-mobile\" title=\"Editar\" @click=\"startEditing(msg)\">\r\n              <i class=\"fas fa-edit\"></i>\r\n            </button>\r\n\r\n            <!-- <template v-if=\"msg.role === 'user' && msg.versions.length > 1\">\r\n              <button class=\"action-btn\" @click=\"previousVersion(msg)\" :disabled=\"msg.activeVersion === 0\">\r\n                <i class=\"fas fa-chevron-left\"></i>\r\n              </button>\r\n\r\n              <span class=\"version-counter\">{{ msg.activeVersion + 1 }}/{{ msg.versions.length }}</span>\r\n\r\n              <button class=\"action-btn\" @click=\"nextVersion(msg)\" :disabled=\"msg.activeVersion === msg.versions.length - 1\">\r\n                <i class=\"fas fa-chevron-right\"></i>\r\n              </button>\r\n            </template> -->\r\n          </div>\r\n        </transition>\r\n      </div>\r\n\r\n      <transition name=\"fade-in\">\r\n        <div\r\n          v-if=\"isTyping\"\r\n          key=\"typing-indicator\"\r\n          class=\"chat-bubble bot typing-bubble\"\r\n        >\r\n          <div class=\"dot-container\">\r\n            <span class=\"dot\"></span>\r\n          </div>\r\n        </div>\r\n      </transition>\r\n    </transition-group>\r\n\r\n    <transition name=\"scroll-fade\">\r\n      <button\r\n        v-if=\"showScrollDownButton\"\r\n        class=\"scroll-to-bottom\"\r\n        @click=\"scrollToBottomSmooth\"\r\n      >\r\n        <i class=\"fas fa-arrow-down\"></i>\r\n      </button>\r\n    </transition>\r\n\r\n    <div class=\"chat-input-fixed\">\r\n      <MessageInput class=\"input-existing\" @send=\"handleSendMessage\" />\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MessageInput from '../components/Chat/MessageInput.vue';\r\nimport { marked } from 'marked';\r\nimport hljs from 'highlight.js'; \r\nimport 'highlight.js/styles/github.css';\r\nimport DOMPurify from 'dompurify';\r\nimport katex from 'katex';\r\n\r\nmarked.setOptions({\r\n  highlight: function (code) {\r\n    return hljs.highlightAuto(code).value;\r\n  }\r\n});\r\n\r\nexport default {\r\n  components: {\r\n    MessageInput,\r\n  },\r\n  data() {\r\n    return {\r\n      showScrollDownButton: false,\r\n      isTyping: false,\r\n      hoveredMessageId: null,\r\n      copiedMessageId: null,\r\n      editingMessageId: null,\r\n      editingText: '',\r\n      activeFlowIndex: 0,\r\n      flows: [\r\n  [\r\n    {\r\n      id: 'msg1',\r\n      role: 'user',\r\n      versions: [\r\n        { content: '<p>Hola, ¿cómo funciona este sistema?</p>' }\r\n      ],\r\n      activeVersion: 0\r\n    },\r\n    {\r\n      id: 'msg2',\r\n      role: 'bot',\r\n      versions: [\r\n        { content: '<p>Hola 👋 Este chat te permite enviar mensajes, editarlos y ver el historial de versiones.</p>' }\r\n      ],\r\n      activeVersion: 0\r\n    },\r\n    {\r\n      id: 'msg3',\r\n      role: 'user',\r\n      versions: [\r\n        { content: '<p>¿Qué tipo de contenido acepta?</p>' }\r\n      ],\r\n      activeVersion: 0\r\n    },\r\n    {\r\n      id: 'msg4',\r\n      role: 'bot',\r\n      versions: [\r\n        { content: `<p>Puedes escribir texto normal, incluir listas, fragmentos de código y hasta fórmulas matemáticas usando KaTeX.</p>` }\r\n      ],\r\n      activeVersion: 0\r\n    },\r\n    {\r\n      id: 'msg5',\r\n      role: 'user',\r\n      versions: [\r\n        { content: '<p>¿Y cómo se ve un bloque de código?</p>' }\r\n      ],\r\n      activeVersion: 0\r\n    },\r\n    {\r\n  id: 'msg6',\r\n  role: 'bot',\r\n  versions: [\r\n    {\r\n      content: `<pre><div class=\"code-lang\">js</div><code>function saludar(nombre) {\r\n  return \\`Hola, \\${nombre}!\\`;\r\n}</code></pre>`\r\n    }\r\n  ],\r\n  activeVersion: 0\r\n},\r\n    {\r\n      id: 'msg7',\r\n      role: 'user',\r\n      versions: [\r\n        { content: '<p>¿Puedo usar listas?</p>' }\r\n      ],\r\n      activeVersion: 0\r\n    },\r\n    {\r\n      id: 'msg8',\r\n      role: 'bot',\r\n      versions: [\r\n        { content: `<ul>\r\n  <li>✅ Sí, listas ordenadas y desordenadas.</li>\r\n  <li>✅ También puedes usar texto <strong>en negrita</strong> o <em>cursiva</em>.</li>\r\n</ul>` }\r\n      ],\r\n      activeVersion: 0\r\n    },\r\n  ]\r\n]\r\n    };\r\n  },\r\n  mounted() {\r\n    document.body.style.overflow = 'hidden';\r\n    this.loadMessages();\r\n    this.$nextTick(() => {\r\n      const container = this.$el.querySelector('.chat-history');\r\n      if (container) {\r\n        container.addEventListener('scroll', () => {\r\n          this.updateScrollButtonVisibility();\r\n        });\r\n      }\r\n      this.scrollToBottomIfUserIsAtBottom(true);\r\n    });\r\n  },\r\n  beforeUnmount() {\r\n    document.body.style.overflow = '';\r\n  },\r\n  methods: {\r\n    handleSendMessage({ text }) {\r\n      const formatted = this.formatResponseText(text);\r\n      const currentFlow = this.flows[this.activeFlowIndex];\r\n\r\n      currentFlow.push({\r\n        id: 'msg' + Date.now(),\r\n        role: 'user',\r\n        versions: [{ content: formatted }],\r\n        activeVersion: 0\r\n      });\r\n\r\n      this.isTyping = true;\r\n\r\n      this.$nextTick(() => {\r\n        this.scrollToBottomIfUserIsAtBottom(true);\r\n        this.updateScrollButtonVisibility();\r\n      });\r\n\r\n      setTimeout(() => {\r\n        const reply = this.generateFakeBotReply(text);\r\n        const formattedBot = this.formatResponseText(reply);\r\n\r\n        currentFlow.push({\r\n          id: 'msg' + Date.now(),\r\n          role: 'bot',\r\n          versions: [{ content: formattedBot }],\r\n          activeVersion: 0\r\n        });\r\n\r\n        this.isTyping = false;\r\n\r\n        this.$nextTick(() => {\r\n          this.scrollToBottomIfUserIsAtBottom();\r\n          this.updateScrollButtonVisibility();\r\n          this.applyEnhancements();\r\n        });\r\n      }, 1200);\r\n    },\r\n    loadMessages() {\r\n      this.$nextTick(() => {\r\n        this.scrollToBottomIfUserIsAtBottom(true);\r\n        this.updateScrollButtonVisibility();\r\n        this.applyEnhancements();\r\n      });\r\n    },\r\n    scrollToBottomIfUserIsAtBottom(force = false) {\r\n      const container = this.$el.querySelector('.chat-history');\r\n      const last = this.$refs.lastMsg;\r\n      if (!container || !last) return;\r\n\r\n      const isAtBottom = container.scrollHeight - container.scrollTop <= container.clientHeight + 10;\r\n\r\n      if (force || isAtBottom) {\r\n        if (Array.isArray(last)) {\r\n          last[last.length - 1].scrollIntoView({ behavior: 'smooth' });\r\n        } else {\r\n          last.scrollIntoView({ behavior: 'smooth' });\r\n        }\r\n      }\r\n    },\r\n    scrollToBottomSmooth() {\r\n      const container = this.$el.querySelector('.chat-history');\r\n      if (container) {\r\n        container.scrollTo({\r\n          top: container.scrollHeight,\r\n          behavior: 'smooth'\r\n        });\r\n      }\r\n    },\r\n    updateScrollButtonVisibility() {\r\n      const container = this.$el.querySelector('.chat-history');\r\n      if (!container) return;\r\n\r\n      const atBottom = container.scrollHeight - container.scrollTop <= container.clientHeight + 10;\r\n      this.showScrollDownButton = !atBottom;\r\n    },\r\n    formatResponseText(text) {\r\n      text = text.replace(/:::(note|warning)\\s+([\\s\\S]+?):::/g, (_, type, content) => {\r\n        return `<div class=\"alert ${type}\">${marked.parseInline(content.trim())}</div>`;\r\n      });\r\n\r\n      text = text.replace(/==(.+?)==/g, '<mark>$1</mark>');\r\n      text = text.replace(/~~(.+?)~~/g, '<del>$1</del>');\r\n      text = text.replace(/\\\\\\((.+?)\\\\\\)/gs, (_, formula) => {\r\n        try {\r\n          return katex.renderToString(formula, { displayMode: false });\r\n        } catch {\r\n          return `<code>${formula}</code>`;\r\n        }\r\n      });\r\n\r\n      text = text.replace(/\\$\\$(.+?)\\$\\$/gs, (_, formula) => {\r\n        try {\r\n          return katex.renderToString(formula, { displayMode: true });\r\n        } catch {\r\n          return `<pre><code>${formula}</code></pre>`;\r\n        }\r\n      });\r\n\r\n      const rawHtml = marked.parse(text);\r\n      const cleanHtml = DOMPurify.sanitize(rawHtml, {\r\n        ADD_ATTR: ['loading'],\r\n        ADD_TAGS: ['img', 'math', 'mi', 'mo', 'mn', 'msup', 'mrow']\r\n      });\r\n\r\n      return cleanHtml\r\n        .replace(/<img /g, '<img loading=\"lazy\" ')\r\n        .replace(/<a /g, '<a target=\"_blank\" rel=\"noopener noreferrer\" ');\r\n    },\r\n    applyEnhancements() {\r\n      this.highlightAllCode();\r\n      this.labelAllLanguages();\r\n      this.addAllCopyButtons();\r\n    },\r\n    highlightAllCode() {\r\n      const codeBlocks = this.$el.querySelectorAll('pre code');\r\n      codeBlocks.forEach(code => {\r\n        const result = hljs.highlightAuto(code.innerText);\r\n        code.innerHTML = result.value;\r\n      });\r\n    },\r\n    labelAllLanguages() {\r\n      const langAliasMap = { arcade: 'js', isbl: 'py', xml: 'html', csharp: 'java', haskell: 'bash', n1ql: 'sql' };\r\n      const preBlocks = this.$el.querySelectorAll('pre');\r\n\r\n      preBlocks.forEach(pre => {\r\n        const code = pre.querySelector('code');\r\n        if (!code || pre.querySelector('.code-lang')) return;\r\n\r\n        const result = hljs.highlightAuto(code.innerText);\r\n        const rawLang = result.language || 'text';\r\n        const prettyLang = langAliasMap[rawLang.toLowerCase()] || rawLang.toLowerCase();\r\n\r\n        const langLabel = document.createElement('div');\r\n        langLabel.className = 'code-lang';\r\n        langLabel.innerText = prettyLang;\r\n        pre.insertBefore(langLabel, code);\r\n      });\r\n    },\r\n    addAllCopyButtons() {\r\n      const preBlocks = this.$el.querySelectorAll('pre');\r\n      preBlocks.forEach(pre => {\r\n        const code = pre.querySelector('code');\r\n        if (!code || pre.querySelector('.copy-btn')) return;\r\n\r\n        const btn = document.createElement('button');\r\n        btn.className = 'copy-btn';\r\n        btn.innerHTML = '<i class=\"fas fa-copy\"></i>';\r\n        btn.title = 'copiar';\r\n\r\n        btn.addEventListener('click', () => {\r\n          navigator.clipboard.writeText(code.innerText).then(() => {\r\n            btn.innerHTML = '<i class=\"fas fa-check\"></i>';\r\n            setTimeout(() => (btn.innerHTML = '<i class=\"fas fa-copy\"></i>'), 1500);\r\n          });\r\n        });\r\n\r\n        pre.style.position = 'relative';\r\n        pre.appendChild(btn);\r\n      });\r\n    },\r\n    copyMessage(msg) {\r\n      try {\r\n        const html = msg.versions?.[msg.activeVersion]?.content || msg.content || '';\r\n        console.log(\"Intentando copiar:\", html);\r\n\r\n        const tempDiv = document.createElement('div');\r\n        tempDiv.innerHTML = html;\r\n        const text = tempDiv.innerText;\r\n\r\n        navigator.clipboard.writeText(text).then(() => {\r\n          console.log(\"Texto copiado:\", text);\r\n          this.copiedMessageId = msg.id;\r\n          setTimeout(() => {\r\n            this.copiedMessageId = null;\r\n          }, 500);\r\n        }).catch(err => {\r\n          console.error('Error al copiar al portapapeles:', err);\r\n        });\r\n      } catch (e) {\r\n        console.error('Excepción inesperada en copyMessage:', e);\r\n      }\r\n    },\r\n    startEditing(msg) {\r\n      this.editingMessageId = msg.id;\r\n      const div = document.createElement('div');\r\n      div.innerHTML = msg.versions[msg.activeVersion].content;\r\n      this.editingText = div.innerText;\r\n    },\r\n    saveEdit(msg) {\r\n      const updatedText = this.formatResponseText(this.editingText);\r\n      msg.versions.push({ content: updatedText });\r\n      msg.activeVersion = msg.versions.length - 1;\r\n      this.cancelEdit();\r\n      this.cutAfter(msg);\r\n    },\r\n    cancelEdit() {\r\n      this.editingMessageId = null;\r\n      this.editingText = '';\r\n    },\r\n    updateEditingText(e) {\r\n      this.editingText = e.target.innerText;\r\n    },\r\n    previousVersion(msg) {\r\n      if (msg.activeVersion > 0) {\r\n        const oldFlow = this.flows[this.activeFlowIndex];\r\n        const pivotIndex = oldFlow.findIndex(m => m.id === msg.id);\r\n        if (pivotIndex === -1) return;\r\n\r\n        const clonedFlow = JSON.parse(JSON.stringify(oldFlow.slice(0, pivotIndex)));\r\n        const editedMsg = { ...oldFlow[pivotIndex] };\r\n        editedMsg.activeVersion--;\r\n\r\n        clonedFlow.push(editedMsg);\r\n\r\n        const botMsg = oldFlow[pivotIndex + 1];\r\n        if (botMsg && botMsg.role === 'bot') {\r\n          const newBot = { ...botMsg };\r\n          if (newBot.versions.length > editedMsg.activeVersion) {\r\n            newBot.activeVersion = editedMsg.activeVersion;\r\n          }\r\n          clonedFlow.push(newBot);\r\n        }\r\n\r\n        this.flows.push(clonedFlow);\r\n        this.activeFlowIndex = this.flows.length - 1;\r\n      }\r\n    },\r\n    nextVersion(msg) {\r\n      if (msg.activeVersion < msg.versions.length - 1) {\r\n        const oldFlow = this.flows[this.activeFlowIndex];\r\n        const pivotIndex = oldFlow.findIndex(m => m.id === msg.id);\r\n        if (pivotIndex === -1) return;\r\n\r\n        const clonedFlow = JSON.parse(JSON.stringify(oldFlow.slice(0, pivotIndex)));\r\n        const editedMsg = { ...oldFlow[pivotIndex] };\r\n        editedMsg.activeVersion++;\r\n\r\n        clonedFlow.push(editedMsg);\r\n\r\n        const botMsg = oldFlow[pivotIndex + 1];\r\n        if (botMsg && botMsg.role === 'bot') {\r\n          const newBot = { ...botMsg };\r\n          if (newBot.versions.length > editedMsg.activeVersion) {\r\n            newBot.activeVersion = editedMsg.activeVersion;\r\n          }\r\n          clonedFlow.push(newBot);\r\n        }\r\n\r\n        this.flows.push(clonedFlow);\r\n        this.activeFlowIndex = this.flows.length - 1;\r\n      }\r\n    },\r\n    cutAfter(msg) {\r\n      const flow = this.flows[this.activeFlowIndex];\r\n      const index = flow.findIndex(m => m.id === msg.id);\r\n      if (index !== -1) {\r\n        this.flows[this.activeFlowIndex] = flow.slice(0, index + 1);\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.chat-wrapper {\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 92vh;\r\n  width: calc(100% + 17px);\r\n}\r\n\r\n.chat-input-fixed {\r\n  position: sticky;\r\n  bottom: 0;\r\n  z-index: 10;\r\n}\r\n\r\n.chat-history {\r\n  flex: 1;\r\n  overflow-y: auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 15px;\r\n}\r\n\r\n.chat-history::-webkit-scrollbar {\r\n  width: 8px;\r\n}\r\n\r\n.chat-history::-webkit-scrollbar-thumb {\r\n  background-color: rgba(0, 0, 0, 0.2);\r\n  border-radius: 8px;\r\n}\r\n\r\n.chat-history::-webkit-scrollbar-track {\r\n  background-color: transparent;\r\n}\r\n\r\n.scroll-to-bottom {\r\n  position: absolute;\r\n  right: 50%;\r\n  bottom: 110px; \r\n  background-color: white;\r\n  border: 1px solid #d1d5db;\r\n  border-radius: 50%;\r\n  width: 25px;\r\n  height: 25px;\r\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);\r\n  font-size: 13px;\r\n  color: #4b5563;\r\n  cursor: pointer;\r\n  z-index: 100;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: background 0.2s ease, transform 0.2s ease;\r\n}\r\n\r\n.scroll-to-bottom:hover {\r\n  background-color: #f3f4f6;\r\n  transform: scale(1.05);\r\n}\r\n\r\n.scroll-fade-enter-active,\r\n.scroll-fade-leave-active {\r\n  transition: opacity 0.25s ease, transform 0.25s ease;\r\n}\r\n.scroll-fade-enter-from,\r\n.scroll-fade-leave-to {\r\n  opacity: 0;\r\n  transform: translateY(10px);\r\n}\r\n.scroll-fade-enter-to,\r\n.scroll-fade-leave-from {\r\n  opacity: 1;\r\n  transform: translateY(0);\r\n}\r\n\r\n/* Edit Mode */\r\n.edit-textarea {\r\n  width: 100%;\r\n  border: none;\r\n  resize: none;\r\n  background-color: transparent;\r\n  padding: 0;\r\n  outline: none;\r\n}\r\n\r\n.edit-content {\r\n  outline: none;\r\n  white-space: pre-wrap;\r\n  word-break: break-word;\r\n  margin-bottom: 30px;\r\n  text-align: left;\r\n}\r\n\r\n.edit-actions {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 12px;\r\n  margin-top: 12px;\r\n  padding-right: 2px;\r\n}\r\n\r\n.cancel-btn,\r\n.save-btn {\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  border-radius: 9999px;\r\n  padding: 6px 16px;\r\n  transition: all 0.2s ease-in-out;\r\n  font-family: 'Inter', sans-serif;\r\n}\r\n\r\n.cancel-btn {\r\n  background: #fff;\r\n  border: 1.5px solid #d1d5db;\r\n  color: #374151;\r\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.03);\r\n}\r\n\r\n.save-btn {\r\n  background: #111827;\r\n  color: #fff;\r\n  border: none;\r\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.08);\r\n}\r\n\r\n.cancel-btn:hover {\r\n  background: #f3f4f6;\r\n  border-color: #cbd5e1;\r\n  color: #1f2937;\r\n}\r\n\r\n.save-btn:hover {\r\n  background: #000;\r\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.12);\r\n}\r\n</style>\r\n\r\n<style>\r\n.chat-bubble {\r\n  max-width: 75%;\r\n  margin: 8px;\r\n  border-radius: 18px;\r\n  word-wrap: break-word;\r\n  line-height: 1.4;\r\n}\r\n\r\n.user {\r\n  align-self: flex-end;\r\n  border-top-right-radius: 0;\r\n  text-align: right;\r\n  max-width: 70%\r\n}\r\n\r\n.bot {\r\n  align-self: flex-start;\r\n  background-color: transparent;\r\n  border-top-left-radius: 0;\r\n  text-align: left;\r\n}\r\n\r\n.bubble-inner {\r\n  padding: 8px 14px;\r\n  border-radius: 18px;\r\n  overflow: hidden;\r\n  display: inline-block;\r\n}\r\n\r\n.with-background {\r\n  background-color: #f1f1f1 !important;\r\n}\r\n\r\n.bubble-inner > *:first-child {\r\n  margin-top: 0;\r\n}\r\n\r\n.bubble-inner > *:last-child {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.message-fade-enter-active,\r\n.message-fade-leave-active {\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.message-fade-enter-from,\r\n.message-fade-leave-to {\r\n  opacity: 0;\r\n  transform: translateY(8px);\r\n}\r\n\r\n.message-fade-enter-to,\r\n.message-fade-leave-from {\r\n  opacity: 1;\r\n  transform: translateY(0);\r\n}\r\n\r\n/*  */\r\n.fade-slide-enter-active,\r\n.fade-slide-leave-active {\r\n  transition: opacity 0.2s ease, transform 0.2s ease;\r\n}\r\n\r\n.fade-slide-enter-from,\r\n.fade-slide-leave-to {\r\n  opacity: 0;\r\n  transform: translateY(6px);\r\n}\r\n\r\n.fade-slide-enter-to,\r\n.fade-slide-leave-from {\r\n  opacity: 1;\r\n  transform: translateY(0);\r\n}\r\n\r\n.message-actions {\r\n  display: flex;\r\n  font-size: 12px;\r\n}\r\n\r\n.user-actions {\r\n  justify-content: flex-end;\r\n  text-align: right;\r\n  margin-right: 0px;\r\n  margin-bottom: -26px;\r\n}\r\n\r\n.bot-actions {\r\n  justify-content: flex-start;\r\n  text-align: left;\r\n  margin-left: 10px;\r\n  margin-top: -10px;\r\n  margin-bottom: -16px;\r\n}\r\n\r\n.action-btn {\r\n  background: transparent;\r\n  border: none;\r\n  color: #6b7280;\r\n  cursor: pointer;\r\n  padding: 6px 8px;\r\n  font-size: 14px;\r\n  border-radius: 6px;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: background 0.2s ease, color 0.2s ease;\r\n}\r\n\r\n.action-btn:disabled {\r\n  opacity: 0.4;\r\n}\r\n\r\n.action-btn i {\r\n  pointer-events: none;\r\n}\r\n\r\n.action-btn:hover {\r\n  background-color: rgba(0, 0, 0, 0.05);\r\n  color: #111827;\r\n}\r\n\r\n.version-counter {\r\n  font-size: 12px;\r\n  margin: 0 4px;\r\n  color: #6b7280;\r\n  display: inline-flex;\r\n  align-items: center;\r\n}\r\n\r\n/* Indicador de escritura */\r\n.fade-in-enter-active {\r\n  animation: fadeInTyping 0.4s ease-out forwards;\r\n}\r\n@keyframes fadeInTyping {\r\n  from {\r\n    opacity: 0;\r\n    transform: scale(0.8);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: scale(1);\r\n  }\r\n}\r\n\r\n.dot-container {\r\n  background-color: transparent;\r\n  padding: 6px 10px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n}\r\n\r\n.dot {\r\n  width: 10px;\r\n  height: 10px;\r\n  background-color: #111827;\r\n  border-radius: 50%;\r\n  animation: pulse-dot 1.3s infinite ease-in-out;\r\n}\r\n\r\n@keyframes pulse-dot {\r\n  0%, 100% {\r\n    transform: scale(0.9);\r\n    opacity: 0.5;\r\n  }\r\n  50% {\r\n    transform: scale(1.1);\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n.typing-bubble {\r\n  align-self: flex-start;\r\n  border-top-left-radius: 0;\r\n  background: transparent;\r\n}\r\n\r\n/* Code */\r\npre code {\r\n  border-radius: 8px;\r\n  padding: 12px;\r\n  font-size: 14px;\r\n  display: block;\r\n  overflow-x: auto;\r\n  background: #f6f8fa;\r\n  line-height: 1.5;\r\n}\r\n\r\n.copy-btn {\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 10px;\r\n  border: none;\r\n  color: #7b7b7b;\r\n  background-color: transparent;\r\n  font-size: 12px;\r\n  cursor: pointer;\r\n  z-index: 10;\r\n  transition: background 0.2s ease;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.copy-btn:hover {\r\n  color: #000;\r\n}\r\n\r\n.copy-btn i {\r\n  pointer-events: none;\r\n}\r\n\r\n.code-lang {\r\n  position: absolute;\r\n  top: 12px;\r\n  left: 8px;\r\n  color: #7b7b7b;\r\n  font-size: 11px;\r\n  font-weight: 500;\r\n  line-height: 1;\r\n  z-index: 5;\r\n  pointer-events: none;\r\n  font-family: 'Inter', sans-serif;\r\n}\r\n\r\npre {\r\n  position: relative;\r\n  border: 1px solid #ccc;\r\n}\r\n\r\n/* Table */\r\n.markdown-body table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  margin: 14px 0;\r\n  font-size: 14px;\r\n  overflow-x: auto;\r\n  display: block;\r\n}\r\n\r\n.markdown-body th,\r\n.markdown-body td {\r\n  border: 1px solid #e5e7eb;\r\n  padding: 12px 14px;\r\n  text-align: left;\r\n  vertical-align: top;\r\n  word-break: break-word;\r\n}\r\n\r\n.markdown-body th {\r\n  background-color: #f9fafb;\r\n  font-weight: 600;\r\n  color: #111827;\r\n}\r\n\r\n.markdown-body tr:nth-child(even) {\r\n  background-color: #f8f9fc;\r\n}\r\n\r\n.markdown-body tr:hover {\r\n  background-color: #f1f5f9;\r\n}\r\n\r\n/* ChechBox */\r\n.markdown-body input[type=\"checkbox\"] {\r\n  accent-color: #6b7280; \r\n  width: 16px;\r\n  height: 16px;\r\n  margin-right: 8px;\r\n  cursor: default;\r\n  vertical-align: middle;\r\n}\r\n\r\n.markdown-body li {\r\n  margin-bottom: 6px;\r\n}\r\n\r\n.markdown-body li:has(input[type=\"checkbox\"]) {\r\n  list-style: none;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n/* Imagenes */\r\n.markdown-body img {\r\n  max-width: 100%;\r\n  max-height: 320px;\r\n  height: auto;\r\n  border-radius: 6px;\r\n  margin: 12px 0;\r\n  display: block;\r\n}\r\n\r\n.max-img-limit img {\r\n  max-height: 500px;\r\n  object-fit: contain;\r\n}\r\n\r\n/* Enlaces */\r\n.markdown-body a {\r\n  color: #2563eb;\r\n  text-decoration: underline;\r\n  transition: color 0.2s ease;\r\n}\r\n\r\n.markdown-body a:hover {\r\n  color: #1d4ed8;\r\n}\r\n\r\n/* Notas + Texto RayadoYa casi */\r\n.alert.note {\r\n  border-left: 4px solid #2196f3;\r\n  padding: 8px 15px;\r\n  border-radius: 6px;\r\n  margin: 12px 0;\r\n  color: #1a202c;\r\n  font-size: 14px;\r\n}\r\n\r\n.alert.warning {\r\n  border-left: 4px solid #ffa726;\r\n  padding: 8px 15px;\r\n  border-radius: 6px;\r\n  margin: 12px 0;\r\n  color: #1a202c;\r\n  font-size: 14px;\r\n}\r\n\r\ndel {\r\n  color: #9ca3af;\r\n  text-decoration: line-through;\r\n}\r\n\r\n/* RESPONSIVE */\r\n@media (max-width: 768px) {\r\n  .chat-wrapper {\r\n    height: 88vh;\r\n    width: 100%;\r\n    padding: 0;\r\n  }\r\n\r\n  .chat-history {\r\n    padding: 10px;\r\n  }\r\n\r\n  .chat-bubble {\r\n    max-width: 90%;\r\n    font-size: 14px;\r\n    margin: 6px;\r\n  }\r\n\r\n  .bubble-inner {\r\n    padding: 10px 12px;\r\n  }\r\n\r\n  .edit-content {\r\n    font-size: 14px;\r\n  }\r\n\r\n  .message-actions {\r\n    font-size: 12px;\r\n  }\r\n\r\n  .version-counter {\r\n    font-size: 11px;\r\n  }\r\n\r\n  .edit-actions {\r\n    flex-direction: column;\r\n    gap: 8px;\r\n    align-items: flex-end;\r\n  }\r\n\r\n  .cancel-btn,\r\n  .save-btn {\r\n    width: 100%;\r\n    padding: 8px 12px;\r\n    font-size: 14px;\r\n  }\r\n}\r\n\r\n@media (max-width: 640px) {\r\n  .hide-on-mobile {\r\n    display: none !important;\r\n  }\r\n}\r\n\r\n@media (max-width: 480px) {\r\n  .chat-bubble {\r\n    max-width: 96%;\r\n    font-size: 13px;\r\n  }\r\n\r\n  .bubble-inner {\r\n    padding: 8px 10px;\r\n  }\r\n\r\n  .dot {\r\n    width: 8px;\r\n    height: 8px;\r\n  }\r\n\r\n  .copy-btn {\r\n    top: 6px;\r\n    right: 6px;\r\n    font-size: 10px;\r\n  }\r\n\r\n  .code-lang {\r\n    top: 6px;\r\n    left: 6px;\r\n    font-size: 10px;\r\n  }\r\n\r\n  .chat-input-fixed {\r\n    padding: 0 6px;\r\n  }\r\n\r\n  pre code {\r\n    font-size: 13px;\r\n    padding: 10px;\r\n  }\r\n}\r\n\r\n</style>","<template>\r\n  <div :class=\"['message-input-wrapper', routeClass]\">\r\n    <div class=\"message-card\">\r\n\r\n      <div class=\"preview-list\" v-if=\"previewImages.length || previewFiles.length\">\r\n        <div\r\n          v-for=\"(img, index) in previewImages\"\r\n          :key=\"'img-' + index\"\r\n          class=\"preview-image\"\r\n        >\r\n          <img :src=\"img.src\" :alt=\"img.name\" @click=\"previewModal = img.src\" />\r\n          <button class=\"remove-preview\" @click=\"removePreview(index, 'image')\">×</button>\r\n        </div>\r\n\r\n        <div\r\n          v-for=\"(file, index) in previewFiles\"\r\n          :key=\"'file-' + index\"\r\n          class=\"preview-file\"\r\n        >\r\n          <div class=\"file-icon\" :class=\"getFileColorClass(file.type)\">\r\n            <i class=\"fas fa-file-alt\"></i>\r\n          </div>\r\n          <div class=\"file-details\">\r\n            <span class=\"file-name\">{{ file.name }}</span>\r\n            <span class=\"file-type\">{{ file.type || 'Documento' }}</span>\r\n          </div>\r\n          <button class=\"remove-preview\" @click=\"removePreview(index, 'file')\">×</button>\r\n        </div>\r\n      </div>\r\n\r\n      <textarea\r\n        ref=\"textarea\"\r\n        v-model=\"message\"\r\n        @keydown.enter.prevent=\"handleEnter\"\r\n        class=\"message-textarea\"\r\n        placeholder=\"Pregunta lo que quieras\"\r\n        rows=\"1\"\r\n      />\r\n\r\n      <div class=\"actions-row\">\r\n        <div class=\"message-actions\">\r\n          <button class=\"bubble-button\" @click=\"triggerFileInput\">\r\n            <i class=\"fas fa-file-upload\"></i>\r\n            <span>Cargar</span>\r\n          </button>\r\n          <input type=\"file\" ref=\"fileInput\" multiple style=\"display: none\" @change=\"handleFileChange\" />\r\n          <button class=\"bubble-button\" :class=\"{ active: isGeneralMode }\" @click=\"toggleGeneralMode\" data-tooltip=\"Conocimiento general de Open IA\">\r\n            <i class=\"fas fa-brain\"></i>\r\n            <span>Conocimiento OpenAI</span>\r\n          </button>\r\n        </div>\r\n\r\n        <button class=\"send-icon-button\" @click=\"emitMessage\" title=\"Enviar mensaje\">\r\n          <i class=\"fas fa-arrow-up\"></i>\r\n        </button>\r\n      </div>\r\n\r\n      <transition name=\"fade-toast\">\r\n        <div v-if=\"showToast\" class=\"toast-notification\">\r\n          {{ toastMessage }}\r\n        </div>\r\n      </transition>\r\n    </div>\r\n\r\n    <transition name=\"fade-toast\">\r\n      <div v-if=\"previewModal\" class=\"preview-modal\">\r\n        <div class=\"modal-image-container\">\r\n          <img :src=\"previewModal\" alt=\"Preview grande\" />\r\n        </div>\r\n        <button class=\"close-modal-button\" @click=\"previewModal = null\">×</button>\r\n      </div>\r\n    </transition>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      message: \"\",\r\n      previewImages: [],\r\n      previewFiles: [],\r\n      previewModal: null,\r\n      showToast: false,\r\n      maxFiles: 5,\r\n      toastMessage: '',\r\n      isGeneralMode: false,\r\n    };\r\n  },\r\n  computed: {\r\n    routeClass() {\r\n      return this.$route.path === '/chat/new'\r\n        ? 'input-new'\r\n        : 'input-existing';\r\n    }\r\n  },\r\n  methods: {\r\n    handleEnter(e) {\r\n      if (e.shiftKey) {\r\n        const textarea = this.$refs.textarea;\r\n        const pos = textarea.selectionStart;\r\n        this.message =\r\n          this.message.slice(0, pos) + \"\\n\" + this.message.slice(pos);\r\n        this.$nextTick(() => {\r\n          textarea.selectionStart = textarea.selectionEnd = pos + 1;\r\n          this.adjustHeight(); \r\n        });\r\n      } else {\r\n        this.emitMessage();\r\n      }\r\n    },\r\n    emitMessage() {\r\n      const trimmed = this.message.trim();\r\n      if (trimmed || this.previewImages.length || this.previewFiles.length) {\r\n        this.$emit(\"send\", {\r\n          text: trimmed,\r\n          generalMode: this.isGeneralMode,\r\n          files: [...this.previewImages, ...this.previewFiles]\r\n        });\r\n\r\n        this.message = \"\";\r\n        this.previewImages = [];\r\n        this.previewFiles = [];\r\n        this.adjustHeight();\r\n      }\r\n    },\r\n    toggleGeneralMode() {\r\n      this.isGeneralMode = !this.isGeneralMode;\r\n    },\r\n    adjustHeight() {\r\n      const textarea = this.$refs.textarea;\r\n      textarea.style.height = \"auto\";\r\n\r\n      const scrollHeight = textarea.scrollHeight;\r\n      const maxHeight = 200;\r\n\r\n      if (scrollHeight > maxHeight) {\r\n        textarea.style.height = maxHeight + \"px\";\r\n      } else {\r\n        textarea.style.height = scrollHeight + \"px\";\r\n      }\r\n    },\r\n    triggerFileInput() {\r\n      this.$refs.fileInput.click();\r\n    },\r\n    handleFileChange(event) {\r\n      const files = Array.from(event.target.files);\r\n      const total = this.previewImages.length + this.previewFiles.length + files.length;\r\n\r\n      const allowedExtensions = [ 'png', 'jpg', 'jpeg', 'webp', 'gif', 'pdf', 'doc', 'docx', 'xls', 'xlsx', 'csv', 'txt', 'zip', 'rar' ];\r\n\r\n      if (total > this.maxFiles) {\r\n        this.toastMessage = `Solo puedes subir hasta ${this.maxFiles} archivos.`;\r\n        this.showToast = true;\r\n        setTimeout(() => {\r\n          this.showToast = false;\r\n        }, 3000);\r\n        this.$refs.fileInput.value = \"\";\r\n        return;\r\n      }\r\n\r\n      files.forEach(file => {\r\n        const extension = file.name.split('.').pop().toLowerCase();\r\n        const isImage = file.type.startsWith(\"image/\");\r\n\r\n        if (!allowedExtensions.includes(extension)) {\r\n          this.toastMessage = `El archivo \"${file.name}\" no es un tipo permitido.`;\r\n          this.showToast = true;\r\n          setTimeout(() => {\r\n            this.showToast = false;\r\n          }, 3000);\r\n          return;\r\n        }\r\n\r\n        if (isImage) {\r\n          const reader = new FileReader();\r\n          reader.onload = e => {\r\n            this.previewImages.push({\r\n              name: file.name,\r\n              src: e.target.result\r\n            });\r\n          };\r\n          reader.readAsDataURL(file);\r\n        } else {\r\n          const nameWithoutExtension = file.name.replace(/\\.[^/.]+$/, '');\r\n          this.previewFiles.push({\r\n            name: nameWithoutExtension,\r\n            type: `.${extension}`\r\n          });\r\n        }\r\n      });\r\n\r\n      this.$refs.fileInput.value = \"\";\r\n    },\r\n    getFileColorClass(type) {\r\n      const colors = {\r\n        '.pdf': 'file-icon-pdf',\r\n        '.doc': 'file-icon-word',\r\n        '.docx': 'file-icon-word',\r\n        '.xls': 'file-icon-excel',\r\n        '.xlsx': 'file-icon-excel',\r\n        '.csv': 'file-icon-excel',\r\n        '.txt': 'file-icon-text',\r\n        '.zip': 'file-icon-zip',\r\n        '.rar': 'file-icon-zip'\r\n      };\r\n      return colors[type] || 'file-icon-default';\r\n    },\r\n    removePreview(index, type) {\r\n      if (type === 'image') {\r\n        this.previewImages.splice(index, 1);\r\n      } else if (type === 'file') {\r\n        this.previewFiles.splice(index, 1);\r\n      }\r\n    },\r\n  },\r\n  watch: {\r\n    message() {\r\n      this.$nextTick(() => this.adjustHeight());\r\n    }\r\n  },\r\n  mounted() {\r\n    this.adjustHeight();\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.input-new .message-card {\r\n  animation: riseInNew 0.7s ease-out;\r\n  padding: 1.25rem 1.5rem 1rem 1.5rem;\r\n}\r\n\r\n@keyframes riseInNew {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(40px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n}\r\n\r\n.input-existing .message-card {\r\n  animation: slideRightExisting 0.5s ease-out;\r\n  padding: 1rem 1.2rem 1rem 1.2rem;\r\n}\r\n\r\n@keyframes slideRightExisting {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateX(50px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateX(0);\r\n  }\r\n}\r\n</style>\r\n\r\n<style scoped>\r\n@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap');\r\n\r\n.message-input-wrapper {\r\n  width: 100%;\r\n  max-width: 650px;\r\n  margin: 0 auto;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.message-card {\r\n  position: relative;\r\n  width: 100%;\r\n  max-width: 900px;\r\n  background: #ffffff;\r\n  border-radius: 1.5rem;\r\n  border: 1px solid #e5e7eb; \r\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08); \r\n}\r\n\r\n.message-textarea {\r\n  width: 100%;\r\n  resize: none;\r\n  border: none;\r\n  outline: none;\r\n  font-size: 1rem;\r\n  line-height: 1.5;\r\n  padding: 0;\r\n  background: transparent;\r\n  color: #202123;\r\n  font-family: inherit;\r\n  overflow-y: auto; \r\n  max-height: 130px;\r\n}\r\n\r\n.actions-row {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  gap: 0.75rem;\r\n  margin-top: 0.5rem;\r\n}\r\n\r\n.send-icon-button {\r\n  width: 30px;\r\n  height: 30px;\r\n  border: none;\r\n  border-radius: 999px;\r\n  background-color: #202123;\r\n  color: white;\r\n  font-size: 0.8rem;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  transition: background-color 0.2s ease;\r\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);\r\n  flex-shrink: 0;\r\n  margin-left: auto;\r\n}\r\n\r\n.send-icon-button:hover {\r\n  background-color: #111111;\r\n}\r\n\r\n.message-actions {\r\n  display: flex;\r\n  gap: 0.5rem;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.bubble-button {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.45rem;\r\n  background: #fcfcfc;\r\n  border: 1px solid #e3e4e6;\r\n  border-radius: 999px;\r\n  padding: 0.5rem 0.8rem;\r\n  font-size: 0.8rem;\r\n  color: #2e2f32;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: background 0.2s ease, box-shadow 0.2s ease, transform 0.1s ease; box-shadow: 0 1px 2px rgba(0, 0, 0, 0.04);\r\n}\r\n\r\n.bubble-button i {\r\n  font-size: 0.95rem;\r\n  color: #4a4c4f;\r\n}\r\n\r\n.bubble-button:hover {\r\n  background: linear-gradient(145deg, #eaeaec, #f2f2f3);\r\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);\r\n  transform: translateY(-1px);\r\n}\r\n\r\n.bubble-button.active {\r\n  background: linear-gradient(135deg, #3b82f6 0%, #60a5fa 100%);\r\n  box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.15), 0 8px 16px rgba(59, 130, 246, 0.35);\r\n  color: #ffffff;\r\n  transition: background 0.25s ease, box-shadow 0.25s ease, color 0.25s ease;\r\n}\r\n\r\n.bubble-button.active i {\r\n  color: #ffffff;\r\n  text-shadow: 0 0 3px rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n.bubble-button[data-tooltip] {\r\n  position: relative;\r\n}\r\n\r\n.bubble-button[data-tooltip]:hover::after {\r\n  content: attr(data-tooltip);\r\n  position: absolute;\r\n  top: 129%; \r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  background: linear-gradient(135deg, #1e1e1e, #2c2c2c);\r\n  color: #fff;\r\n  padding: 7px 12px;\r\n  border-radius: 6px;\r\n  white-space: nowrap;\r\n  opacity: 1;\r\n  pointer-events: none;\r\n  transition: opacity 0.3s ease, transform 0.3s ease;\r\n  z-index: 1000;\r\n  font-size: 13px;\r\n  font-weight: 500;\r\n  font-family: 'Roboto', sans-serif;\r\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.4);\r\n}\r\n\r\n.bubble-button[data-tooltip]:hover::before {\r\n  content: '';\r\n  position: absolute;\r\n  top: 89%; \r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  border-width: 8px;\r\n  border-style: solid;\r\n  border-color: transparent transparent #1e1e1e transparent;\r\n  opacity: 1;\r\n  transition: opacity 0.3s ease;\r\n  z-index: 999;\r\n}\r\n\r\n@keyframes fadeTooltip {\r\n  to {\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n.remove-preview {\r\n  position: absolute;\r\n  top: -6px;\r\n  right: -6px;\r\n  width: 15px;\r\n  height: 15px;\r\n  background: #000;\r\n  color: #fff;\r\n  border: none;\r\n  border-radius: 999px;\r\n  font-size: 0.9rem;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2), 0 0 0 2px #fff;\r\n}\r\n\r\n/*  */\r\n.preview-list {\r\n  display: flex;\r\n  gap: 0.5rem;\r\n  flex-wrap: wrap;\r\n  margin-bottom: 0.8rem;\r\n  align-items: center;\r\n  max-width: 100%;\r\n}\r\n\r\n.preview-image {\r\n  position: relative;\r\n  width: 50px;\r\n  height: 50px;\r\n  overflow: visible; \r\n  flex-shrink: 0;\r\n}\r\n\r\n.preview-image img {\r\n  width: 100%;\r\n  height: 100%;\r\n  border-radius: 0.75rem;\r\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.08);\r\n  object-fit: cover;\r\n  display: block;\r\n  cursor: pointer;\r\n}\r\n\r\n.preview-modal {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background-color: rgba(0, 0, 0, 0.6);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 9999;\r\n  animation: fadeIn 0.3s ease;\r\n}\r\n\r\n.modal-image-container {\r\n  position: relative;\r\n  max-width: 90%;\r\n  max-height: 85%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.modal-image-container img {\r\n  max-width: 65%;\r\n  max-height: 65%;\r\n  border-radius: 1rem;\r\n  display: block;\r\n  object-fit: contain;\r\n}\r\n\r\n.close-modal-button {\r\n  position: fixed;\r\n  top: 1rem;\r\n  right: 1rem;\r\n  width: 35px;\r\n  height: 35px;\r\n  background: #000;\r\n  color: #ffffff;\r\n  border: none;\r\n  border-radius: 50%;\r\n  font-size: 1.8rem;\r\n  cursor: pointer;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);\r\n  z-index: 1000;\r\n}\r\n\r\n@keyframes fadeIn {\r\n  from {\r\n    opacity: 0;\r\n    transform: scale(0.97);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: scale(1);\r\n  }\r\n}\r\n\r\n/*  */\r\n.preview-file {\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n  background: #f9fafb;\r\n  border: 1px solid #e5e7eb;\r\n  border-radius: 0.75rem;\r\n  max-width: 300px;\r\n  height: 50px;\r\n  padding: 0 0.5rem;\r\n  gap: 0.5rem;\r\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);\r\n  font-family: inherit;\r\n}\r\n\r\n.preview-file .file-icon {\r\n  color: white;\r\n  border-radius: 0.5rem;\r\n  width: 38px;\r\n  height: 38px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-size: 1.25rem;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.file-icon-pdf {\r\n  background-color: #ef4444; \r\n}\r\n.file-icon-word {\r\n  background-color: #3b82f6;\r\n}\r\n.file-icon-excel {\r\n  background-color: #22c55e; \r\n}\r\n.file-icon-text {\r\n  background-color: #6b7280; \r\n}\r\n.file-icon-zip {\r\n  background-color: #a855f7; \r\n}\r\n.file-icon-default {\r\n  background-color: #9ca3af;\r\n}\r\n\r\n.preview-file .file-details {\r\n  display: flex;\r\n  flex-direction: column;\r\n  text-align: left;\r\n  overflow: hidden;\r\n  font-size: 0.8rem;\r\n}\r\n\r\n.preview-file .file-details .file-name {\r\n  font-family: 'Inter', sans-serif;\r\n  font-weight: 500; \r\n  color: #000;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  max-width: 180px;\r\n}\r\n\r\n.preview-file .file-details .file-type {\r\n  color: #6b7280;\r\n}\r\n\r\n/*  */\r\n.toast-notification {\r\n  position: absolute;\r\n  bottom: -2.8rem;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  background: #f87171;\r\n  color: white;\r\n  padding: 0.5rem 1.2rem;\r\n  font-size: 0.85rem;\r\n  border-radius: 0.5rem;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\r\n  white-space: nowrap;\r\n  pointer-events: none;\r\n}\r\n\r\n.fade-toast-enter-active,\r\n.fade-toast-leave-active {\r\n  transition: opacity 0.4s, transform 0.4s ease;\r\n}\r\n\r\n.fade-toast-enter-from,\r\n.fade-toast-leave-to {\r\n  opacity: 0;\r\n  transform: translateY(10px);\r\n}\r\n\r\n/* Responsive */\r\n@media (max-width: 768px) {\r\n  .message-card {\r\n    padding: 0.8rem 1rem;\r\n    border-radius: 1rem;\r\n  }\r\n\r\n  .message-textarea {\r\n    font-size: 0.9rem;\r\n    line-height: 1.4;\r\n  }\r\n\r\n  .bubble-button {\r\n    font-size: 0.75rem;\r\n    padding: 0.4rem 0.6rem;\r\n    gap: 0.35rem;\r\n  }\r\n\r\n  .bubble-button i {\r\n    font-size: 0.85rem;\r\n  }\r\n\r\n  .send-icon-button {\r\n    width: 28px;\r\n    height: 28px;\r\n    font-size: 0.8rem;\r\n  }\r\n\r\n  .preview-image {\r\n    width: 44px;\r\n    height: 44px;\r\n  }\r\n\r\n  .preview-file {\r\n    height: 44px;\r\n    font-size: 0.75rem;\r\n    padding: 0.4rem 0.5rem;\r\n  }\r\n\r\n  .preview-file .file-icon {\r\n    width: 32px;\r\n    height: 32px;\r\n    font-size: 1rem;\r\n  }\r\n\r\n  .preview-file .file-details .file-name {\r\n    font-size: 0.75rem;\r\n    max-width: 150px;\r\n  }\r\n\r\n  .preview-file .file-details .file-type {\r\n    font-size: 0.7rem;\r\n  }\r\n\r\n  .toast-notification {\r\n    font-size: 0.75rem;\r\n    padding: 0.4rem 1rem;\r\n    bottom: -2.5rem;\r\n  }\r\n\r\n  .close-modal-button {\r\n    width: 30px;\r\n    height: 30px;\r\n    font-size: 1.4rem;\r\n  }\r\n\r\n  .modal-image-container img {\r\n    max-width: 70%;\r\n    max-height: 70%;\r\n  }\r\n}\r\n\r\n@media (max-width: 480px) {\r\n  .message-card {\r\n    padding: 0.7rem 0.9rem;\r\n  }\r\n\r\n  .bubble-button {\r\n    font-size: 0.7rem;\r\n    padding: 0.35rem 0.55rem;\r\n  }\r\n\r\n  .send-icon-button {\r\n    width: 26px;\r\n    height: 26px;\r\n    font-size: 0.75rem;\r\n  }\r\n\r\n  .message-textarea {\r\n    font-size: 0.85rem;\r\n  }\r\n\r\n  .preview-image {\r\n    width: 40px;\r\n    height: 40px;\r\n  }\r\n\r\n  .preview-file {\r\n    height: 42px;\r\n    font-size: 0.7rem;\r\n    padding: 0.3rem 0.4rem;\r\n  }\r\n\r\n  .preview-file .file-icon {\r\n    width: 28px;\r\n    height: 28px;\r\n    font-size: 0.9rem;\r\n  }\r\n\r\n  .preview-file .file-details .file-name {\r\n    font-size: 0.7rem;\r\n    max-width: 130px;\r\n  }\r\n\r\n  .preview-file .file-details .file-type {\r\n    font-size: 0.65rem;\r\n  }\r\n\r\n  .toast-notification {\r\n    font-size: 0.7rem;\r\n    padding: 0.35rem 0.9rem;\r\n  }\r\n}\r\n\r\n</style>\r\n","import { render } from \"./MessageInput.vue?vue&type=template&id=d864717e&scoped=true\"\nimport script from \"./MessageInput.vue?vue&type=script&lang=js\"\nexport * from \"./MessageInput.vue?vue&type=script&lang=js\"\n\nimport \"./MessageInput.vue?vue&type=style&index=0&id=d864717e&lang=css\"\nimport \"./MessageInput.vue?vue&type=style&index=1&id=d864717e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d864717e\"]])\n\nexport default __exports__","import { render } from \"./ChatView.vue?vue&type=template&id=04c18ae1&scoped=true\"\nimport script from \"./ChatView.vue?vue&type=script&lang=js\"\nexport * from \"./ChatView.vue?vue&type=script&lang=js\"\n\nimport \"./ChatView.vue?vue&type=style&index=0&id=04c18ae1&scoped=true&lang=css\"\nimport \"./ChatView.vue?vue&type=style&index=1&id=04c18ae1&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-04c18ae1\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"dashboard-container\">\r\n    <header class=\"header-container\">\r\n      <div class=\"header-image\">\r\n        <img src=\"../assets/img/saludo.webp\" alt=\"KIIBOT Logo\" loading=\"lazy\">\r\n      </div>\r\n\r\n      <div class=\"header-text\">\r\n        <h1>Bienvenido al Panel de <span class=\"highlight\">KIIBOT</span></h1>\r\n        <p>\r\n          Gestiona y supervisa todas las funciones de KIIBOT de manera rápida y eficiente.\r\n          <br><strong>Optimiza y mantén KIIBOT siempre actualizado.</strong>\r\n        </p>\r\n      </div>\r\n    </header>\r\n\r\n    <section class=\"options-container\">\r\n      <div class=\"section-box\" @click=\"$router.push('/users')\">\r\n        <div class=\"box-header\">\r\n          <i class=\"fas fa-users\"></i>\r\n          <span>Usuarios</span>\r\n        </div>\r\n        <p class=\"box-description\">\r\n          Administra los usuarios registrados en el sistema. Puedes ver, editar, eliminar y asignar roles según los permisos necesarios.\r\n        </p>\r\n      </div>\r\n      <div class=\"section-box\" @click=\"$router.push('/metrics')\">\r\n        <div class=\"box-header\">\r\n          <i class=\"fas fa-chart-line\"></i>\r\n          <span>Métricas</span>\r\n        </div>\r\n        <p class=\"box-description\">\r\n          Consulta estadísticas sobre la actividad de KIIBOT, incluyendo el número de conversaciones activas, tiempo de respuesta, etc etc.\r\n        </p>\r\n      </div>\r\n      <div class=\"section-box\" @click=\"$router.push('/documents')\">\r\n        <div class=\"box-header\">\r\n          <i class=\"fas fa-folder-open\"></i>\r\n          <span>Documentos</span>\r\n        </div>\r\n        <p class=\"box-description\">\r\n          Gestiona los archivos que alimentan la base de conocimiento de KIIBOT. Sube nuevos documentos y actualiza información\r\n        </p>\r\n      </div>\r\n      <div class=\"section-box\" @click=\"$router.push('/embeddings')\">\r\n        <div class=\"box-header\">\r\n          <i class=\"fas fa-brain\"></i>\r\n          <span>Base de Conocimiento</span>\r\n        </div>\r\n        <p class=\"box-description\">\r\n          Edita y gestiona los fragmentos de conocimiento que usa KIIBOT para responder con precisión.\r\n        </p>\r\n      </div>\r\n    </section>\r\n\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Roboto:wght@300;400;500&display=swap');\r\n\r\n.header-container {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center; \r\n  margin-top: 0;\r\n  gap: 1rem; \r\n}\r\n\r\n.header-image {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-shrink: 0; \r\n}\r\n\r\n.header-image img {\r\n  width: 130px;\r\n  height: auto;\r\n  object-fit: contain;\r\n  filter: drop-shadow(0px 3px 5px rgba(0, 0, 0, 0.1));\r\n  animation: float 3s ease-in-out infinite;\r\n}\r\n\r\n@keyframes float {\r\n  0% { transform: translateY(0); }\r\n  50% { transform: translateY(5px); }\r\n  100% { transform: translateY(0); }\r\n}\r\n\r\n.header-text {\r\n  flex: 1;\r\n  text-align: left;\r\n  display: flex;\r\n  flex-direction: column;\r\n  max-width: 600px; \r\n  font-family: 'Inter', sans-serif; \r\n}\r\n\r\n.header-text h1 {\r\n  font-size: 1.4rem;\r\n  font-weight: 700;\r\n  color: #222;\r\n  margin: 0;\r\n  font-family: 'Roboto', sans-serif;\r\n}\r\n\r\n.header-text .highlight {\r\n  color: #007bff;\r\n}\r\n\r\n.header-text p {\r\n  font-size: 1rem;\r\n  color: #444;\r\n  line-height: 1.4;\r\n  font-weight: 400;\r\n}\r\n\r\n.footer-text {\r\n  font-size: 0.9rem;\r\n  color: #666;\r\n  font-style: italic;\r\n}\r\n\r\n@media (max-width: 850px) {\r\n  .header-container {\r\n    flex-direction: column;\r\n    align-items: center;\r\n    text-align: center;\r\n    gap: 1rem;\r\n    padding: 1rem;\r\n  }\r\n\r\n  .header-image img {\r\n    width: 120px; \r\n  }\r\n\r\n  .header-text {\r\n    max-width: 90%; \r\n    text-align: center;\r\n  }\r\n\r\n  .header-text h1 {\r\n    font-size: 1.3rem; \r\n  }\r\n\r\n  .header-text p {\r\n    font-size: 0.95rem;\r\n  }\r\n}\r\n\r\n@media (max-width: 480px) {\r\n  .header-container {\r\n    gap: 0.8rem;\r\n    padding: 0.8rem;\r\n  }\r\n\r\n  .header-image img {\r\n    width: 100px;\r\n  }\r\n\r\n  .header-text h1 {\r\n    font-size: 1.2rem;\r\n  }\r\n\r\n  .header-text p {\r\n    font-size: 0.9rem;\r\n  }\r\n\r\n  .footer-text {\r\n    font-size: 0.85rem;\r\n  }\r\n}\r\n\r\n.options-container {\r\n  display: grid;\r\n  grid-template-columns: repeat(2, 1fr);\r\n  gap: 1rem;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 90%;\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n  padding-top: 2rem;\r\n}\r\n\r\n.section-box {\r\n  height: 120px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start; \r\n  justify-content: flex-start;\r\n  font-size: 1.2rem;\r\n  font-weight: 600;\r\n  color: #222;\r\n  background-color: #f8f9fa;\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);\r\n  transition: all 0.3s ease-in-out;\r\n  position: relative;\r\n  z-index: 1;\r\n  border: 2px solid transparent;\r\n  padding: 1rem;\r\n  cursor: pointer;\r\n}\r\n\r\n.box-header {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  padding-bottom: 1rem;\r\n}\r\n\r\n.section-box i {\r\n  font-size: 1.5rem;\r\n  color: #007bff;\r\n  transition: color 0.3s ease-in-out;\r\n  margin-right: 5px;\r\n}\r\n\r\n.box-description {\r\n  font-size: 0.95rem;\r\n  font-weight: 400;\r\n  color: #555;\r\n  margin-top: 0.5rem;\r\n  line-height: 1.4;\r\n}\r\n\r\n.section-box:hover {\r\n  border-color: #007bff;\r\n  animation: glow 1s infinite linear;\r\n}\r\n\r\n.section-box:hover i {\r\n  color: #0056b3;\r\n}\r\n\r\n.options-container:hover .section-box {\r\n  opacity: 0.5;\r\n}\r\n\r\n.options-container:hover .section-box:hover {\r\n  opacity: 1;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .header-container {\r\n    flex-direction: column;\r\n    align-items: center;\r\n    text-align: center;\r\n    gap: 1.2rem;\r\n    padding: 1.2rem;\r\n  }\r\n\r\n  .header-image img {\r\n    width: 110px;\r\n  }\r\n\r\n  .header-text h1 {\r\n    font-size: 1.25rem;\r\n  }\r\n\r\n  .header-text p {\r\n    font-size: 0.95rem;\r\n  }\r\n\r\n  .options-container {\r\n    grid-template-columns: 1fr;\r\n    padding: 1.5rem 1rem 0;\r\n  }\r\n\r\n  .section-box {\r\n    min-height: 120px;\r\n    padding: 1rem;\r\n  }\r\n\r\n  .box-description {\r\n    font-size: 0.9rem;\r\n    line-height: 1.5;\r\n  }\r\n}\r\n\r\n@media (max-width: 480px) {\r\n  .header-container {\r\n    padding: 1rem 0.5rem;\r\n    gap: 0.8rem;\r\n  }\r\n\r\n  .header-text h1 {\r\n    font-size: 1.1rem;\r\n  }\r\n\r\n  .header-text p {\r\n    font-size: 0.85rem;\r\n  }\r\n\r\n  .header-image img {\r\n    width: 90px;\r\n  }\r\n\r\n  .section-box {\r\n    padding: 0.9rem;\r\n  }\r\n\r\n  .box-header span {\r\n    font-size: 0.95rem;\r\n  }\r\n\r\n  .box-description {\r\n    font-size: 0.85rem;\r\n    margin-top: 0;\r\n  }\r\n}\r\n\r\n</style>\r\n","import { render } from \"./BackOffice.vue?vue&type=template&id=52f51f64&scoped=true\"\nconst script = {}\n\nimport \"./BackOffice.vue?vue&type=style&index=0&id=52f51f64&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-52f51f64\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"user-management-container\">\r\n    <div class=\"user-header\">\r\n      <div class=\"header-row\">\r\n        <h2 class=\"header-title\">Usuarios <span class=\"txt-blue\">KIIBOT</span> </h2>\r\n        <button @click=\"openAddUserModal\" class=\"add-user-btn\">\r\n          <i class=\"fas fa-user-plus\"></i> Añadir Usuario\r\n        </button>\r\n      </div>\r\n\r\n      <div class=\"header-filters\">\r\n        <input\r\n          v-model=\"searchQuery\" \r\n          type=\"text\"\r\n          placeholder=\"Buscar por nombre, correo o id ...\"\r\n          class=\"filter-input\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div v-if=\"isLoading\" class=\"loading-spinner\">\r\n      <i class=\"fas fa-spinner fa-spin\"></i> Cargando Usuarios ...\r\n    </div>\r\n\r\n    <table class=\"user-table\" v-else-if=\"filteredUsers.length > 0\">\r\n      <thead>\r\n        <tr>\r\n          <th>ID</th>\r\n          <th>Usuario</th>\r\n          <th>Último acceso</th>\r\n          <th>Estado</th>\r\n          <th>Acciones</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"user in filteredUsers\" :key=\"user.id\">\r\n          <td>{{ user.id }}</td>\r\n          <td>\r\n            <div class=\"user-box\">\r\n              <img :src=\"user.profile_photo || require('../assets/img/default-avatar.webp')\" alt=\"Foto de perfil\" class=\"profile-pic\">\r\n              <div class=\"user-text\">\r\n                <span class=\"name\">{{ user.name }}</span>\r\n                <span class=\"email\">{{ user.email }}</span>\r\n              </div>\r\n            </div>\r\n          </td>\r\n          <td class=\"last-access\">{{ user.last_seen_text }}</td>\r\n          <td>\r\n            <span\r\n              class=\"status-led\"\r\n              :class=\"user.is_online ? 'online' : 'offline'\"\r\n              :title=\"user.is_online ? 'Conectado' : 'Desconectado'\"\r\n            ></span>\r\n          </td>\r\n          <td>\r\n            <button class=\"action-btn\" @click=\"openUserActionsModal(user)\">\r\n              <i class=\"fas fa-cog\"></i>\r\n            </button>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n\r\n    <div v-else class=\"empty-state\">\r\n      <div class=\"empty-icon\">\r\n        <i class=\"fas fa-users-slash\"></i>\r\n      </div>\r\n      <p class=\"empty-title\">No se encontraron usuarios</p>\r\n      <small class=\"empty-subtext\">\r\n        Añade nuevos usuarios o ajusta tu búsqueda para comenzar a gestionar tu equipo en KIIBOT.\r\n      </small>\r\n    </div>\r\n\r\n    <UserActionsModal\r\n      :user=\"selectedUser\"\r\n      :isOpen=\"showUserActionsModal\"\r\n      @close=\"showUserActionsModal = false\"\r\n      @change-password=\"handlePasswordChange\"\r\n      @change-role=\"handleRoleChange\"\r\n      @delete-user=\"handleUserDelete\"\r\n    />\r\n\r\n    <AddUserModal\r\n      :is-open=\"showAddUserModal\"\r\n      :preview-photo=\"previewPhoto\"\r\n      :show-new-password=\"showNewPassword\"\r\n      :invalid-fields=\"invalidFields\"\r\n      :form-error=\"formError\"\r\n      @close=\"closeAddUserModal\"\r\n      @submit=\"handleAddUser\"\r\n      @upload-photo=\"handlePhotoUpload\"\r\n      @toggle-password=\"togglePassword\"\r\n      @update-new-password=\"(val) => { newPassword = val }\"\r\n    />\r\n\r\n    <div v-if=\"showToast\" class=\"toast-message\">\r\n      {{ toastMessage }}\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport UserActionsModal from '../components/Users/UserActionsModal.vue';\r\nimport AddUserModal from '../components/Users/AddUserModal.vue';\r\n\r\nimport mockUsers from '@/data/users';\r\n\r\nexport default {\r\n  name: 'UserManagement',\r\n  data() {\r\n    return {\r\n      previewPhoto: null,\r\n      showNewPassword: false,\r\n      newPassword: '', \r\n      formError: '',\r\n      invalidFields: { name: false, email: false, password: false, role: false },\r\n      selectedUser: null,\r\n      showUserActionsModal: false,\r\n      showAddUserModal: false,\r\n      searchQuery: \"\",\r\n      toastMessage: '',\r\n      showToast: false,\r\n      users: [],\r\n      isLoading: true,\r\n    };\r\n  },\r\n  components: {\r\n    UserActionsModal,\r\n    AddUserModal \r\n  },\r\n  computed: {\r\n    filteredUsers() {\r\n      const query = this.searchQuery.trim().toLowerCase();\r\n      if (!query) return this.users;\r\n      return this.users.filter(user => {\r\n        const name = user.name.toLowerCase();\r\n        const email = user.email.toLowerCase();\r\n        const id = String(user.id);\r\n        return name.includes(query) || email.includes(query) || id.includes(query);\r\n      });\r\n    }\r\n  },\r\n  mounted() {\r\n    this.fetchUsers();\r\n  },\r\n  methods: {\r\n    fetchUsers() {\r\n      const saved = localStorage.getItem(\"kiibot_users\");\r\n      this.users = saved ? JSON.parse(saved) : [...mockUsers];\r\n      this.saveUsers();\r\n      this.isLoading = false;\r\n    },\r\n    saveUsers() {\r\n      localStorage.setItem(\"kiibot_users\", JSON.stringify(this.users));\r\n    },\r\n    openAddUserModal() {\r\n      this.showAddUserModal = true;\r\n    },\r\n    closeAddUserModal() {\r\n      this.showAddUserModal = false;\r\n      this.previewPhoto = null;\r\n      this.newPassword = '';\r\n      this.formError = '';\r\n      this.invalidFields = { name: false, email: false, password: false, role: false };\r\n    },\r\n    handleAddUser({ name, email, role, done }) {\r\n      const newId = this.users.length ? Math.max(...this.users.map(u => u.id)) + 1 : 1;\r\n      const newUser = {\r\n        id: newId,\r\n        name,\r\n        email,\r\n        role,\r\n        profile_photo: this.previewPhoto || \"\",\r\n        last_seen_text: \"Justo ahora\",\r\n        is_online: false\r\n      };\r\n\r\n      this.users.push(newUser);\r\n      this.saveUsers();\r\n\r\n      done(true, \"Usuario añadido exitosamente\");\r\n    },\r\n    handlePhotoUpload(event) {\r\n      const file = event.target.files[0];\r\n      if (file) {\r\n        const reader = new FileReader();\r\n        reader.onload = (e) => {\r\n          this.previewPhoto = e.target.result;\r\n        };\r\n        reader.readAsDataURL(file);\r\n      }\r\n    },\r\n    togglePassword(field) {\r\n      if (field === \"new\") {\r\n        this.showNewPassword = !this.showNewPassword;\r\n      }\r\n    },\r\n    showSuccessToast(message) {\r\n      this.toastMessage = message;\r\n      this.showToast = true;\r\n      setTimeout(() => {\r\n        this.showToast = false;\r\n      }, 2500);\r\n    },\r\n    openUserActionsModal(user) {\r\n      this.selectedUser = user;\r\n      this.showUserActionsModal = true;\r\n    },\r\n    handlePasswordChange({ id }) {\r\n      console.log(`Se ha cambiado la contraseña para el usuario con ID ${id}`);\r\n    },\r\n    handleRoleChange({ id, newRole }) {\r\n      const user = this.users.find(u => u.id === id);\r\n      if (user) {\r\n        user.role = newRole;\r\n        this.saveUsers();\r\n      }\r\n    },\r\n    handleUserDelete(id) {\r\n      this.users = this.users.filter(u => u.id !== id);\r\n      this.saveUsers();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.user-management-container {\r\n  padding: 0 2rem;\r\n  font-family: 'Inter', sans-serif;\r\n  max-width: 1000px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.txt-blue {\r\n  color: #007bff;\r\n}\r\n\r\n/*  */\r\n.user-header {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1.8rem;\r\n  margin-bottom: 2.5rem;\r\n  padding: 0 2rem;\r\n  font-family: 'Poppins', sans-serif;\r\n}\r\n\r\n.header-row {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.header-title {\r\n  font-size: 2rem;\r\n  font-weight: 700;\r\n  color: #333;\r\n  margin: 0;\r\n  letter-spacing: -0.3px;\r\n}\r\n\r\n.add-user-btn {\r\n  background: #007bff;\r\n  color: #fff;\r\n  font-size: 0.95rem;\r\n  font-weight: 600;\r\n  border: none;\r\n  border-radius: 12px;\r\n  padding: 0.65rem 1.3rem;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  transition: transform 0.2s ease;\r\n}\r\n\r\n.add-user-btn i {\r\n  font-size: 1.1rem;\r\n}\r\n\r\n.add-user-btn:hover {\r\n  transform: scale(1.03);\r\n}\r\n\r\n.header-filters {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 1rem;\r\n  width: 100%;\r\n}\r\n\r\n.filter-input {\r\n  flex: 1;\r\n  max-width: 350px;\r\n  padding: 0.65rem 1rem;\r\n  border: 1.6px solid #ddd;\r\n  border-radius: 12px;\r\n  font-size: 0.95rem;\r\n  background-color: #f7f9fc;\r\n  transition: border-color 0.2s ease, box-shadow 0.2s ease;\r\n  color: #333;\r\n  margin-bottom: -1rem;\r\n}\r\n\r\n.filter-input::placeholder {\r\n  color: #999;\r\n  font-weight: 400;\r\n}\r\n\r\n.filter-input:focus {\r\n  outline: none;\r\n  border-color: #007bff;\r\n  box-shadow: 0 0 0 3px rgba(58, 142, 246, 0.15);\r\n  background-color: #fff;\r\n}\r\n\r\n/*  */\r\n.user-table {\r\n  width: 100%;\r\n  border-collapse: separate;\r\n  border-spacing: 0;\r\n  background-color: #ffffff;\r\n  border-radius: 16px;\r\n  overflow: hidden;\r\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.05);\r\n  font-family: 'Poppins', sans-serif;\r\n  transition: all 0.3s ease-in-out;\r\n}\r\n\r\n.user-table th {\r\n  background: #f2f2f2;\r\n  font-weight: 600;\r\n  color: #1f1f1f;\r\n  font-size: 0.95rem;\r\n  padding: 1.1rem 1rem;\r\n  text-align: left;\r\n  z-index: 1;\r\n  border-bottom: 2px solid #e5e7eb;\r\n}\r\n\r\n.user-table td {\r\n  padding: 1rem;\r\n  font-size: 0.94rem;\r\n  color: #444;\r\n  background-color: #fff;\r\n  border-bottom: 2px solid #f2f2f2;\r\n  transition: background-color 0.2s ease;\r\n}\r\n\r\n.user-table tbody tr:hover td {\r\n  background-color: #f4f5f9;\r\n}\r\n\r\n.user-table tr:first-child th:first-child {\r\n  border-top-left-radius: 16px;\r\n}\r\n.user-table tr:first-child th:last-child {\r\n  border-top-right-radius: 16px;\r\n}\r\n.user-table tr:last-child td:first-child {\r\n  border-bottom-left-radius: 16px;\r\n}\r\n.user-table tr:last-child td:last-child {\r\n  border-bottom-right-radius: 16px;\r\n}\r\n\r\n.user-box {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.9rem;\r\n}\r\n\r\n.profile-pic {\r\n  width: 48px;\r\n  height: 48px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);\r\n  flex-shrink: 0;\r\n}\r\n\r\n.user-text {\r\n  display: flex;\r\n  flex-direction: column;\r\n  text-align: left;\r\n}\r\n\r\n.user-text .name {\r\n  font-weight: 600;\r\n  font-size: 0.97rem;\r\n  color: #222;\r\n}\r\n\r\n.user-text .email {\r\n  font-size: 0.85rem;\r\n  color: #888;\r\n  margin-top: 2px;\r\n}\r\n\r\n.last-access {\r\n  text-align: left;\r\n}\r\n\r\n.status-led {\r\n  display: inline-block;\r\n  width: 14px;\r\n  height: 14px;\r\n  border-radius: 50%;\r\n  margin: auto;\r\n  box-shadow: 0 0 0 rgba(0, 0, 0, 0);\r\n  transition: all 0.3s ease-in-out;\r\n}\r\n\r\n.status-led.online {\r\n  background-color: #28a745;\r\n  box-shadow: 0 0 8px rgba(40, 167, 69, 0.6), 0 0 4px rgba(40, 167, 69, 0.4);\r\n}\r\n\r\n.status-led.offline {\r\n  background-color: #c4c4c4;\r\n  box-shadow: inset 0 0 4px rgba(0, 0, 0, 0.15);\r\n  opacity: 0.6;\r\n}\r\n\r\n.action-btn {\r\n  background: #f1f5f9;\r\n  border: none;\r\n  cursor: pointer;\r\n  padding: 0.5rem;\r\n  border-radius: 8px;\r\n  transition: all 0.2s ease;\r\n  color: #555;\r\n  width: 40px;\r\n  height: 40px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin: 0 auto;\r\n}\r\n\r\n.action-btn i {\r\n  font-size: 1.2rem;\r\n  transition: transform 0.3s ease, color 0.3s ease;\r\n}\r\n\r\n.action-btn:hover {\r\n  background-color: #e2e8f0;\r\n  color: #007bff;\r\n  box-shadow: 0 4px 10px rgba(0, 123, 255, 0.1);\r\n}\r\n\r\n.action-btn:hover i {\r\n  transform: rotate(20deg);\r\n}\r\n\r\n.user-table td:nth-child(4),\r\n.user-table td:nth-child(5),\r\n.user-table th:nth-child(4),\r\n.user-table th:nth-child(5) {\r\n  text-align: center;\r\n  vertical-align: middle;\r\n}\r\n\r\n/*  */\r\n.loading-spinner {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 2rem;\r\n  font-family: 'Poppins', sans-serif;\r\n  font-size: 1.1rem;\r\n  color: #555;\r\n  animation: fadeIn 0.5s ease;\r\n}\r\n\r\n.loading-spinner i {\r\n  font-size: 2rem;\r\n  margin-bottom: 1rem;\r\n  color: #007bff;\r\n}\r\n\r\n@keyframes fadeIn {\r\n  from { opacity: 0; }\r\n  to { opacity: 1; }\r\n}\r\n\r\n/*  */\r\n.empty-state {\r\n  text-align: center;\r\n  padding: 2rem 1.5rem;\r\n  font-family: 'Poppins', sans-serif;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 1rem;\r\n  border-radius: 14px;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.empty-icon {\r\n  background-color: #eef2f8;\r\n  padding: 1.5rem;\r\n  border-radius: 50%;\r\n  box-shadow: 0 10px 24px rgba(0, 0, 0, 0.05);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  animation: pulseIcon 1.5s infinite ease-in-out;\r\n}\r\n\r\n.empty-icon i {\r\n  font-size: 3rem;\r\n  color: #9ca3af;\r\n}\r\n\r\n.empty-title {\r\n  font-size: 1.3rem;\r\n  font-weight: 700;\r\n  color: #1f2937;\r\n  margin: 0;\r\n}\r\n\r\n.empty-subtext {\r\n  font-size: 1rem;\r\n  color: #6b7280;\r\n  max-width: 440px;\r\n  line-height: 1.6;\r\n}\r\n\r\n@keyframes pulseIcon {\r\n  0% {\r\n    transform: scale(1);\r\n    opacity: 0.95;\r\n  }\r\n  50% {\r\n    transform: scale(1.08);\r\n    opacity: 1;\r\n  }\r\n  100% {\r\n    transform: scale(1);\r\n    opacity: 0.95;\r\n  }\r\n}\r\n\r\n/*  */\r\n@media (max-width: 768px) {\r\n  .user-header {\r\n    padding: 1rem;\r\n    gap: 1rem;\r\n  }\r\n\r\n  .header-row {\r\n    flex-direction: column;\r\n    align-items: center;\r\n    gap: 0.75rem;\r\n  }\r\n\r\n  .header-title {\r\n    font-size: 1.4rem;\r\n    text-align: left;\r\n  }\r\n\r\n  .add-user-btn {\r\n    width: 55%;\r\n    justify-content: center;\r\n    padding: 0.65rem;\r\n    font-size: 0.92rem;\r\n  }\r\n\r\n  .add-user-btn i {\r\n    font-size: 0.9rem;\r\n  }\r\n\r\n  .header-filters {\r\n    display: flex;\r\n    justify-content: center;\r\n    width: 100%;\r\n\r\n  }\r\n\r\n  .filter-input {\r\n    width: 100%;\r\n    font-size: 0.88rem;\r\n    padding: 0.6rem 0.8rem;\r\n  }\r\n\r\n  .user-table {\r\n    font-size: 0.88rem;\r\n  }\r\n\r\n  .user-table th,\r\n  .user-table td {\r\n    padding: 0.65rem 0.5rem;\r\n    font-size: 0.85rem;\r\n  }\r\n\r\n  .user-table th {\r\n    white-space: nowrap;\r\n  }\r\n\r\n  .user-table th:nth-child(1),\r\n  .user-table td:nth-child(1),\r\n  .user-table th:nth-child(3),\r\n  .user-table td:nth-child(3) {\r\n    display: none;\r\n  }\r\n\r\n  .user-box {\r\n    gap: 0.6rem;\r\n  }\r\n\r\n  .profile-pic {\r\n    width: 40px;\r\n    height: 40px;\r\n  }\r\n\r\n  .user-text .name {\r\n    font-size: 0.9rem;\r\n  }\r\n\r\n  .user-text .email {\r\n    font-size: 0.75rem;\r\n  }\r\n\r\n  .action-btn {\r\n    width: 36px;\r\n    height: 36px;\r\n  }\r\n\r\n  .action-btn i {\r\n    font-size: 1rem;\r\n  }\r\n}\r\n\r\n@media (max-width: 430px) {\r\n  .user-header {\r\n    padding: 0.8rem;\r\n    gap: 0.8rem;\r\n  }\r\n\r\n  .header-title {\r\n    font-size: 1.2rem;\r\n    text-align: center;\r\n  }\r\n\r\n  .add-user-btn {\r\n    width: 100%;\r\n    font-size: 0.88rem;\r\n    padding: 0.6rem 1rem;\r\n  }\r\n\r\n  .header-filters {\r\n    flex-direction: column;\r\n    align-items: stretch;\r\n    width: 90%;\r\n  }\r\n\r\n  .filter-input {\r\n    width: 100%;\r\n    font-size: 0.8rem;\r\n    padding: 0.5rem 0.8rem;\r\n  }\r\n\r\n  .user-table th,\r\n  .user-table td {\r\n    font-size: 0.78rem;\r\n    padding: 0.45rem 0.5rem;\r\n  }\r\n\r\n  .user-table th:nth-child(4),\r\n  .user-table td:nth-child(4) {\r\n    display: none;\r\n  }\r\n\r\n  .profile-pic {\r\n    display: none;\r\n  }\r\n\r\n  .user-box {\r\n    gap: 0.3rem;\r\n  }\r\n\r\n  .user-text .name {\r\n    font-size: 0.83rem;\r\n  }\r\n\r\n  .user-text .email {\r\n    font-size: 0.7rem;\r\n  }\r\n\r\n  .action-btn {\r\n    width: 34px;\r\n    height: 34px;\r\n  }\r\n\r\n  .action-btn i {\r\n    font-size: 1rem;\r\n  }\r\n\r\n  .modal-title {\r\n    font-size: 1.2rem;\r\n  }\r\n\r\n  .modal-subtitle {\r\n    font-size: 0.85rem;\r\n  }\r\n}\r\n\r\nhtml, body {\r\n  height: 100%;\r\n  overflow-x: hidden;\r\n  overflow-y: auto;\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\n.user-management-container {\r\n  min-height: 100vh;\r\n  overflow-y: auto;\r\n  box-sizing: border-box;\r\n}\r\n\r\n</style>\r\n","<template>\r\n    <dialog ref=\"dialog\" class=\"user-modal user-actions-dialog\">\r\n      <div class=\"modal-content\">\r\n\r\n        <div class=\"user-actions-header\">\r\n\r\n          <div class=\"user-info-block\">\r\n            <img\r\n              :src=\"selectedUser?.profile_photo || require('../../assets/img/default-avatar.webp')\"\r\n              class=\"avatar\"\r\n              alt=\"Avatar\"\r\n            />\r\n            <div class=\"user-text-block\">\r\n              <h2 class=\"user-name\">{{ selectedUser?.name }}</h2>\r\n              <p class=\"user-email\">{{ selectedUser?.email }}</p>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"user-actions-icons\">\r\n            <div @click=\"togglePasswordChange\" class=\"action-icon\" :class=\"[{ active: showPasswordInput }, { disabled: isAnyLoading || selectedUser?.is_online }, { loading: isLoadingPassword }]\">\r\n              <i v-if=\"!isLoadingPassword\" class=\"fas fa-key\"></i>\r\n              <i v-else class=\"fas fa-spinner fa-spin\"></i>\r\n            </div>\r\n\r\n            <div @click=\"toggleRole\" class=\"action-icon\" :class=\"[selectedUser?.role === 'admin' ? 'admin-role' : 'user-role', { disabled: isAnyLoading || selectedUser?.is_online }, { loading: isLoadingRole }]\">\r\n              <i v-if=\"!isLoadingRole\" :class=\"selectedUser?.role === 'admin' ? 'fas fa-user-minus' : 'fas fa-user-plus'\"></i>\r\n              <i v-else class=\"fas fa-spinner fa-spin\"></i>\r\n            </div>\r\n\r\n            <div @click=\"toggleDeleteConfirm\" class=\"action-icon danger\" :class=\"[{ active: showDeleteConfirm }, { disabled: isAnyLoading || selectedUser?.is_online }, { loading: isLoadingDelete }]\">\r\n              <i v-if=\"!isLoadingDelete\" class=\"fas fa-trash-alt\"></i>\r\n              <i v-else class=\"fas fa-spinner fa-spin\"></i>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"user-attributes-row\">\r\n            <div class=\"attribute\">\r\n              <span class=\"label\">ID:</span>\r\n              <span class=\"value\">{{ selectedUser?.id }}</span>\r\n            </div>\r\n            <div class=\"attribute\">\r\n              <span class=\"label\">Último Acceso:</span>\r\n              <span class=\"value\">{{ selectedUser?.last_seen_text }}</span>\r\n            </div>\r\n            <div class=\"attribute\">\r\n              <span class=\"label\">Estado:</span>\r\n              <span\r\n                class=\"value\"\r\n                :class=\"selectedUser?.is_online ? 'connected' : 'disconnected'\"\r\n              >\r\n                {{ selectedUser?.is_online ? 'Conectado' : 'Desconectado' }}\r\n              </span>\r\n            </div>\r\n            <div class=\"attribute\">\r\n              <span class=\"label\">Rol:</span>\r\n              <span\r\n                class=\"value\"\r\n                :class=\"selectedUser?.role === 'admin' ? 'admin-role' : 'user-role'\"\r\n              >\r\n                {{ selectedUser?.role || 'usuario' }}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div v-if=\"showPasswordInput\" class=\"input-group icon-input\">\r\n          <i class=\"fas fa-lock\"></i>\r\n          <input \r\n            :type=\"showNewPassword ? 'text' : 'password'\" \r\n            v-model=\"newUserPassword\"\r\n            placeholder=\"Contraseña\"\r\n            :class=\"{ error: passwordError }\"\r\n          />\r\n          <i \r\n            :class=\"showNewPassword ? 'fas fa-eye-slash' : 'fas fa-eye'\" \r\n            @click=\"togglePassword('new')\" \r\n            class=\"toggle\"\r\n          ></i>\r\n        </div>\r\n\r\n        <p v-if=\"passwordError\" class=\"form-error-message\">{{ passwordError }}</p>\r\n        <p v-if=\"successMessage\" class=\"form-success-message\"> {{ successMessage }} </p>\r\n\r\n        <div v-if=\"showPasswordInput\" class=\"modal-actions\">\r\n          <button class=\"confirm-btn\" @click=\"submitNewPassword\">Guardar contraseña</button>\r\n        </div>\r\n\r\n        <div v-if=\"showDeleteConfirm\" class=\"delete-confirm-box\">\r\n          <p>¿Seguro que deseas eliminar a <strong>{{ selectedUser?.name }}</strong>?</p>\r\n          <div class=\"modal-actions\">\r\n            <button class=\"cancel-btn\" @click=\"toggleDeleteConfirm\">Cancelar</button>\r\n            <button class=\"confirm-btn danger\" @click=\"deleteUser\">Eliminar</button>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"modal-actions\" v-if=\"!showDeleteConfirm && !showPasswordInput\">\r\n          <button class=\"cancel-btn\" @click=\"close\" :disabled=\"isAnyLoading\">Cerrar</button>\r\n        </div>\r\n      </div>\r\n    </dialog>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'UserActionsModal',\r\n  props: {\r\n    user: Object,\r\n    isOpen: Boolean\r\n  },\r\n  data() {\r\n    return {\r\n      selectedUser: null,\r\n      showPasswordInput: false,\r\n      showNewPassword: false,\r\n      newUserPassword: '',\r\n      passwordError: '',\r\n      successMessage: '',\r\n      showDeleteConfirm: false,\r\n      isLoadingPassword: false,\r\n      isLoadingRole: false,\r\n      isLoadingDelete: false,\r\n    };\r\n  },\r\n  watch: {\r\n    user: {\r\n      immediate: true,\r\n      handler(newVal) {\r\n        this.selectedUser = { ...newVal };\r\n      }\r\n    },\r\n    isOpen(val) {\r\n      const modal = this.$refs.dialog;\r\n      if (val && modal) modal.showModal();\r\n      if (!val && modal) modal.close();\r\n    }\r\n  },\r\n  computed: {\r\n    isAnyLoading() {\r\n      return this.isLoadingPassword || this.isLoadingRole || this.isLoadingDelete;\r\n    }\r\n  },\r\n  methods: {\r\n    close() {\r\n      this.$emit('close');\r\n      this.resetState();\r\n    },\r\n    resetState() {\r\n      this.showPasswordInput = false;\r\n      this.newUserPassword = '';\r\n      this.showDeleteConfirm = false;\r\n    },\r\n    togglePasswordChange() {\r\n      if (this.showDeleteConfirm) return;\r\n\r\n      this.showPasswordInput = !this.showPasswordInput;\r\n\r\n      if (!this.showPasswordInput) {\r\n        this.passwordError = '';\r\n      } else {\r\n        this.showDeleteConfirm = false;\r\n      }\r\n    },\r\n    async submitNewPassword() {\r\n      const pwd = this.newUserPassword.trim();\r\n      if (!pwd) {\r\n        this.passwordError = 'Contraseña vacía.';\r\n        return;\r\n      }\r\n\r\n      const errors = [];\r\n      if (pwd.length < 6) errors.push('mínimo 6 caracteres');\r\n      if (!/[a-z]/.test(pwd)) errors.push('una letra minúscula');\r\n      if (!/[A-Z]/.test(pwd)) errors.push('una letra mayúscula');\r\n      if (!/[\\d\\W]/.test(pwd)) errors.push('un número o símbolo');\r\n\r\n      if (errors.length > 0) {\r\n        this.passwordError = `La contraseña debe contener ${errors.join(', ')}.`;\r\n        setTimeout(() => (this.passwordError = ''), 3500);\r\n        return;\r\n      }\r\n\r\n      this.successMessage = \"Contraseña actualizada localmente (simulado)\";\r\n      this.showPasswordInput = false;\r\n      this.newUserPassword = \"\";\r\n\r\n      setTimeout(() => (this.successMessage = \"\"), 2500);\r\n    },\r\n    togglePassword(field) {\r\n      if (field === \"new\") this.showNewPassword = !this.showNewPassword;\r\n    },\r\n   toggleRole() {\r\n      if (this.selectedUser.is_online || this.isAnyLoading) return;\r\n      const newRole = this.selectedUser.role === \"admin\" ? \"user\" : \"admin\";\r\n      this.selectedUser.role = newRole;\r\n      this.successMessage = \"Rol cambiado localmente (simulado)\";\r\n      this.$emit(\"change-role\", { id: this.selectedUser.id, newRole });\r\n      setTimeout(() => (this.successMessage = \"\"), 2000);\r\n    },\r\n    toggleDeleteConfirm() {\r\n      if (this.showPasswordInput) return;\r\n\r\n      this.showDeleteConfirm = !this.showDeleteConfirm;\r\n      if (this.showDeleteConfirm) {\r\n        this.showPasswordInput = false;\r\n      }\r\n    },\r\n    deleteUser() {\r\n      this.$emit(\"delete-user\", this.selectedUser.id);\r\n      this.successMessage = \"Usuario eliminado localmente\";\r\n      setTimeout(() => {\r\n        this.successMessage = \"\";\r\n        this.close();\r\n      }, 2000);\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.user-modal {\r\n  border: none;\r\n  border-radius: 16px;\r\n  padding: 0;\r\n  width: 100%;\r\n  max-width: 600px;\r\n  box-shadow: 0 12px 32px rgba(0, 0, 0, 0.2);\r\n  font-family: 'Poppins', sans-serif;\r\n  animation: fadeIn 0.3s ease;\r\n  overflow: hidden;\r\n}\r\n\r\n.modal-content {\r\n  padding: 2rem;\r\n  background-color: #f2f2f2;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1.5rem;\r\n}\r\n\r\n.user-actions-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  flex-wrap: wrap;\r\n  gap: 2rem;\r\n  padding-bottom: 1rem;\r\n  border-bottom: 2px solid #f0f0f0;\r\n  background: linear-gradient(90deg, #f7faff, #ffffff);\r\n  border-radius: 10px;\r\n  padding: 1.5rem 1.5rem 1.8rem;\r\n  box-shadow: 0 3px 8px rgba(0, 123, 255, 0.10);\r\n}\r\n\r\n.user-info-block {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 1.2rem;\r\n  flex: 1;\r\n}\r\n\r\n.avatar {\r\n  width: 70px;\r\n  height: 70px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n  border: 3px solid #007bff;\r\n  box-shadow: 0 0 12px rgba(0, 123, 255, 0.25);\r\n  background-color: #fff;\r\n}\r\n\r\n.user-text-block {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  gap: 1rem;\r\n}\r\n\r\n.user-name {\r\n  margin: 15px 0 0 0;\r\n  padding: 0;\r\n  font-size: 1.5rem;\r\n  font-weight: 700;\r\n  color: #1a1a1a;\r\n  letter-spacing: -0.3px;\r\n  text-align: left;\r\n}\r\n\r\n.user-email {\r\n  font-size: 0.94rem;\r\n  font-weight: 500;\r\n  color: #6a6a6a;\r\n  opacity: 0.85;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  margin: -15px 0 0 0;\r\n  padding: 0;\r\n}\r\n\r\n.user-actions-icons {\r\n  display: flex;\r\n  gap: 1.3rem;\r\n}\r\n\r\n.action-icon {\r\n  font-size: 1.5rem;\r\n  color: #5e5e5e;\r\n  cursor: pointer;\r\n  transition: color 0.2s ease, transform 0.2s ease;\r\n  padding: 0.5rem;\r\n  border-radius: 40%;\r\n  background-color: #f1f5f9;\r\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.04);\r\n}\r\n\r\n.action-icon:hover {\r\n  color: #007bff;\r\n  background-color: #e6f0ff;\r\n  transform: scale(1.1);\r\n}\r\n\r\n.action-icon.danger:hover {\r\n  color: #e53935;\r\n  background-color: #ffecec;\r\n}\r\n\r\n.action-icon.active {\r\n  background-color: #e6f0ff;\r\n  color: #007bff;\r\n  box-shadow: inset 0 0 0 2px #007bff;\r\n  border-radius: 40%;\r\n  padding: 0.5rem;\r\n}\r\n\r\n.action-icon.danger.active {\r\n  background-color: #ffecec;\r\n  color: #e53935;\r\n  box-shadow: inset 0 0 0 2px #e53935;\r\n}\r\n\r\n.action-icon.disabled:not(.loading) {\r\n  opacity: 0.4;\r\n  pointer-events: none;\r\n  transition: opacity 0.4s ease;\r\n}\r\n\r\n.user-attributes-row {\r\n  display: grid;\r\n  grid-template-columns: 0.1fr 1.5fr 1.5fr 0.9fr;\r\n  gap: 1.8rem;\r\n  font-size: 0.94rem;\r\n  height: 3rem;\r\n  margin-top: 0;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.attribute {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  justify-content: center;\r\n  gap: 0.25rem;\r\n  border-left: 3.5px solid #cccccc;\r\n  padding-left: 0.8rem;\r\n  transition: border-color 0.2s ease-in-out;\r\n}\r\n\r\n.label {\r\n  font-weight: 500;\r\n  color: #6a6a6a;\r\n  font-size: 0.82rem;\r\n  letter-spacing: 0.2px;\r\n  text-transform: uppercase;\r\n  opacity: 0.85;\r\n}\r\n\r\n.value {\r\n  font-weight: 600;\r\n  font-size: 1rem;\r\n  color: #212121;\r\n  word-break: break-word;\r\n  line-height: 1.3;\r\n}\r\n\r\n.value.connected {\r\n  color: #28a745;\r\n}\r\n\r\n.value.disconnected {\r\n  color: #d9534f;\r\n}\r\n\r\n.value.admin-role {\r\n  color: #007bff;\r\n}\r\n\r\n.value.user-role {\r\n  color: #6c757d;\r\n}\r\n\r\n.input-group.icon-input {\r\n  position: relative;\r\n}\r\n\r\n.input-group input {\r\n  width: 87%;\r\n  padding: 0.75rem 1rem 0.75rem 2.8rem;\r\n  border: 1.6px solid #d1d5db;\r\n  border-radius: 12px;\r\n  background-color: #f8f9fb;\r\n  font-size: 0.95rem;\r\n  font-weight: 500;\r\n  color: #333;\r\n  transition: all 0.25s ease;\r\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.04);\r\n}\r\n\r\n.input-group input:focus {\r\n  outline: none;\r\n  background-color: #fff;\r\n  border-color: #4a90e2;\r\n  box-shadow: 0 0 0 3px rgba(74, 144, 226, 0.2);\r\n}\r\n\r\n.input-group i {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 0.9rem;\r\n  transform: translateY(-50%);\r\n  color: #888;\r\n  font-size: 1rem;\r\n}\r\n\r\n.input-group .toggle {\r\n  left: 29rem;\r\n  pointer-events: auto;\r\n  transform: translateY(-50%);\r\n  font-size: 1rem;\r\n  cursor: pointer;\r\n  color: #999;\r\n  transition: color 0.2s ease;\r\n}\r\n\r\n.input-group .toggle:hover {\r\n  color: #4a90e2;\r\n}\r\n\r\ninput.error {\r\n  border: 1.5px solid #e53935 !important;\r\n  background-color: #fff6f6;\r\n}\r\n\r\n.form-error-message {\r\n  color: #e53935;\r\n  background-color: #ffe9e9;\r\n  padding: 0.6rem 1rem;\r\n  border-radius: 8px;\r\n  font-size: 0.88rem;\r\n  font-weight: 500;\r\n  margin-top: 0.4rem;\r\n  text-align: left;\r\n  margin: 0;\r\n}\r\n\r\n.form-success-message {\r\n  color: #28a745;\r\n  background-color: #e8f6ec;\r\n  padding: 0.65rem 1rem;\r\n  border: 1px solid #28a74555;\r\n  border-radius: 8px;\r\n  font-size: 0.9rem;\r\n  font-weight: 500;\r\n  text-align: center;\r\n  margin-top: 1rem;\r\n  animation: fadeInOut 2.5s ease-in-out;\r\n}\r\n\r\n@keyframes fadeInOut {\r\n  0% { opacity: 0; transform: translateY(-5px); }\r\n  15% { opacity: 1; transform: translateY(0); }\r\n  85% { opacity: 1; transform: translateY(0); }\r\n  100% { opacity: 0; transform: translateY(-5px); }\r\n}\r\n\r\n.delete-confirm-box {\r\n  background: linear-gradient(135deg, #fff4f4, #ffeaea);\r\n  border-left: 5px solid #e53935;\r\n  border-radius: 12px;\r\n  padding: 1.2rem 1.5rem;\r\n  box-shadow: 0 4px 14px rgba(229, 57, 53, 0.08);\r\n  text-align: left;\r\n  animation: fadeIn 0.3s ease-in-out;\r\n  position: relative;\r\n}\r\n\r\n.delete-confirm-box p {\r\n  margin: 0 0 1rem;\r\n  font-size: 0.96rem;\r\n  font-weight: 500;\r\n  color: #b91c1c;\r\n}\r\n\r\n.delete-confirm-box strong {\r\n  color: #333;\r\n}\r\n\r\n.delete-confirm-box .modal-actions {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 1rem;\r\n}\r\n\r\n.delete-confirm-box .confirm-btn.danger {\r\n  background-color: #e53935;\r\n  color: #fff;\r\n  font-weight: 600;\r\n}\r\n\r\n.delete-confirm-box .confirm-btn.danger:hover {\r\n  background-color: #c62828;\r\n}\r\n\r\n.delete-confirm-box .cancel-btn {\r\n  background-color: #f1f1f1;\r\n  color: #444;\r\n  font-weight: 500;\r\n}\r\n\r\n.delete-confirm-box .cancel-btn:hover {\r\n  background-color: #e2e2e2;\r\n}\r\n\r\n.cancel-btn:disabled {\r\n  opacity: 0.4;\r\n  cursor: not-allowed;\r\n  transition: opacity 0.4s ease;\r\n}\r\n\r\n@keyframes fadeIn {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(8px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n}\r\n\r\n.modal-actions {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  flex-wrap: wrap;\r\n  gap: 1rem;\r\n}\r\n\r\n.cancel-btn,\r\n.confirm-btn {\r\n  padding: 0.65rem 1.5rem;\r\n  font-size: 0.93rem;\r\n  font-weight: 600;\r\n  border-radius: 10px;\r\n  border: none;\r\n  cursor: pointer;\r\n  letter-spacing: 0.4px;\r\n  transition: all 0.2s ease-in-out;\r\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.cancel-btn {\r\n  background-color: #f0f0f0;\r\n  color: #444;\r\n}\r\n\r\n.cancel-btn:hover {\r\n  background-color: #d9d9d9;\r\n  box-shadow: 0 3px 8px rgba(0, 0, 0, 0.07);\r\n}\r\n\r\n.confirm-btn {\r\n  background-color: #007bff;\r\n  color: #fff;\r\n}\r\n\r\n.confirm-btn:hover {\r\n  background-color: #0056b3;\r\n  box-shadow: 0 3px 10px rgba(0, 123, 255, 0.25);\r\n}\r\n\r\n.confirm-btn.danger {\r\n  background-color: #e53935;\r\n  color: #fff;\r\n}\r\n\r\n.confirm-btn.danger:hover {\r\n  background-color: #c62828;\r\n  box-shadow: 0 3px 10px rgba(229, 57, 53, 0.25);\r\n}\r\n\r\n@keyframes fadeIn {\r\n  from {\r\n    transform: translateY(-10px);\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    transform: translateY(0);\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n@media (max-width: 600px) {\r\n  .modal-content {\r\n    padding: 1.2rem;\r\n  }\r\n  .user-actions-header {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    gap: 1.5rem;\r\n  }\r\n  .user-info-block {\r\n    order: 1;\r\n    width: 100%;\r\n    text-align: center;\r\n    justify-content: center;\r\n    flex-direction: column;\r\n    align-items: center;\r\n  }\r\n  .avatar-large {\r\n    width: 70px;\r\n    height: 70px;\r\n    margin-bottom: 0.5rem;\r\n  }\r\n  .user-actions-icons {\r\n    order: 2;\r\n    width: 100%;\r\n    display: flex;\r\n    gap: 1rem;\r\n    justify-content: center;\r\n  }\r\n  .user-attributes-row {\r\n    display: none !important;\r\n  }\r\n  .modal-actions {\r\n    justify-content: center;\r\n  }\r\n  .input-group input {\r\n    width: 80%;\r\n  }\r\n  .input-group .toggle {\r\n    left: 18rem;\r\n    transform: translateY(-50%);\r\n  }\r\n}\r\n</style>","import { render } from \"./UserActionsModal.vue?vue&type=template&id=3231bfda&scoped=true\"\nimport script from \"./UserActionsModal.vue?vue&type=script&lang=js\"\nexport * from \"./UserActionsModal.vue?vue&type=script&lang=js\"\n\nimport \"./UserActionsModal.vue?vue&type=style&index=0&id=3231bfda&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3231bfda\"]])\n\nexport default __exports__","<template>\r\n  <dialog ref=\"dialog\" class=\"user-modal\" @close=\"onDialogClose\">\r\n    <form @submit.prevent=\"validateAndSubmit\" class=\"modal-content\" :class=\"{ 'fade-out': isClosing }\">\r\n\r\n      <div v-if=\"toastMessage\" :class=\"['mini-toast', toastType]\">\r\n        {{ toastMessage }}\r\n      </div>\r\n\r\n      <h2 class=\"modal-title\">AÑADIR NUEVO USUARIO</h2>\r\n      <p class=\"modal-subtitle\">Añade la información del nuevo usuario</p>\r\n\r\n      <div class=\"user-basic-info\">\r\n        <div class=\"avatar-wrapper\" @click=\"emitTriggerFile\" title=\"Cambiar avatar\">\r\n          <img\r\n            :src=\"previewPhoto || require('../../assets/img/default-avatar.webp')\"\r\n            alt=\"Avatar\"\r\n            class=\"avatar-preview\"\r\n            draggable=\"false\"\r\n          />\r\n        </div>\r\n\r\n        <div class=\"user-fields\">\r\n          <div class=\"input-group icon-input\">\r\n            <i class=\"fas fa-user\"></i>\r\n            <input type=\"text\" v-model=\"name\" placeholder=\"Nombre\" :class=\"{ error: invalidFields.name }\" :disabled=\"isDisabled\"/>\r\n          </div>\r\n\r\n          <div class=\"input-group icon-input\">\r\n            <i class=\"fas fa-envelope\"></i>\r\n            <input type=\"email\" v-model=\"email\" placeholder=\"Correo\" :class=\"{ error: invalidFields.email }\" :disabled=\"isDisabled\"/>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <input type=\"file\" ref=\"fileInput\" accept=\"image/*\" @change=\"emitUploadPhoto\" style=\"display: none\"/>\r\n\r\n      <div class=\"password-role-row\">\r\n        <div class=\"input-group icon-input password-field\">\r\n          <i class=\"fas fa-lock\"></i>\r\n          <input :type=\"showNewPassword ? 'text' : 'password'\" v-model=\"password\" placeholder=\"Contraseña\" :class=\"{ error: invalidFields.password }\" :disabled=\"isDisabled\"/>\r\n          <i :class=\"showNewPassword ? 'fas fa-eye-slash' : 'fas fa-eye'\" @click=\"emitTogglePassword\" class=\"toggle\"></i>\r\n        </div>\r\n\r\n        <div class=\"input-group icon-input role-field\">\r\n          <i class=\"fas fa-user-tag\"></i>\r\n          <select v-model=\"role\" :class=\"{ error: invalidFields.role }\" :disabled=\"isDisabled\">\r\n            <option value=\"\" disabled selected hidden>Rol</option>\r\n            <option value=\"user\">Usuario</option>\r\n            <option value=\"admin\">Administrador</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      <p v-if=\"localFormError\" class=\"form-error-message\">{{ localFormError }}</p>\r\n\r\n      <div class=\"modal-actions\">\r\n        <button type=\"button\" class=\"cancel-btn\" @click=\"emitClose\" :disabled=\"isDisabled\">\r\n          Cancelar\r\n        </button>\r\n\r\n        <button type=\"submit\" class=\"confirm-btn\" :disabled=\"isDisabled\">\r\n          <template v-if=\"isSubmitting\">\r\n            <i class=\"fas fa-spinner fa-spin\"></i> Enviando...\r\n          </template>\r\n          <template v-else>\r\n            Confirmar\r\n          </template>\r\n        </button>\r\n      </div>\r\n\r\n    </form>\r\n  </dialog>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'AddUserModal',\r\n  props: {\r\n    isOpen: { type: Boolean, required: true },\r\n    previewPhoto: { type: String, default: null },\r\n    showNewPassword: { type: Boolean, required: true },\r\n  },\r\n  emits: ['close', 'submit', 'upload-photo', 'trigger-file', 'toggle-password'],\r\n  data() {\r\n    return {\r\n      name: '',\r\n      email: '',\r\n      password: '',\r\n      role: '',\r\n      localFormError: '',\r\n      invalidFields: { name: false, email: false, password: false, role: false },\r\n      isSubmitting: false,\r\n      toastMessage: '',\r\n      toastType: '',\r\n      isClosing: false,\r\n    };\r\n  },\r\n  computed: {\r\n    isDisabled() {\r\n      return this.isSubmitting || !!this.toastMessage;\r\n    }\r\n  },\r\n  watch: {\r\n    isOpen(newVal) {\r\n      if (newVal) {\r\n        this.isClosing = false;\r\n        this.$refs.dialog?.showModal();\r\n      } else {\r\n        this.$refs.dialog?.close();\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    emitClose() {\r\n      this.resetForm();\r\n      this.$emit('close');\r\n    },\r\n    emitUploadPhoto(event) {\r\n      this.$emit('upload-photo', event);\r\n    },\r\n    emitTriggerFile() {\r\n      if (!this.isDisabled) {\r\n        this.$refs.fileInput?.click();\r\n      }\r\n    },\r\n    emitTogglePassword() {\r\n      this.$emit('toggle-password', 'new');\r\n    },\r\n    async validateAndSubmit() {\r\n      this.localFormError = '';\r\n      this.invalidFields = { name: false, email: false, password: false, role: false };\r\n\r\n      const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n      const passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*[\\d\\W]).{6,}$/;\r\n\r\n      if (!this.name.trim()) this.invalidFields.name = true;\r\n      if (!this.email.trim()) this.invalidFields.email = true;\r\n      if (!this.password.trim()) this.invalidFields.password = true;\r\n      if (!this.role) this.invalidFields.role = true;\r\n\r\n      if (!this.name || !this.email || !this.password || !this.role) {\r\n        this.localFormError = 'Por favor, completa todos los campos.';\r\n        return;\r\n      }\r\n\r\n      if (!emailRegex.test(this.email)) {\r\n        this.invalidFields.email = true;\r\n        this.localFormError = 'El correo no tiene formato válido.';\r\n        return;\r\n      }\r\n\r\n      if (!passwordRegex.test(this.password)) {\r\n        this.invalidFields.password = true;\r\n        this.localFormError = 'La contraseña debe tener al menos 6 caracteres, mayúscula, minúscula y número/símbolo.';\r\n        return;\r\n      }\r\n\r\n      this.isSubmitting = true;\r\n\r\n      this.$emit('submit', {\r\n        name: this.name.trim(),\r\n        email: this.email.trim(),\r\n        password: this.password.trim(),\r\n        role: this.role,\r\n        done: this.onSubmitDone\r\n      });\r\n    },\r\n    onSubmitDone(success, message) {\r\n      this.toastMessage = message;\r\n      this.toastType = success ? 'success' : 'error';\r\n\r\n      setTimeout(() => {\r\n        this.toastMessage = '';\r\n        this.emitClose();\r\n      }, 2500);\r\n    },\r\n    onDialogClose() {\r\n      this.resetForm();\r\n    },\r\n    resetForm() {\r\n      this.name = '';\r\n      this.email = '';\r\n      this.password = '';\r\n      this.role = '';\r\n      this.localFormError = '';\r\n      this.invalidFields = { name: false, email: false, password: false, role: false };\r\n      this.isSubmitting = false;\r\n      this.toastMessage = '';\r\n      this.toastType = '';\r\n      this.isClosing = false;\r\n      document.body.style.overflow = '';\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n::backdrop {\r\n  background: rgba(0, 0, 0, 0.4);\r\n  backdrop-filter: blur(2px);\r\n}\r\n\r\n.user-modal {\r\n  border: none;\r\n  border-radius: 16px;\r\n  padding: 0;\r\n  width: 100%;\r\n  max-width: 570px;\r\n  max-height: 480px;\r\n  box-shadow: 0 12px 32px rgba(0, 0, 0, 0.2);\r\n  font-family: 'Poppins', sans-serif;\r\n  animation: fadeIn 0.3s ease;\r\n}\r\n\r\n@keyframes fadeIn {\r\n  from {\r\n    transform: translateY(-20px);\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    transform: translateY(0);\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n.modal-content {\r\n  padding: 2rem;\r\n  background-color: #fff;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1.5rem;\r\n}\r\n\r\n.modal-title {\r\n  font-size: 1.6rem;\r\n  font-weight: 700;\r\n  text-align: center;\r\n  margin: 0;\r\n  color: #1f1f1f;\r\n}\r\n\r\n.modal-subtitle {\r\n  font-size: 0.95rem;\r\n  text-align: center;\r\n  color: #666;\r\n  margin-top: -1.3rem;\r\n}\r\n\r\n.user-basic-info {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 1.2rem;\r\n  justify-content: center;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.avatar-wrapper {\r\n  margin-top: 0;\r\n  cursor: pointer;\r\n  transition: transform 0.3s ease, box-shadow 0.3s ease;\r\n  padding: 0;\r\n}\r\n\r\n.avatar-wrapper:hover .avatar-preview {\r\n  transform: scale(1.05);\r\n  box-shadow: 0 0 12px rgba(0, 123, 255, 0.35), 0 0 6px rgba(0, 123, 255, 0.2);\r\n}\r\n\r\n.avatar-preview {\r\n  width: 96px;\r\n  height: 96px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n  border: 3px solid #007bff;\r\n  box-shadow: 0 0 10px rgba(0, 123, 255, 0.2);\r\n  pointer-events: none;\r\n  user-select: none;\r\n  transition: transform 0.3s ease, box-shadow 0.3s ease;\r\n}\r\n\r\n.user-fields {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1rem;\r\n  flex: 1;\r\n  min-width: 220px;\r\n}\r\n\r\n.input-group {\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.input-group.full {\r\n  width: 100%;\r\n}\r\n\r\n.input-group input,\r\n.input-group select {\r\n  width: 100%;\r\n  padding: 0.65rem 0.9rem 0.65rem 2.6rem;\r\n  border: 1.5px solid #ccc;\r\n  border-radius: 10px;\r\n  font-size: 0.92rem;\r\n  background-color: #f9f9f9;\r\n  color: #333;\r\n  transition: border-color 0.2s ease, box-shadow 0.2s ease;\r\n}\r\n\r\n.input-group input::placeholder {\r\n  color: #aaa;\r\n}\r\n\r\n.input-group input:focus,\r\n.input-group select:focus {\r\n  outline: none;\r\n  border-color: #007bff;\r\n  background-color: #fff;\r\n  box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.1);\r\n}\r\n\r\n.icon-input i {\r\n  position: absolute;\r\n  left: 0.9rem;\r\n  font-size: 1rem;\r\n  color: #888;\r\n  pointer-events: none;\r\n}\r\n\r\n.password-role-row {\r\n  display: flex;\r\n  gap: 1rem;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.input-group .toggle {\r\n  left: 17rem;\r\n  pointer-events: auto;\r\n  cursor: pointer;\r\n  transition: color 0.2s ease;\r\n}\r\n\r\n.input-group .toggle:hover {\r\n  color: #007bff;\r\n}\r\n\r\n.password-field {\r\n  flex: 2;\r\n}\r\n\r\n.role-field {\r\n  flex: 1.2;\r\n}\r\n\r\n.input-group select {\r\n  appearance: none;\r\n  background-image: url(\"data:image/svg+xml,%3Csvg fill='%23666' height='24' viewBox='0 0 24 24' width='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M7 10l5 5 5-5z'/%3E%3C/svg%3E\");\r\n  background-repeat: no-repeat;\r\n  background-position: right 1rem center;\r\n  background-size: 16px 16px;\r\n}\r\n\r\n.form-error-message {\r\n  color: #ec1a03;\r\n  background-color: #ffecec;\r\n  padding: 0.8rem 1rem;\r\n  border: 1.3px solid #ec1a03;\r\n  border-radius: 8px;\r\n  font-size: 0.92rem;\r\n  font-weight: 500;\r\n  text-align: center;\r\n  margin: 0;\r\n  animation: shake 0.2s ease-in-out;\r\n}\r\n\r\n@keyframes shake {\r\n  0% { transform: translateX(0); }\r\n  25% { transform: translateX(-4px); }\r\n  50% { transform: translateX(4px); }\r\n  75% { transform: translateX(-4px); }\r\n  100% { transform: translateX(0); }\r\n}\r\n\r\n.input-group input.error,\r\n.input-group select.error {\r\n  border: 1.5px solid #ec1a03;\r\n  box-shadow: 0 0 5px rgba(236, 26, 3, 0.5);\r\n  background-color: #fffafa;\r\n}\r\n\r\n.modal-actions {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 1rem;\r\n}\r\n\r\n.cancel-btn,\r\n.confirm-btn {\r\n  padding: 0.6rem 1.3rem;\r\n  border: none;\r\n  font-weight: 600;\r\n  font-size: 0.9rem;\r\n  border-radius: 10px;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease-in-out;\r\n}\r\n\r\n.cancel-btn {\r\n  background-color: #e0e0e0;\r\n  color: #333;\r\n}\r\n\r\n.cancel-btn:hover {\r\n  background-color: #c5c5c5;\r\n}\r\n\r\n.confirm-btn {\r\n  background-color: #007bff;\r\n  color: #fff;\r\n}\r\n\r\n.confirm-btn:hover {\r\n  background-color: #0056b3;\r\n}\r\n\r\n.cancel-btn:disabled,\r\n.confirm-btn:disabled {\r\n  background-color: #cccccc;\r\n  color: #666666;\r\n  cursor: not-allowed;\r\n  opacity: 0.8;\r\n  box-shadow: none;\r\n  transform: none;\r\n  pointer-events: none; \r\n}\r\n\r\n.cancel-btn:disabled:hover,\r\n.confirm-btn:disabled:hover {\r\n  background-color: inherit;\r\n  color: inherit;\r\n}\r\n\r\n.mini-toast {\r\n  position: absolute;\r\n  bottom: 30px;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  padding: 10px 20px;\r\n  font-size: 0.9rem;\r\n  font-weight: 600;\r\n  border-radius: 8px;\r\n  animation: fadeInOut 2.5s ease forwards;\r\n  z-index: 1000;\r\n}\r\n\r\n.mini-toast.success {\r\n  background-color: #28a745;\r\n  color: white;\r\n}\r\n\r\n.mini-toast.error {\r\n  background-color: #dc3545;\r\n  color: white;\r\n}\r\n\r\n@media (max-width: 430px) {\r\n  .user-modal {\r\n    max-height: none;\r\n    padding: 0 !important;\r\n    border-radius: 12px;\r\n  }\r\n\r\n  .modal-content {\r\n    padding: 1.2rem;\r\n    gap: 1rem;\r\n  }\r\n\r\n  .avatar-preview {\r\n    width: 70px;\r\n    height: 70px;\r\n  }\r\n\r\n  .cancel-btn,\r\n  .confirm-btn {\r\n    font-size: 0.85rem;\r\n    padding: 0.6rem;\r\n    width: 100%;\r\n  }\r\n\r\n  .input-group input,\r\n  .input-group select {\r\n    font-size: 0.85rem;\r\n    padding-left: 2.4rem;\r\n  }\r\n\r\n  .input-group .toggle {\r\n    right: 0.6rem;\r\n  }\r\n\r\n  .user-fields {\r\n    gap: 0.8rem;\r\n  }\r\n\r\n  .password-role-row {\r\n    gap: 0.8rem;\r\n  }\r\n}\r\n</style>","import { render } from \"./AddUserModal.vue?vue&type=template&id=19928796&scoped=true\"\nimport script from \"./AddUserModal.vue?vue&type=script&lang=js\"\nexport * from \"./AddUserModal.vue?vue&type=script&lang=js\"\n\nimport \"./AddUserModal.vue?vue&type=style&index=0&id=19928796&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-19928796\"]])\n\nexport default __exports__","// src/data/users.js\r\nexport default [\r\n  {\r\n    id: 1,\r\n    name: \"José Macías\",\r\n    email: \"admin@kiibot.com\",\r\n    role: \"admin\",\r\n    profile_photo: \"\",\r\n    last_seen_text: \"Activo\",\r\n    is_online: true,\r\n  },\r\n  {\r\n    id: 2,\r\n    name: \"Sofía Torres\",\r\n    email: \"sofia@kiibot.com\",\r\n    role: \"user\",\r\n    profile_photo: \"\",\r\n    last_seen_text: \"Hace 1 día\",\r\n    is_online: false,\r\n  },\r\n];\r\n","import { render } from \"./UserManagement.vue?vue&type=template&id=20027e8a&scoped=true\"\nimport script from \"./UserManagement.vue?vue&type=script&lang=js\"\nexport * from \"./UserManagement.vue?vue&type=script&lang=js\"\n\nimport \"./UserManagement.vue?vue&type=style&index=0&id=20027e8a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-20027e8a\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"metrics-panel\">\r\n\r\n    <div class=\"metrics-header\">\r\n      <div class=\"left-column\">\r\n        <div class=\"select-refresh-group\">\r\n          <select v-model=\"filters.type\" class=\"metric-select\">\r\n            <option value=\"generales\">Generales</option>\r\n            <option v-for=\"user in users\" :key=\"user.id\" :value=\"user.id\">\r\n              {{ user.name }}\r\n            </option>\r\n          </select>\r\n\r\n          <button class=\"refresh-btn\" @click=\"updateMetrics\">\r\n            <i class=\"fas fa-sync-alt\"></i>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"right-column\">\r\n        <button class=\"icon-btn\" @click=\"openModal('time')\">\r\n          <i class=\"fas fa-clock\"></i>\r\n        </button>\r\n\r\n        <button class=\"icon-btn\" @click=\"openModal('date')\">\r\n          <i class=\"fas fa-calendar-alt\"></i>\r\n        </button>\r\n\r\n        <button class=\"refresh-btn mobile\" @click=\"updateMetrics\">\r\n          <i class=\"fas fa-sync-alt\"></i>\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"filter-dropdown-container\" v-if=\"appliedFilters.time || appliedFilters.date\">\r\n      <div class=\"filter-dropdown-toggle\" @click=\"toggleFilterDropdown\">\r\n        <span><i class=\"fas fa-sliders-h\"></i> Filtros Aplicados</span>\r\n        <i :class=\"['fas', showFilterDropdown ? 'fa-chevron-up' : 'fa-chevron-down']\"></i>\r\n      </div>\r\n      <div class=\"filter-dropdown-content\" v-show=\"showFilterDropdown\">\r\n        <div class=\"applied-filter\" v-if=\"appliedFilters.time\">\r\n          <i class=\"fas fa-clock\"></i>\r\n          Hora: {{ appliedFilters.time.startDisplay }} - {{ appliedFilters.time.endDisplay }}\r\n          <i class=\"fas fa-times clear-icon\" @click=\"clearTimeFilter\" title=\"Quitar filtro de hora\"></i>\r\n        </div>\r\n        <div class=\"applied-filter\" v-if=\"appliedFilters.date\">\r\n          <i class=\"fas fa-calendar-alt\"></i>\r\n          Fecha: {{ appliedFilters.date.display }}\r\n          <i class=\"fas fa-times clear-icon\" @click=\"clearDateFilter\" title=\"Quitar filtro de fecha\"></i>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <ModalTime v-if=\"activeModal === 'time'\" @close=\"closeModal\" @apply=\"applyTimeFilter\" />\r\n    <ModalDate v-if=\"activeModal === 'date'\" @close=\"closeModal\" @apply=\"applyDateFilter\" />\r\n\r\n    <GeneralMetrics\r\n      v-if=\"filters.type === 'generales'\"\r\n      :filters=\"filters\"\r\n      :appliedFilters=\"appliedFilters\"\r\n    />\r\n\r\n    <UserMetrics\r\n      v-else\r\n      :userId=\"filters.type\"\r\n      :filters=\"filters\"\r\n      :appliedFilters=\"appliedFilters\"\r\n    />\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ModalTime from '../components/Metrics/Modals/ModalTime.vue';\r\nimport ModalDate from '../components/Metrics/Modals/ModalDate.vue';\r\nimport GeneralMetrics from '../components/Metrics/GeneralMetrics.vue';\r\nimport UserMetrics from '../components/Metrics/UserMetrics.vue';\r\n\r\nexport default {\r\n  name: 'MetricsPanel',\r\n  components: {\r\n    ModalTime,\r\n    ModalDate,\r\n    GeneralMetrics,\r\n    UserMetrics\r\n  },\r\n  data() {\r\n    return {\r\n      filters: { type: 'generales' },\r\n      users: [\r\n        { id: 'usuario1', name: 'Usuario 1' },\r\n        { id: 'usuario2', name: 'Usuario 2' },\r\n        { id: 'usuario3', name: 'Usuario 3' },\r\n      ],\r\n      activeModal: null, \r\n      appliedFilters: {\r\n        time: null,\r\n        date: null\r\n      },\r\n      showFilterDropdown: false,\r\n    };\r\n  },\r\n  methods: {\r\n    updateMetrics() {\r\n      const timeFilter = this.appliedFilters.time;\r\n      if (timeFilter) {\r\n        console.log('Final start:', timeFilter.start);\r\n        console.log('Final end:', timeFilter.end);\r\n      }\r\n\r\n      console.log('Updating metrics with filters:', this.filters);\r\n    },\r\n    openModal(type) {\r\n      this.activeModal = type;\r\n    },\r\n    closeModal() {\r\n      this.activeModal = null;\r\n    },\r\n    applyTimeFilter(timeFilter) {\r\n      const start24 = this.convertTo24(timeFilter.start12h);\r\n      const end24 = this.convertTo24(timeFilter.end12h);\r\n\r\n      this.appliedFilters.time = {\r\n        start: start24,\r\n        end: end24,\r\n        startDisplay: timeFilter.start12h,\r\n        endDisplay: timeFilter.end12h,\r\n        label: timeFilter.label || null\r\n      };\r\n\r\n      this.activeModal = null;\r\n      this.showFilterDropdown = true;\r\n    },\r\n    applyDateFilter(dateRange) {\r\n      this.appliedFilters.date = {\r\n        start: dateRange.start,\r\n        end: dateRange.end,\r\n        display: dateRange.display\r\n      };\r\n\r\n      this.activeModal = null;\r\n      this.showFilterDropdown = true;\r\n    },\r\n    toggleFilterDropdown() {\r\n      this.showFilterDropdown = !this.showFilterDropdown;\r\n    },\r\n    clearTimeFilter() {\r\n      this.appliedFilters.time = null;\r\n      this.showFilterDropdown = false;\r\n    },\r\n    clearDateFilter() {\r\n      this.appliedFilters.date = null;\r\n      this.showFilterDropdown = false;\r\n    },\r\n    convertTo24(time12h) {\r\n      const [time, modifier] = time12h.split(' ');\r\n      let [hours, minutes] = time.split(':');\r\n\r\n      if (modifier === 'PM' && hours !== '12') hours = String(+hours + 12);\r\n      if (modifier === 'AM' && hours === '12') hours = '00';\r\n\r\n      return `${hours.padStart(2, '0')}:${minutes}:00`;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.metrics-panel {\r\n  padding: 0 3rem;\r\n  font-family: 'Inter', sans-serif;\r\n  max-width: 1000px;\r\n  margin: 0 auto;\r\n}\r\n\r\n/*  */\r\n.metrics-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n  flex-wrap: wrap;\r\n  font-family: 'Poppins', sans-serif;\r\n  gap: 1.5rem;\r\n  margin-bottom: 1rem;\r\n  animation: fadeIn 0.4s ease-in-out;\r\n}\r\n\r\n.left-column {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1rem;\r\n}\r\n\r\n.metric-select {\r\n  padding: 0.7rem 1rem;\r\n  border: 1.8px solid #d1d5db;\r\n  border-radius: 12px;\r\n  background-color: #f8f9fb;\r\n  font-size: 1rem;\r\n  font-weight: 500;\r\n  color: #333;\r\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.04);\r\n  transition: all 0.25s ease;\r\n}\r\n\r\n.metric-select:focus {\r\n  outline: none;\r\n  background-color: #fff;\r\n  border-color: #4a90e2;\r\n  box-shadow: 0 0 0 3px rgba(74, 144, 226, 0.2);\r\n}\r\n\r\n.select-refresh-group {\r\n  display: flex;\r\n  gap: 0.75rem;\r\n  align-items: center;\r\n}\r\n\r\n.select-refresh-group .metric-select {\r\n  min-width: 180px;\r\n}\r\n\r\n.select-refresh-group .refresh-btn {\r\n  padding: 0.6rem 0.8rem;\r\n  height: 44px;\r\n  width: 44px;\r\n}\r\n\r\n.refresh-btn {\r\n  padding: 0.65rem;\r\n  background-color: #007bff;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 12px;\r\n  cursor: pointer;\r\n  font-size: 1.1rem;\r\n  font-weight: 600;\r\n  transition: background-color 0.3s ease, transform 0.2s ease;\r\n  box-shadow: 0 3px 8px rgba(0, 123, 255, 0.15);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.refresh-btn i {\r\n  margin: 0;\r\n}\r\n\r\n.refresh-btn:hover {\r\n  background-color: #0056b3;\r\n  transform: scale(1.02);\r\n}\r\n\r\n.right-column {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 1rem;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.icon-btn {\r\n  width: 46px;\r\n  height: 46px;\r\n  border-radius: 50%;\r\n  background-color: #f1f5f9;\r\n  border: none;\r\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.icon-btn i {\r\n  font-size: 1.2rem;\r\n  color: #4a4a4a;\r\n  transition: color 0.2s ease;\r\n}\r\n\r\n.icon-btn:hover {\r\n  background-color: #e6f0ff;\r\n  box-shadow: 0 3px 8px rgba(0, 123, 255, 0.12);\r\n}\r\n\r\n.icon-btn:hover i {\r\n  color: #007bff;\r\n}\r\n\r\n@keyframes fadeIn {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(-6px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n}\r\n\r\n.refresh-btn.mobile {\r\n  display: none;\r\n}\r\n\r\n/*  */\r\n.filter-dropdown-container {\r\n  background-color: #f4f6fa;\r\n  border: 1.5px solid #dbe3ef;\r\n  border-radius: 12px;\r\n  padding: 0.7rem 1rem;\r\n  box-shadow: 0 2px 6px rgba(0, 123, 255, 0.05);\r\n  font-size: 0.94rem;\r\n  font-weight: 500;\r\n  margin-bottom: 2rem;\r\n  max-width: 300px;\r\n  animation: fadeIn 0.3s ease-in-out;\r\n}\r\n\r\n.filter-dropdown-toggle {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  color: #333;\r\n  font-weight: 600;\r\n  user-select: none;\r\n}\r\n\r\n.filter-dropdown-toggle i {\r\n  font-size: 1rem;\r\n  color: #007bff;\r\n}\r\n\r\n.filter-dropdown-content {\r\n  margin-top: 0.8rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.4rem;\r\n}\r\n\r\n.applied-filter {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.6rem;\r\n  \r\n  padding: 0.4rem 0;\r\n  color: #333;\r\n  position: relative;\r\n}\r\n\r\n.applied-filter i.fa-clock {\r\n  color: #007bff;\r\n}\r\n\r\n.clear-icon {\r\n  margin-left: auto;\r\n  cursor: pointer;\r\n  color: #e53935;\r\n  font-size: 0.9rem;\r\n  transition: color 0.2s ease;\r\n}\r\n\r\n.clear-icon:hover {\r\n  color: #c62828;\r\n}\r\n\r\n/*  */\r\n@media (max-width: 520px) {\r\n  .select-refresh-group .refresh-btn {\r\n    display: none;\r\n  }\r\n\r\n  .refresh-btn.mobile {\r\n    display: flex;\r\n    width: 44px;\r\n    height: 44px;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n\r\n  .metrics-header {\r\n    flex-direction: column;\r\n    align-items: stretch;\r\n    padding: 1.2rem;\r\n  }\r\n\r\n  .right-column {\r\n    justify-content: center;\r\n    gap: 1.2rem;\r\n    flex-wrap: wrap;\r\n  }\r\n\r\n  .left-column {\r\n    align-items: center;\r\n  }\r\n\r\n  .refresh-btn {\r\n    width: 100%;\r\n    justify-content: center;\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <dialog ref=\"dialog\" class=\"user-modal time-filter-modal\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h2 class=\"modal-title\">\r\n          <i class=\"fas fa-clock\"></i> Selecciona un rango de hora\r\n        </h2>\r\n      </div>\r\n\r\n      <div class=\"time-form\">\r\n        <div class=\"time-field\">\r\n          <label for=\"start-time\">Hora de inicio</label>\r\n          <input id=\"start-time\" type=\"time\" v-model=\"customStart\" @input=\"validateTimes\" />\r\n        </div>\r\n\r\n        <div class=\"time-field\">\r\n          <label for=\"end-time\">Hora de fin</label>\r\n          <input id=\"end-time\" type=\"time\" v-model=\"customEnd\" @input=\"validateTimes\" />\r\n        </div>\r\n\r\n        <p v-if=\"validationError\" class=\"form-error-message\">{{ validationError }}</p>\r\n\r\n        <button class=\"confirm-btn\" @click=\"applyCustom\" :disabled=\"!customStart || !customEnd || Boolean(validationError)\" >\r\n          <i class=\"fas fa-check-circle\"></i> Aplicar\r\n        </button>\r\n      </div>\r\n\r\n      <div class=\"modal-actions\">\r\n        <button class=\"cancel-btn\" @click=\"close\">Cancelar</button>\r\n      </div>\r\n    </div>\r\n  </dialog>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'ModalTime',\r\n  data() {\r\n    return {\r\n      customStart: '',\r\n      customEnd: '',\r\n      validationError: ''\r\n    };\r\n  },\r\n  mounted() {\r\n    this.openDialog();\r\n  },\r\n  methods: {\r\n    openDialog() {\r\n      const dialog = this.$refs.dialog;\r\n      if (dialog && typeof dialog.showModal === 'function') {\r\n        dialog.showModal();\r\n      }\r\n    },\r\n    close() {\r\n      const dialog = this.$refs.dialog;\r\n      if (dialog && typeof dialog.close === 'function') {\r\n        dialog.close();\r\n      }\r\n      this.$emit('close');\r\n      this.resetForm();\r\n    },\r\n    applyCustom() {\r\n      if (!this.customStart || !this.customEnd || this.validationError) return;\r\n\r\n      const start12h = this.formatTo12h(this.customStart);\r\n      const end12h = this.formatTo12h(this.customEnd);\r\n\r\n      this.$emit('apply', {\r\n        start12h,\r\n        end12h\r\n      });\r\n\r\n      this.close();\r\n    },\r\n    validateTimes() {\r\n      if (!this.customStart || !this.customEnd) {\r\n        this.validationError = '';\r\n        return;\r\n      }\r\n\r\n      if (this.customStart >= this.customEnd) {\r\n        this.validationError = 'La hora de inicio debe ser menor que la hora de fin.';\r\n      } else {\r\n        this.validationError = '';\r\n      }\r\n    },\r\n    formatTo12h(time24) {\r\n      const [hourStr, minute] = time24.split(':');\r\n      let hour = parseInt(hourStr, 10);\r\n      const ampm = hour >= 12 ? 'PM' : 'AM';\r\n      hour = hour % 12 || 12;\r\n      return `${hour.toString().padStart(2, '0')}:${minute} ${ampm}`;\r\n    },\r\n    resetForm() {\r\n      this.customStart = '';\r\n      this.customEnd = '';\r\n      this.validationError = '';\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.time-filter-modal {\r\n  border: none;\r\n  border-radius: 14px;\r\n  padding: 0;\r\n  width: 100%;\r\n  max-width: 540px;\r\n  box-shadow: 0 10px 32px rgba(0, 0, 0, 0.15);\r\n  font-family: 'Poppins', sans-serif;\r\n  animation: simpleFadeIn 0.3s ease-out;\r\n  overflow: hidden;\r\n  background-color: white;\r\n}\r\n\r\n@keyframes simpleFadeIn {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(10px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n}\r\n\r\n.time-filter-modal .modal-header {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.6rem;\r\n  padding: 5px 0 5px 20px;\r\n  border-bottom: 1px solid #f0f0f0;\r\n  background: #f9fbfe;\r\n}\r\n\r\n.time-filter-modal .modal-title {\r\n  font-size: 1.25rem;\r\n  font-weight: 700;\r\n  color: #1a1a1a;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.6rem;\r\n}\r\n\r\n.time-form {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1rem;\r\n  padding: 1.5rem;\r\n  background-color: #ffffff;\r\n  font-family: 'Inter', sans-serif;\r\n}\r\n\r\n.time-field {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.4rem;\r\n}\r\n\r\n.time-field label {\r\n  font-weight: 600;\r\n  color: #444;\r\n  font-size: 0.95rem;\r\n  margin-left: 0.3rem;\r\n}\r\n\r\n.time-field input[type=\"time\"] {\r\n  padding: 0.65rem 1rem;\r\n  font-size: 1rem;\r\n  border-radius: 10px;\r\n  border: 1.6px solid #cbd5e1;\r\n  background-color: #f8fafc;\r\n  transition: border 0.3s ease, box-shadow 0.2s ease;\r\n}\r\n\r\n.time-field input[type=\"time\"]:focus {\r\n  outline: none;\r\n  border-color: #007bff;\r\n  box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.2);\r\n}\r\n\r\n.confirm-btn {\r\n  padding: 0.7rem 1.5rem;\r\n  background-color: #007bff;\r\n  color: white;\r\n  font-size: 1rem;\r\n  font-weight: 600;\r\n  border: none;\r\n  border-radius: 10px;\r\n  cursor: pointer;\r\n  transition: background-color 0.3s ease, transform 0.2s ease;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 0.5rem;\r\n  box-shadow: 0 2px 8px rgba(0, 123, 255, 0.1);\r\n}\r\n\r\n.confirm-btn:disabled {\r\n  background-color: #c2d4ec;\r\n  cursor: not-allowed;\r\n  box-shadow: none;\r\n}\r\n\r\n.confirm-btn:hover:not(:disabled) {\r\n  background-color: #0056b3;\r\n  transform: scale(1.01);\r\n}\r\n\r\n.cancel-btn {\r\n  background-color: #f1f1f1;\r\n  color: #444;\r\n  font-weight: 500;\r\n  padding: 0.65rem 1.4rem;\r\n  font-size: 0.95rem;\r\n  border-radius: 10px;\r\n  border: none;\r\n  cursor: pointer;\r\n  transition: background-color 0.25s ease;\r\n  display: flex;\r\n  align-items: center;\r\n  margin-top: -20px;\r\n}\r\n\r\n.cancel-btn:hover {\r\n  background-color: #d1d1d1;\r\n}\r\n\r\n.modal-actions {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  padding: 1rem 1.5rem 1.5rem;\r\n}\r\n\r\n.form-error-message {\r\n  color: #e53935;\r\n  background-color: #ffe9e9;\r\n  padding: 0.65rem 1rem;\r\n  border-radius: 10px;\r\n  font-size: 0.88rem;\r\n  font-weight: 500;\r\n  margin: 0.2rem 0 0.4rem;\r\n  text-align: left;\r\n}\r\n\r\n@media (max-width: 520px) {\r\n  .modal-content {\r\n    padding: 1.2rem;\r\n  }\r\n\r\n  .time-filter-modal .modal-header {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    padding: 1rem 1.2rem;\r\n  }\r\n\r\n  .modal-title {\r\n    font-size: 1.1rem;\r\n    text-align: center;\r\n  }\r\n\r\n  .modal-actions {\r\n    justify-content: center;\r\n  }\r\n}\r\n</style>","import { render } from \"./ModalTime.vue?vue&type=template&id=763361d5&scoped=true\"\nimport script from \"./ModalTime.vue?vue&type=script&lang=js\"\nexport * from \"./ModalTime.vue?vue&type=script&lang=js\"\n\nimport \"./ModalTime.vue?vue&type=style&index=0&id=763361d5&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-763361d5\"]])\n\nexport default __exports__","<template>\r\n  <dialog ref=\"dialog\" class=\"time-filter-modal\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h2 class=\"modal-title\">\r\n          <i class=\"fas fa-calendar-alt\"></i> Selecciona un rango de fechas\r\n        </h2>\r\n      </div>\r\n\r\n      <div class=\"time-form\">\r\n        <div class=\"time-field\">\r\n          <label>Fecha de inicio</label>\r\n          <input type=\"date\" v-model=\"startDate\" @input=\"validateRange\" />\r\n        </div>\r\n\r\n        <div class=\"time-field\">\r\n          <label>Fecha de fin</label>\r\n          <input type=\"date\" v-model=\"endDate\" @input=\"validateRange\" />\r\n        </div>\r\n\r\n        <p v-if=\"validationError\" class=\"form-error-message\">{{ validationError }}</p>\r\n\r\n        <button class=\"confirm-btn\" @click=\"applyDateRange\" :disabled=\"!startDate || !endDate || Boolean(validationError)\">\r\n          <i class=\"fas fa-check-circle\"></i> Aplicar\r\n        </button>\r\n      </div>\r\n\r\n      <div class=\"modal-actions\">\r\n        <button class=\"cancel-btn\" @click=\"close\">Cancelar</button>\r\n      </div>\r\n    </div>\r\n  </dialog>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'ModalDate',\r\n  data() {\r\n    return {\r\n      startDate: '',\r\n      endDate: '',\r\n      validationError: '',\r\n    };\r\n  },\r\n  mounted() {\r\n    if (this.$refs.dialog) {\r\n      this.$refs.dialog.showModal();\r\n    }\r\n  },\r\n  methods: {\r\n    close() {\r\n      this.$refs.dialog.close();\r\n      this.$emit('close');\r\n    },\r\n    applyDateRange() {\r\n      if (!this.startDate || !this.endDate || this.validationError) return;\r\n\r\n      const range = {\r\n        start: this.startDate,\r\n        end: this.endDate,\r\n        display: `${this.formatDisplay(this.startDate)} - ${this.formatDisplay(this.endDate)}`\r\n      };\r\n\r\n      this.$emit('apply', range);\r\n      this.close();\r\n    },\r\n    validateRange() {\r\n      if (!this.startDate || !this.endDate) {\r\n        this.validationError = '';\r\n        return;\r\n      }\r\n\r\n      if (this.endDate < this.startDate) {\r\n        this.validationError = 'La fecha de fin no puede ser menor que la de inicio.';\r\n      } else {\r\n        this.validationError = '';\r\n      }\r\n    },\r\n    formatDisplay(dateStr) {\r\n      const [year, month, day] = dateStr.split('-');\r\n      return `${day}/${month}/${year}`;\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.time-filter-modal {\r\n  border: none;\r\n  border-radius: 14px;\r\n  padding: 0;\r\n  width: 100%;\r\n  max-width: 540px;\r\n  box-shadow: 0 10px 32px rgba(0, 0, 0, 0.15);\r\n  font-family: 'Poppins', sans-serif;\r\n  animation: simpleFadeIn 0.3s ease-out;\r\n  overflow: hidden;\r\n  background-color: white;\r\n}\r\n\r\n@keyframes simpleFadeIn {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(10px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n}\r\n\r\n.modal-header {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.6rem;\r\n  padding: 5px 0 5px 20px;\r\n  border-bottom: 1px solid #f0f0f0;\r\n  background: #f9fbfe;\r\n}\r\n\r\n.modal-title {\r\n  font-size: 1.25rem;\r\n  font-weight: 700;\r\n  color: #1a1a1a;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.6rem;\r\n}\r\n\r\n.time-form {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1rem;\r\n  padding: 1.5rem;\r\n  background-color: #ffffff;\r\n  font-family: 'Inter', sans-serif;\r\n}\r\n\r\n.time-field {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.4rem;\r\n}\r\n\r\n.time-field label {\r\n  font-weight: 600;\r\n  color: #444;\r\n  font-size: 0.95rem;\r\n  margin-left: 0.3rem;\r\n}\r\n\r\n.time-field input[type=\"date\"] {\r\n  padding: 0.65rem 1rem;\r\n  font-size: 1rem;\r\n  border-radius: 10px;\r\n  border: 1.6px solid #cbd5e1;\r\n  background-color: #f8fafc;\r\n  transition: border 0.3s ease, box-shadow 0.2s ease;\r\n}\r\n\r\n.time-field input[type=\"date\"]:focus {\r\n  outline: none;\r\n  border-color: #007bff;\r\n  box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.2);\r\n}\r\n\r\n.confirm-btn {\r\n  padding: 0.7rem 1.5rem;\r\n  background-color: #007bff;\r\n  color: white;\r\n  font-size: 1rem;\r\n  font-weight: 600;\r\n  border: none;\r\n  border-radius: 10px;\r\n  cursor: pointer;\r\n  transition: background-color 0.3s ease, transform 0.2s ease;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 0.5rem;\r\n  box-shadow: 0 2px 8px rgba(0, 123, 255, 0.1);\r\n}\r\n\r\n.confirm-btn:disabled {\r\n  background-color: #c2d4ec;\r\n  cursor: not-allowed;\r\n  box-shadow: none;\r\n}\r\n\r\n.confirm-btn:hover:not(:disabled) {\r\n  background-color: #0056b3;\r\n  transform: scale(1.01);\r\n}\r\n\r\n.cancel-btn {\r\n  background-color: #f1f1f1;\r\n  color: #444;\r\n  font-weight: 500;\r\n  padding: 0.65rem 1.4rem;\r\n  font-size: 0.95rem;\r\n  border-radius: 10px;\r\n  border: none;\r\n  cursor: pointer;\r\n  transition: background-color 0.25s ease;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.4rem;\r\n  margin-top: -20px;\r\n}\r\n\r\n.cancel-btn:hover {\r\n  background-color: #d1d1d1;\r\n}\r\n\r\n.modal-actions {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  padding: 1rem 1.5rem 1.5rem;\r\n}\r\n\r\n.form-error-message {\r\n  color: #e53935;\r\n  background-color: #ffe9e9;\r\n  padding: 0.65rem 1rem;\r\n  border-radius: 10px;\r\n  font-size: 0.88rem;\r\n  font-weight: 500;\r\n  margin: 0.2rem 0 0.4rem;\r\n  text-align: left;\r\n}\r\n\r\n@media (max-width: 520px) {\r\n  .modal-content {\r\n    padding: 1.2rem;\r\n  }\r\n\r\n  .modal-header {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    padding: 1rem 1.2rem;\r\n  }\r\n\r\n  .modal-title {\r\n    font-size: 1.1rem;\r\n    text-align: center;\r\n  }\r\n\r\n  .modal-actions {\r\n    justify-content: center;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./ModalDate.vue?vue&type=template&id=66b2f12d&scoped=true\"\nimport script from \"./ModalDate.vue?vue&type=script&lang=js\"\nexport * from \"./ModalDate.vue?vue&type=script&lang=js\"\n\nimport \"./ModalDate.vue?vue&type=style&index=0&id=66b2f12d&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-66b2f12d\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"general-metrics\">\r\n\r\n    <section class=\"metrics-section\">\r\n      <h3 class=\"section-title\"><i class=\"fas fa-comments\"></i> Conversaciones y Actividad</h3>\r\n\r\n      <div class=\"metrics-grid\">\r\n        <MetricCard title=\"Total de Msj\" icon=\"fas fa-comment-dots\" :value=\"data.totalMessages\" />\r\n        <MetricCard title=\"Msj Eliminados\" icon=\"fas fa-trash\" :value=\"data.deletedMessages\" />\r\n        <MetricCard title=\"Prom. Duración por Chat\" icon=\"fas fa-hourglass-half\" :value=\"data.avgDuration != null ? `${data.avgDuration} msgs` : null\" />\r\n      </div>\r\n\r\n      <MetricProgressGroup\r\n        title=\"Chats\"\r\n        icon=\"fas fa-comments\"\r\n        :metrics=\"[\r\n          { label: 'Activos', value: data.activeChats, icon: 'fas fa-calendar-day' },\r\n          { label: 'Eliminados', value: data.deletedChats, icon: 'fas fa-trash-alt' }\r\n        ]\"\r\n      />\r\n    </section>\r\n\r\n    <section class=\"metrics-section\">\r\n      <h3 class=\"section-title\"><i class=\"fas fa-brain\"></i> Inteligencia y Respuestas</h3>\r\n\r\n      <div class=\"metrics-grid\">\r\n        <MetricCard title=\"Respuestas Generativas\" icon=\"fas fa-pen-fancy\" :value=\"data.generativeUses\" />\r\n        <MetricCard title=\"Tasa de Intención\" icon=\"fas fa-percentage\" :value=\"data.intentRate + '%'\" />\r\n      </div>\r\n\r\n      <MetricPie\r\n        :total=\"data.successfulResponses + data.emptyResponses\"\r\n        :conContexto=\"data.successfulResponses\"\r\n      />\r\n    </section>\r\n\r\n    <section class=\"metrics-section\">\r\n      <h3 class=\"section-title\"><i class=\"fas fa-folder-open\"></i> Documentos y Conocimiento</h3>\r\n\r\n      <div class=\"metrics-grid\">\r\n        <MetricCard title=\"Documentos Totales\" icon=\"fas fa-file-alt\" :value=\"data.totalDocs\" />\r\n        <MetricCard title=\"Fragmentos Generados\" icon=\"fas fa-layer-group\" :value=\"data.totalEmbeddings\" />\r\n      </div>\r\n\r\n      <MetricList\r\n        title=\"Documentos Más Utilizados\"\r\n        icon=\"fas fa-file-alt\"\r\n        :items=\"data.topDocs.map(doc => ({\r\n          label: doc.Documento,\r\n          value: doc['Veces Usado']\r\n        }))\"\r\n      />\r\n\r\n      <MetricList\r\n        title=\"Fragmentos Más Relevantes\"\r\n        icon=\"fas fa-align-left\"\r\n        :items=\"data.topFrags.map(frag => ({\r\n          label: frag.Fragmento,\r\n          value: frag['Veces Encontrado']\r\n        }))\"\r\n      />\r\n    </section>\r\n\r\n    <section class=\"metrics-section\">\r\n      <h3 class=\"section-title\"><i class=\"fas fa-tachometer-alt\"></i> Rendimiento OpenAI</h3>\r\n\r\n      <div class=\"metrics-grid\">\r\n        <MetricCard title=\"Tiempo Prom. de Respuesta\" icon=\"fas fa-clock\" :value=\"data.responseTime + ' seg'\" />\r\n        <MetricCard title=\"Errores API\" icon=\"fas fa-exclamation-triangle\" :value=\"data.apiErrors\" />\r\n        <MetricCard title=\"Respuestas Bot Eliminadas\" icon=\"fas fa-trash-restore-alt\" :value=\"data.deletedBotReplies\" />\r\n      </div>\r\n\r\n      <MetricProgressGroup\r\n        title=\"Tokens Usados\"\r\n        icon=\"fas fa-bolt\"\r\n        :metrics=\"[\r\n          { label: 'Tokes', value: data.tokens },\r\n        ]\"\r\n      />\r\n    </section>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MetricCard from './Widgets/MetricCard.vue';\r\nimport MetricProgressGroup from './Widgets/MetricProgressGroup.vue';\r\nimport MetricList from './Widgets/MetricList.vue';\r\nimport MetricPie from './Widgets/MetricPie.vue';\r\n\r\nexport default {\r\n  name: 'GeneralMetrics',\r\n  components: {\r\n    MetricCard,\r\n    MetricProgressGroup,\r\n    MetricList,\r\n    MetricPie\r\n  },\r\n  props: {\r\n    filters: Object,\r\n    appliedFilters: Object\r\n  },\r\n  data() {\r\n    return {\r\n      data: {\r\n        totalMessages: 10,\r\n        avgDuration: 12,\r\n        userMessages: 9040,\r\n        botMessages: 11850,\r\n        deletedMessages: 210,\r\n        deletedChats: 38,\r\n        activeChats: 48,\r\n\r\n        successfulResponses: 10,\r\n        emptyResponses: 10,\r\n        generativeUses: 1830,\r\n        intentRate: 91,\r\n\r\n        totalDocs: 118,\r\n        totalEmbeddings: 4921,\r\n        topDocs: [\r\n          { Documento: 'Onboarding KIIBOT', 'Veces Usado': 122 },\r\n          { Documento: 'Guía de Ventas', 'Veces Usado': 89 },\r\n          { Documento: 'FAQ Producto', 'Veces Usado': 72 }\r\n        ],\r\n        topFrags: [\r\n          { Fragmento: '¿Qué es KIIBOT?', 'Veces Encontrado': 134 },\r\n          { Fragmento: 'Política de reembolsos', 'Veces Encontrado': 95 },\r\n          { Fragmento: 'Soporte técnico', 'Veces Encontrado': 84 }\r\n        ],\r\n\r\n        responseTime: 1.7,\r\n        tokens: 6200,\r\n        deletedBotReplies: 37,\r\n        apiErrors: 4\r\n      }\r\n    };\r\n  },\r\n  mounted() {\r\n    this.fetchMetrics();\r\n  },\r\n  methods: {\r\n    fetchMetrics() {\r\n      // Aquí va la llamada al backend con los filtros aplicados\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.general-metrics {\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-top: 2rem;\r\n}\r\n\r\n.metrics-section {\r\n  padding: 0 1rem;\r\n  border-radius: 14px;\r\n  animation: fadeIn 0.4s ease-in-out;\r\n}\r\n\r\n.section-title {\r\n  font-family: 'Poppins', 'Segoe UI', sans-serif;\r\n  font-size: 1.6rem;\r\n  font-weight: 500;\r\n  color: #1f2937;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  line-height: 1.2;\r\n  position: relative;\r\n  white-space: nowrap;\r\n}\r\n\r\n.section-title::after {\r\n  content: '';\r\n  flex: 1;\r\n  height: 2px;\r\n  background-color: #e5e7eb;\r\n  margin-left: 0.5rem;\r\n  margin-top: 2px;\r\n  display: block;\r\n}\r\n\r\n.section-title i {\r\n  font-size: 1rem;\r\n  color: #6366f1; \r\n  background-color: #eef2ff;\r\n  padding: 6px;\r\n  border-radius: 8px;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  min-width: 28px;\r\n  min-height: 28px;\r\n}\r\n\r\n.metrics-grid {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 1rem;\r\n}\r\n\r\n@media (max-width: 590px) {\r\n  .section-title {\r\n    font-size: 1rem;\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    white-space: normal;\r\n  }\r\n\r\n  .section-title::after {\r\n    display: none; \r\n  }\r\n\r\n  .section-title i {\r\n    font-size: 0.9rem;\r\n    min-width: 24px;\r\n    min-height: 24px;\r\n    padding: 5px;\r\n  }\r\n\r\n  .metrics-grid {\r\n    flex-direction: column;\r\n  }\r\n\r\n  .metrics-section {\r\n    padding: 0.6rem;\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"metric-card\">\r\n    <div class=\"icon-container\" v-if=\"icon\">\r\n      <i :class=\"icon\"></i>\r\n    </div>\r\n    <div class=\"metric-content\">\r\n      <h4 class=\"metric-title\">{{ title }}</h4>\r\n      <p class=\"metric-value\">\r\n        <template v-if=\"loading\">\r\n          <span class=\"spinner\"></span>\r\n          <span class=\"loading-label\">Cargando...</span>\r\n        </template>\r\n        <template v-else-if=\"value === null || value === ''\">\r\n          <i class=\"fas fa-ban no-data-icon\"></i>\r\n          <span class=\"no-data-text\">Sin datos</span>\r\n        </template>\r\n        <span v-else>{{ animatedValue }}</span>\r\n      </p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'MetricCard',\r\n  props: {\r\n    title: { type: String, required: true },\r\n    value: { type: [String, Number, null], default: null },\r\n    icon: { type: String, default: '' },\r\n    loading: { type: Boolean, default: false }\r\n  },\r\n  data() {\r\n    return {\r\n      animatedValue: '',\r\n      interval: null\r\n    };\r\n  },\r\n  computed: {\r\n    isLoading() {\r\n      return this.loading || this.value === null || this.value === '' || this.value === undefined;\r\n    }\r\n  },\r\n  watch: {\r\n    value(newVal) {\r\n      if (typeof newVal === 'number') {\r\n        this.startCountAnimation(newVal);\r\n      } else if (typeof newVal === 'string') {\r\n        this.handleStringValue(newVal);\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    if (!this.isLoading) {\r\n      if (typeof this.value === 'number') {\r\n        this.startCountAnimation(this.value);\r\n      } else if (typeof this.value === 'string') {\r\n        this.handleStringValue(this.value);\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    startCountAnimation(target, suffix = '') {\r\n      clearInterval(this.interval);\r\n      const duration = 1000;\r\n      const frameRate = 24;\r\n      const steps = duration / (1000 / frameRate);\r\n      const increment = target / steps;\r\n      let current = 0;\r\n      this.interval = setInterval(() => {\r\n        current += increment;\r\n        if (current >= target) {\r\n          clearInterval(this.interval);\r\n          this.animatedValue = `${Math.round(target).toLocaleString()}${suffix}`;\r\n        } else {\r\n          this.animatedValue = `${Math.round(current).toLocaleString()}${suffix}`;\r\n        }\r\n      }, 1000 / frameRate);\r\n    },\r\n    handleStringValue(val) {\r\n      if (typeof val !== 'string') {\r\n        this.animatedValue = '';\r\n        return;\r\n      }\r\n\r\n      const match = val.trim().match(/^(\\d+(?:\\.\\d+)?)(.*)$/);\r\n      if (match) {\r\n        const number = parseFloat(match[1]);\r\n        const suffix = match[2]?.trim() || '';\r\n        if (!isNaN(number)) {\r\n          this.startCountAnimation(number, suffix);\r\n        } else {\r\n          this.animatedValue = val;\r\n        }\r\n      } else {\r\n        this.animatedValue = val;\r\n      }\r\n    },\r\n  },\r\n  beforeUnmount() {\r\n    clearInterval(this.interval);\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.metric-card {\r\n  background-color: #fff;\r\n  border: 1px solid #e5e7eb;\r\n  border-radius: 12px;\r\n  padding: 1.2rem 1.4rem;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 1rem;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.03);\r\n  transition: transform 0.15s ease-in-out;\r\n  min-width: 200px;\r\n  flex: 1;\r\n}\r\n\r\n.icon-container {\r\n  font-size: 1.4rem;\r\n  color: #4b5563;\r\n  background-color: #f3f4f6;\r\n  padding: 0.5rem;\r\n  border-radius: 8px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 40px;\r\n  width: 40px;\r\n}\r\n\r\n.metric-content {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n}\r\n\r\n.metric-title {\r\n  font-size: 0.9rem;\r\n  color: #6b7280;\r\n  font-weight: 500;\r\n  margin-bottom: 0.2rem;\r\n}\r\n\r\n.metric-value {\r\n  font-size: 1.3rem;\r\n  font-weight: 600;\r\n  color: #111827;\r\n  text-align: left;\r\n  margin-left: 40px;\r\n}\r\n\r\n.loading-label {\r\n  margin-left: 0.4rem;\r\n  font-size: 0.95rem;\r\n  font-weight: 500;\r\n  color: #6b7280;\r\n  animation: fadeIn 1.2s ease-in-out infinite alternate;\r\n}\r\n\r\n@keyframes fadeIn {\r\n  from { opacity: 0.5; }\r\n  to { opacity: 1; }\r\n}\r\n\r\n.no-data-icon {\r\n  color: #9ca3af;\r\n  margin-right: 0.4rem;\r\n  font-size: 1rem;\r\n}\r\n\r\n.no-data-text {\r\n  color: #9ca3af;\r\n  font-size: 1rem;\r\n  font-weight: 500;\r\n}\r\n\r\n@media (max-width: 500px) {\r\n  .metric-card {\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n    text-align: center;\r\n    gap: 0;\r\n  }\r\n\r\n  .icon-container {\r\n    width: 40px;\r\n    height: 40px;\r\n    font-size: 1.2rem;\r\n    padding: 0.5rem;\r\n    align-self: center;\r\n  }\r\n\r\n  .metric-title {\r\n    font-size: 0.85rem;\r\n  }\r\n\r\n  .metric-value {\r\n    font-size: 1.1rem;\r\n    text-align: center;\r\n    margin-left: 0;\r\n  }\r\n}\r\n\r\n@media (max-width: 430px) {\r\n  .metric-card {\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n    padding: 1rem;\r\n    gap: 0.3rem;\r\n    min-width: auto;\r\n  }\r\n\r\n  .icon-container {\r\n    width: 36px;\r\n    height: 36px;\r\n    font-size: 1.1rem;\r\n    padding: 0.4rem;\r\n  }\r\n\r\n  .metric-title {\r\n    font-size: 0.78rem;\r\n    margin-bottom: 0.15rem;\r\n  }\r\n\r\n  .metric-value {\r\n    font-size: 1rem;\r\n  }\r\n\r\n  .spinner {\r\n    width: 14px;\r\n    height: 14px;\r\n    border-width: 2px;\r\n  }\r\n}\r\n\r\n</style>\r\n","import { render } from \"./MetricCard.vue?vue&type=template&id=7df396ef&scoped=true\"\nimport script from \"./MetricCard.vue?vue&type=script&lang=js\"\nexport * from \"./MetricCard.vue?vue&type=script&lang=js\"\n\nimport \"./MetricCard.vue?vue&type=style&index=0&id=7df396ef&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7df396ef\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"metric-progress-group\">\r\n    <h4 class=\"group-title\">\r\n      <i v-if=\"icon\" :class=\"icon\"></i>\r\n      {{ title }}\r\n    </h4>\r\n\r\n    <div class=\"progress-items\">\r\n      <div\r\n        class=\"progress-item\"\r\n        v-for=\"(item, index) in animatedMetrics\"\r\n        :key=\"index\"\r\n      >\r\n        <div class=\"item-header\">\r\n          <div class=\"item-label\">\r\n            <i v-if=\"item.icon\" :class=\"item.icon\" />\r\n            <span>{{ item.label }}</span>\r\n          </div>\r\n\r\n          <div class=\"item-value\">\r\n            <template v-if=\"loading\">\r\n              <div class=\"skeleton skeleton-text small\"></div>\r\n            </template>\r\n            <template v-else-if=\"hasValidValue(item.value)\">\r\n              {{ item.displayValue }}\r\n            </template>\r\n            <template v-else>\r\n              <i class=\"fas fa-ban no-data-icon\"></i>\r\n              <span class=\"no-data-text\">Sin datos</span>\r\n            </template>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"progress-bar\">\r\n          <template v-if=\"loading\">\r\n            <div class=\"skeleton skeleton-bar\"></div>\r\n          </template>\r\n          <template v-else-if=\"hasValidValue(item.value)\">\r\n            <div class=\"progress-fill\" :style=\"{ width: item.animatedWidth }\"></div>\r\n          </template>\r\n          <template v-else>\r\n            <div class=\"progress-fill empty\"></div>\r\n          </template>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'MetricProgressGroup',\r\n  props: {\r\n    title: { type: String, required: true },\r\n    icon: { type: String, default: '' },\r\n    metrics: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n    loading: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      animatedMetrics: [],\r\n    };\r\n  },\r\n  watch: {\r\n    metrics: {\r\n      handler(newVal) {\r\n        if (!this.loading) {\r\n          this.startAnimation(newVal);\r\n        }\r\n      },\r\n      immediate: true,\r\n    },\r\n  },\r\n  methods: {\r\n    startAnimation(metrics) {\r\n      const max = Math.max(...metrics.map((m) => m.value || 0)) || 1;\r\n\r\n      this.animatedMetrics = metrics.map((item) => ({\r\n        ...item,\r\n        displayValue: '',\r\n        animatedWidth: '0%',\r\n      }));\r\n\r\n      this.animatedMetrics.forEach((item, index) => {\r\n        this.animateBoth(index, 0, item.value, max, 1000);\r\n      });\r\n    },\r\n    animateBoth(index, start, end, max, duration) {\r\n      const startTime = performance.now();\r\n\r\n      const animate = (currentTime) => {\r\n        const elapsed = currentTime - startTime;\r\n        const progress = Math.min(elapsed / duration, 1);\r\n        const eased = this.easeOutCubic(progress);\r\n        const currentVal = Math.floor(start + (end - start) * eased);\r\n        const percent = (end / max) * 100 * eased;\r\n\r\n        this.animatedMetrics[index].displayValue = this.formatValue(currentVal);\r\n        this.animatedMetrics[index].animatedWidth = `${percent.toFixed(2)}%`;\r\n\r\n        if (progress < 1) {\r\n          requestAnimationFrame(animate);\r\n        } else {\r\n          this.animatedMetrics[index].displayValue = this.formatValue(end);\r\n          this.animatedMetrics[index].animatedWidth = `${((end / max) * 100).toFixed(2)}%`;\r\n        }\r\n      };\r\n\r\n      requestAnimationFrame(animate);\r\n    },\r\n    formatValue(value) {\r\n      return typeof value === 'number' ? value.toLocaleString() : value || '0';\r\n    },\r\n    easeOutCubic(t) {\r\n      return 1 - Math.pow(1 - t, 3);\r\n    },\r\n    hasValidValue(value) {\r\n      return value !== null && value !== undefined && value !== '';\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.metric-progress-group {\r\n  background-color: #ffffff;\r\n  border: 1px solid #e5e7eb;\r\n  border-radius: 16px;\r\n  padding: 1.2rem;\r\n  margin: 1rem 0;\r\n  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.03);\r\n  transition: all 0.2s ease-in-out;\r\n}\r\n\r\n.group-title {\r\n  font-size: 1.25rem;\r\n  font-weight: 700;\r\n  color: #1f2937;\r\n  margin-bottom: 1.4rem;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.6rem;\r\n}\r\n\r\n.progress-items {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1.4rem;\r\n}\r\n\r\n.progress-item {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.item-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.item-label {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  font-size: 1rem;\r\n  color: #374151;\r\n  font-weight: 500;\r\n}\r\n\r\n.item-label i {\r\n  color: #6b7280;\r\n  font-size: 1rem;\r\n}\r\n\r\n.item-value {\r\n  font-size: 1rem;\r\n  font-weight: 600;\r\n  color: #111827;\r\n  min-width: 60px;\r\n  text-align: right;\r\n}\r\n\r\n.progress-bar {\r\n  width: 100%;\r\n  height: 10px;\r\n  background-color: #f3f4f6;\r\n  border-radius: 6px;\r\n  overflow: hidden;\r\n}\r\n\r\n.progress-fill {\r\n  height: 100%;\r\n  background-color: #3b82f6;\r\n  border-radius: 6px;\r\n  transition: width 0.2s ease-out;\r\n}\r\n\r\n.skeleton {\r\n  display: inline-block;\r\n  background: linear-gradient(90deg, #f3f3f3 25%, #e2e8f0 50%, #f3f3f3 75%);\r\n  background-size: 400% 100%;\r\n  animation: shimmer 1.2s infinite;\r\n  border-radius: 6px;\r\n}\r\n\r\n.skeleton-text {\r\n  height: 14px;\r\n  width: 40px;\r\n}\r\n\r\n.skeleton-bar {\r\n  height: 10px;\r\n  width: 100%;\r\n}\r\n\r\n.skeleton.small {\r\n  width: 36px;\r\n  height: 12px;\r\n}\r\n\r\n.no-data-icon {\r\n  color: #9ca3af;\r\n  margin-right: 0.4rem;\r\n  font-size: 0.95rem;\r\n}\r\n\r\n.no-data-text {\r\n  color: #9ca3af;\r\n  font-size: 0.95rem;\r\n  font-weight: 500;\r\n}\r\n\r\n.progress-fill.empty {\r\n  background-color: #e5e7eb;\r\n}\r\n\r\n@keyframes shimmer {\r\n  0% {\r\n    background-position: -400% 0;\r\n  }\r\n  100% {\r\n    background-position: 400% 0;\r\n  }\r\n}\r\n\r\n@media (max-width: 430px) {\r\n  .metric-progress-group {\r\n    padding: 0.9rem;\r\n    border-radius: 12px;\r\n  }\r\n\r\n  .group-title {\r\n    font-size: 1rem;\r\n    gap: 0.4rem;\r\n    flex-wrap: wrap;\r\n    word-break: break-word;\r\n  }\r\n\r\n  .progress-items {\r\n    gap: 1.2rem;\r\n  }\r\n\r\n  .progress-item {\r\n    gap: 0.4rem;\r\n  }\r\n\r\n  .item-header {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    gap: 0.3rem;\r\n  }\r\n\r\n  .item-label {\r\n    font-size: 0.85rem;\r\n    gap: 0.4rem;\r\n    color: #4b5563;\r\n  }\r\n\r\n  .item-label i {\r\n    font-size: 0.95rem;\r\n  }\r\n\r\n  .item-value {\r\n    font-size: 0.9rem;\r\n    text-align: left;\r\n    font-weight: 600;\r\n    color: #1f2937;\r\n  }\r\n\r\n  .progress-bar {\r\n    height: 8px;\r\n    border-radius: 4px;\r\n  }\r\n\r\n  .progress-fill {\r\n    border-radius: 4px;\r\n  }\r\n\r\n  .skeleton.small {\r\n    width: 32px;\r\n    height: 10px;\r\n  }\r\n\r\n  .skeleton-text {\r\n    height: 12px;\r\n    width: 36px;\r\n  }\r\n}\r\n\r\n</style>\r\n","import { render } from \"./MetricProgressGroup.vue?vue&type=template&id=5eb37e28&scoped=true\"\nimport script from \"./MetricProgressGroup.vue?vue&type=script&lang=js\"\nexport * from \"./MetricProgressGroup.vue?vue&type=script&lang=js\"\n\nimport \"./MetricProgressGroup.vue?vue&type=style&index=0&id=5eb37e28&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5eb37e28\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"metric-list\">\r\n    <div class=\"list-header\">\r\n      <i v-if=\"icon\" :class=\"icon\" class=\"list-icon\"></i>\r\n      <h4 class=\"list-title\">{{ title }}</h4>\r\n    </div>\r\n\r\n    <div class=\"list-body\">\r\n      <template v-if=\"items.length > 0\">\r\n        <li\r\n          v-for=\"(item, index) in items\"\r\n          :key=\"index\"\r\n          class=\"list-item\"\r\n          :style=\"{ animationDelay: `${index * 50}ms` }\"\r\n        >\r\n          <div class=\"item-left\">\r\n            <span class=\"rank\">#{{ index + 1 }}</span>\r\n            <span class=\"label\" :title=\"item.label\">{{ item.label }}</span>\r\n          </div>\r\n          <span class=\"value\">{{ item.value }}</span>\r\n        </li>\r\n      </template>\r\n      <template v-else>\r\n        <div class=\"empty-list-state\">\r\n          <i class=\"fas fa-list-ul\"></i>\r\n          <p class=\"empty-text\">Sin datos disponibles</p>\r\n          <small class=\"empty-subtext\">Los elementos aparecerán aquí cuando haya métricas disponibles.</small>\r\n        </div>\r\n      </template>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'MetricList',\r\n  props: {\r\n    title: { type: String, required: true },\r\n    icon: { type: String, default: '' },\r\n    items: {\r\n      type: Array,\r\n      default: () => []\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.metric-list {\r\n  background-color: #fff;\r\n  border: 1px solid #e5e7eb;\r\n  border-radius: 16px;\r\n  padding: 1.4rem;\r\n  margin-top: 1rem;\r\n  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.03);\r\n  transition: all 0.2s ease-in-out;\r\n  animation: fadeInContainer 0.4s ease-out;\r\n}\r\n\r\n.list-header {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.6rem;\r\n  margin-bottom: 1.2rem;\r\n}\r\n\r\n.list-icon {\r\n  font-size: 1.25rem;\r\n  color: #4b5563;\r\n  background-color: #f3f4f6;\r\n  padding: 0.4rem;\r\n  border-radius: 8px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 36px;\r\n  width: 36px;\r\n}\r\n\r\n.list-title {\r\n  font-size: 1rem;\r\n  font-weight: 600;\r\n  color: #1f2937;\r\n}\r\n\r\n.list-body {\r\n  list-style: none;\r\n  padding: 0;\r\n  margin: 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.8rem;\r\n}\r\n\r\n.list-item {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  gap: 1rem;\r\n  padding: 0.75rem 1rem;\r\n  background-color: #ffffff;\r\n  border-radius: 10px;\r\n  border: 1.5px solid #f2f2f2f2;\r\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.02);\r\n  transition: background-color 0.25s ease, box-shadow 0.25s ease;\r\n  animation: fadeInUp 0.4s ease-out both;\r\n}\r\n\r\n.list-item:hover {\r\n  background-color: #f9fafb;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.04);\r\n}\r\n\r\n.item-left {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.6rem;\r\n  overflow: hidden;\r\n}\r\n\r\n.rank {\r\n  background-color: #3b82f6;\r\n  color: white;\r\n  font-size: 0.75rem;\r\n  font-weight: 600;\r\n  padding: 0.3rem 0.6rem;\r\n  border-radius: 6px;\r\n  min-width: 28px;\r\n  text-align: center;\r\n}\r\n\r\n.label {\r\n  font-size: 0.95rem;\r\n  font-weight: 500;\r\n  color: #374151;\r\n  max-width: 200px;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.value {\r\n  font-size: 1rem;\r\n  font-weight: 600;\r\n  color: #111827;\r\n}\r\n\r\n@keyframes fadeInUp {\r\n  0% {\r\n    opacity: 0;\r\n    transform: translateY(10px);\r\n  }\r\n  100% {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n}\r\n\r\n@keyframes fadeInContainer {\r\n  from {\r\n    opacity: 0;\r\n    transform: scale(0.98);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: scale(1);\r\n  }\r\n}\r\n\r\n.empty-list-state {\r\n  text-align: center;\r\n  color: #9ca3af;\r\n  padding: 2.5rem 1rem;\r\n  border-radius: 10px;\r\n  background-color: #f9fafb;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.empty-list-state i {\r\n  font-size: 2rem;\r\n  color: #d1d5db;\r\n}\r\n\r\n.empty-text {\r\n  font-size: 0.95rem;\r\n  font-weight: 600;\r\n  color: #4b5563;\r\n}\r\n\r\n.empty-subtext {\r\n  font-size: 0.85rem;\r\n  color: #6b7280;\r\n  text-align: center;\r\n  max-width: 280px;\r\n}\r\n\r\n@media (max-width: 510px) {\r\n  .metric-list {\r\n    padding: 1rem;\r\n    border-radius: 12px;\r\n    text-align: center;\r\n  }\r\n\r\n  .list-header {\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n    gap: 0.4rem;\r\n    margin-bottom: 1rem;\r\n  }\r\n\r\n  .list-icon {\r\n    font-size: 1.3rem;\r\n    width: 36px;\r\n    height: 36px;\r\n    padding: 0.45rem;\r\n  }\r\n\r\n  .list-title {\r\n    font-size: 0.95rem;\r\n    font-weight: 600;\r\n  }\r\n\r\n  .list-body {\r\n    gap: 0.8rem;\r\n  }\r\n\r\n  .list-item {\r\n    flex-direction: column;\r\n    align-items: center;\r\n    gap: 0.5rem;\r\n    padding: 0.7rem 1rem;\r\n    text-align: center;\r\n  }\r\n\r\n  .item-left {\r\n    flex-direction: column;\r\n    align-items: center;\r\n    gap: 0.4rem;\r\n  }\r\n\r\n  .rank {\r\n    font-size: 0.75rem;\r\n    padding: 0.25rem 0.6rem;\r\n    min-width: unset;\r\n  }\r\n\r\n  .label {\r\n    font-size: 0.85rem;\r\n    max-width: 100%;\r\n    white-space: normal;\r\n    word-break: break-word;\r\n  }\r\n\r\n  .value {\r\n    font-size: 0.9rem;\r\n    font-weight: 600;\r\n    color: #1f2937;\r\n  }\r\n}\r\n\r\n</style>\r\n","import { render } from \"./MetricList.vue?vue&type=template&id=12f238e2&scoped=true\"\nimport script from \"./MetricList.vue?vue&type=script&lang=js\"\nexport * from \"./MetricList.vue?vue&type=script&lang=js\"\n\nimport \"./MetricList.vue?vue&type=style&index=0&id=12f238e2&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-12f238e2\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"metric-pie-html\">\r\n    <template v-if=\"hasNoData\">\r\n      <div class=\"empty-pie\">\r\n        <i class=\"fas fa-chart-pie\"></i>\r\n        <p class=\"empty-pie-text\">Sin datos disponibles</p>\r\n      </div>\r\n    </template>\r\n\r\n    <template v-else>\r\n      <div class=\"pie-chart-wrapper\">\r\n        <svg viewBox=\"0 0 36 36\" class=\"pie-chart\">\r\n          <circle class=\"pie-bg\" cx=\"18\" cy=\"18\" r=\"15.9155\" />\r\n          <circle\r\n            class=\"pie-value\"\r\n            cx=\"18\"\r\n            cy=\"18\"\r\n            r=\"15.9155\"\r\n            :style=\"`--dasharray: ${percentage}`\"\r\n          />\r\n          <text x=\"18\" y=\"20.5\" class=\"pie-text\">{{ percentage }}%</text>\r\n        </svg>\r\n      </div>\r\n\r\n      <div class=\"pie-legend\">\r\n        <div class=\"legend-item\">\r\n          <span class=\"dot dot-context\"></span>\r\n          <span>Con Contexto</span>\r\n          <span class=\"legend-value\">{{ conContexto.toLocaleString() }}</span>\r\n        </div>\r\n        <div class=\"legend-item\">\r\n          <span class=\"dot dot-nocontext\"></span>\r\n          <span>Sin Contexto</span>\r\n          <span class=\"legend-value\">{{ sinContexto.toLocaleString() }}</span>\r\n        </div>\r\n      </div>\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'MetricPieHTML',\r\n  props: {\r\n    total: { type: Number, required: true },\r\n    conContexto: { type: Number, required: true }\r\n  },\r\n  computed: {\r\n    percentage() {\r\n      const pct = (this.conContexto / this.total) * 100;\r\n      return isNaN(pct) ? 0 : Number(pct.toFixed(1));\r\n    },\r\n    sinContexto() {\r\n      return this.total - this.conContexto;\r\n    },\r\n    hasNoData() {\r\n      return !this.total || this.total === 0;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.metric-pie-html {\r\n  background: #fff;\r\n  border: 1px solid #e5e7eb;\r\n  border-radius: 14px;\r\n  padding: 1.2rem 2rem;\r\n  margin-top: 1rem;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.03);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 2.5rem; \r\n  min-width: 240;\r\n}\r\n\r\n.pie-chart-wrapper {\r\n  width: 130px;\r\n  height: 130px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.pie-chart {\r\n  width: 100%;\r\n  height: 100%;\r\n  transform: rotate(-90deg);\r\n}\r\n\r\n.pie-bg {\r\n  fill: none;\r\n  stroke: #f3f4f6;\r\n  stroke-width: 3.8;\r\n}\r\n\r\n.pie-value {\r\n  fill: none;\r\n  stroke: #3b82f6;\r\n  stroke-width: 3.8;\r\n  stroke-linecap: round;\r\n  stroke-dasharray: 0, 100;\r\n  transition: stroke-dasharray 0.6s ease-out;\r\n  animation: fillPie 1s ease-out forwards;\r\n}\r\n\r\n@keyframes fillPie {\r\n  to {\r\n    stroke-dasharray: var(--dasharray, 0), 100;\r\n  }\r\n}\r\n\r\n.pie-text {\r\n  fill: #111827;\r\n  font-size: 0.35rem;\r\n  font-weight: bold;\r\n  text-anchor: middle;\r\n  transform: rotate(90deg);\r\n}\r\n\r\n.pie-legend {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  gap: 0.8rem;\r\n  font-size: 0.9rem;\r\n  color: #1f2937;\r\n  min-width: 120px;\r\n}\r\n\r\n.legend-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  font-weight: 500;\r\n}\r\n\r\n.legend-value {\r\n  font-weight: 700;\r\n  margin-left: auto;\r\n}\r\n\r\n.dot {\r\n  width: 10px;\r\n  height: 10px;\r\n  border-radius: 50%;\r\n  display: inline-block;\r\n}\r\n\r\n.dot-context {\r\n  background-color: #3b82f6;\r\n}\r\n\r\n.dot-nocontext {\r\n  background-color: #e5e7eb;\r\n}\r\n\r\n.empty-pie {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: #9ca3af;\r\n  gap: 0.5rem;\r\n  text-align: center;\r\n  min-height: 100px;\r\n}\r\n\r\n.empty-pie i {\r\n  font-size: 2.2rem;\r\n  color: #d1d5db;\r\n}\r\n\r\n.empty-pie-text {\r\n  font-size: 0.95rem;\r\n  font-weight: 500;\r\n  color: #6b7280;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .metric-pie-html {\r\n    flex-direction: column;\r\n    align-items: center;\r\n    gap: 1.5rem;\r\n    padding: 1.5rem 1rem;\r\n  }\r\n\r\n  .pie-legend {\r\n    align-items: center;\r\n    text-align: center;\r\n  }\r\n\r\n  .legend-item {\r\n    justify-content: center;\r\n    width: 100%;\r\n  }\r\n\r\n  .legend-value {\r\n    margin-left: 0;\r\n    margin-right: 0;\r\n  }\r\n}\r\n\r\n</style>\r\n","import { render } from \"./MetricPie.vue?vue&type=template&id=426590dc&scoped=true\"\nimport script from \"./MetricPie.vue?vue&type=script&lang=js\"\nexport * from \"./MetricPie.vue?vue&type=script&lang=js\"\n\nimport \"./MetricPie.vue?vue&type=style&index=0&id=426590dc&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-426590dc\"]])\n\nexport default __exports__","import { render } from \"./GeneralMetrics.vue?vue&type=template&id=45d4b204&scoped=true\"\nimport script from \"./GeneralMetrics.vue?vue&type=script&lang=js\"\nexport * from \"./GeneralMetrics.vue?vue&type=script&lang=js\"\n\nimport \"./GeneralMetrics.vue?vue&type=style&index=0&id=45d4b204&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-45d4b204\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"user-metrics\">\r\n\r\n    <section class=\"metrics-section\">\r\n      <h3 class=\"section-title\">\r\n        <i class=\"fas fa-comments\"></i> Actividad del Usuario\r\n      </h3>\r\n\r\n      <div class=\"metrics-grid\">\r\n        <MetricCard title=\"Chats Totales\" icon=\"fas fa-comment-dots\" :value=\"data.totalChats\" />\r\n        <MetricCard title=\"Msj Enviados\" icon=\"fas fa-paper-plane\" :value=\"data.userMessages\" />\r\n        <MetricCard title=\"Respuestas del Bot\" icon=\"fas fa-robot\" :value=\"data.botMessages\" />\r\n        <MetricCard title=\"Chats Eliminados\" icon=\"fas fa-trash-alt\" :value=\"data.deletedChats\" />\r\n        <MetricCard title=\"Msj Eliminados\" icon=\"fas fa-minus-circle\" :value=\"data.deletedMessages\" />\r\n        <MetricCard title=\"Respuestas Bot Eliminadas\" icon=\"fas fa-robot\" :value=\"data.deletedBotReplies\" />\r\n      </div>\r\n    </section>\r\n\r\n    <section class=\"metrics-section\">\r\n      <h3 class=\"section-title\">\r\n        <i class=\"fas fa-book-open\"></i> Uso del Conocimiento\r\n      </h3>\r\n\r\n      <div class=\"metrics-grid\">\r\n        <MetricCard title=\"Consultas a Documentos\" icon=\"fas fa-search\" :value=\"data.totalConsultas\" />\r\n        <MetricCard title=\"Generación de Contenido\" icon=\"fas fa-pen-nib\" :value=\"data.generativeUses\" />\r\n      </div>\r\n\r\n      <MetricList\r\n        title=\"Documentos Más Consultados\"\r\n        icon=\"fas fa-file-alt\"\r\n        :items=\"data.topDocs.map(doc => ({\r\n          label: doc.Documento,\r\n          value: doc['Veces Usado']\r\n        }))\"\r\n      />\r\n    </section>\r\n\r\n    <section class=\"metrics-section\">\r\n      <h3 class=\"section-title\">\r\n        <i class=\"fas fa-chart-line\"></i> Comportamiento\r\n      </h3>\r\n\r\n      <div class=\"metrics-grid\">\r\n        <MetricCard title=\"Tiempo Prom. entre Msj y Respuesta\" icon=\"fas fa-stopwatch\" :value=\"data.responseTime + ' seg'\" />\r\n        <MetricCard title=\"Intención Clara (%)\" icon=\"fas fa-percentage\" :value=\"data.intentRate + '%'\" />\r\n      </div>\r\n\r\n      <MetricList\r\n        v-if=\"data.starredChats && data.starredChats.length\"\r\n        title=\"Conversaciones Destacadas\"\r\n        icon=\"fas fa-star\"\r\n        :items=\"data.starredChats.map(chat => ({\r\n          label: chat.titulo,\r\n          value: chat.fecha\r\n        }))\"\r\n      />\r\n    </section>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MetricCard from './Widgets/MetricCard.vue';\r\nimport MetricList from './Widgets/MetricList.vue';\r\n\r\nexport default {\r\n  name: 'UserMetrics',\r\n  components: {\r\n    MetricCard,\r\n    MetricList\r\n  },\r\n  props: {\r\n    userId: String,\r\n    filters: Object,\r\n    appliedFilters: Object\r\n  },\r\n  data() {\r\n    return {\r\n      data: {\r\n        totalChats: 25,\r\n        userMessages: 1130,\r\n        botMessages: 870,\r\n        deletedChats: 4,\r\n        deletedMessages: 90,\r\n        deletedBotReplies: 22,\r\n\r\n        totalConsultas: 78,\r\n        generativeUses: 43,\r\n        topDocs: [\r\n          { Documento: 'Guía de Onboarding', 'Veces Usado': 22 },\r\n          { Documento: 'Ventas AI', 'Veces Usado': 16 }\r\n        ],\r\n\r\n        responseTime: 2.4,\r\n        intentRate: 86,\r\n\r\n        starredChats: [\r\n          { titulo: 'Chat con Cliente A', fecha: '2025-04-03' },\r\n          { titulo: 'Chat de Prueba B', fecha: '2025-04-09' }\r\n        ]\r\n      }\r\n    };\r\n  },\r\n  mounted() {\r\n    this.fetchUserMetrics();\r\n  },\r\n  methods: {\r\n    fetchUserMetrics() {\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.user-metrics {\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-top: 2rem;\r\n}\r\n\r\n.metrics-section {\r\n  padding: 0 1rem;\r\n  border-radius: 14px;\r\n  animation: fadeIn 0.4s ease-in-out;\r\n}\r\n\r\n.section-title {\r\n  font-family: 'Poppins', 'Segoe UI', sans-serif;\r\n  font-size: 1.6rem;\r\n  font-weight: 500;\r\n  color: #1f2937;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  line-height: 1.2;\r\n  position: relative;\r\n  white-space: nowrap;\r\n}\r\n\r\n.section-title::after {\r\n  content: '';\r\n  flex: 1;\r\n  height: 2px;\r\n  background-color: #e5e7eb;\r\n  margin-left: 0.5rem;\r\n  margin-top: 2px;\r\n  display: block;\r\n}\r\n\r\n.section-title i {\r\n  font-size: 1rem;\r\n  color: #10b981;\r\n  background-color: #ecfdf5;\r\n  padding: 6px;\r\n  border-radius: 8px;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  min-width: 28px;\r\n  min-height: 28px;\r\n}\r\n\r\n.metrics-grid {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 1rem;\r\n}\r\n\r\n@media (max-width: 590px) {\r\n  .section-title {\r\n    font-size: 1rem;\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    white-space: normal;\r\n  }\r\n\r\n  .section-title::after {\r\n    display: none; \r\n  }\r\n\r\n  .section-title i {\r\n    font-size: 0.9rem;\r\n    min-width: 24px;\r\n    min-height: 24px;\r\n    padding: 5px;\r\n  }\r\n\r\n  .metrics-grid {\r\n    flex-direction: column;\r\n  }\r\n\r\n  .metrics-section {\r\n    padding: 0.6rem;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./UserMetrics.vue?vue&type=template&id=b2ffacee&scoped=true\"\nimport script from \"./UserMetrics.vue?vue&type=script&lang=js\"\nexport * from \"./UserMetrics.vue?vue&type=script&lang=js\"\n\nimport \"./UserMetrics.vue?vue&type=style&index=0&id=b2ffacee&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-b2ffacee\"]])\n\nexport default __exports__","import { render } from \"./MetricsPanel.vue?vue&type=template&id=1ba3ab15&scoped=true\"\nimport script from \"./MetricsPanel.vue?vue&type=script&lang=js\"\nexport * from \"./MetricsPanel.vue?vue&type=script&lang=js\"\n\nimport \"./MetricsPanel.vue?vue&type=style&index=0&id=1ba3ab15&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1ba3ab15\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"documents-panel\">\r\n    \r\n    <div class=\"documents-header\">\r\n      <div class=\"header-row\">\r\n        <h2 class=\"header-title\">\r\n          Documentos <span class=\"txt-blue\">KIIBOT</span>\r\n        </h2>\r\n        <button @click=\"openAddDocumentModal\" class=\"add-document-btn\">\r\n          <i class=\"fas fa-file-upload\"></i> Añadir Documento\r\n        </button>\r\n      </div>\r\n\r\n      <div class=\"header-filters\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Buscar por nombre\"\r\n          class=\"filter-input\"\r\n          v-model=\"searchQuery\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"documents-table\" v-if=\"filteredDocuments.length > 0\">\r\n      <table class=\"table\">\r\n        <thead>\r\n          <tr>\r\n            <th>Nombre</th>\r\n            <th>Fecha</th>\r\n            <th>Fragmentos</th>\r\n            <th>Estado</th>\r\n            <th>Acciones</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"doc in filteredDocuments\" :key=\"doc.id\">\r\n            <td>{{ doc.name }}</td>\r\n            <td>{{ doc.date }}</td>\r\n            <td>\r\n              <template v-if=\"doc.status === 'En espera'\">\r\n                <i class=\"fas fa-spinner fa-spin text-blue-500\"></i>\r\n              </template>\r\n              <template v-else>\r\n                {{ doc.fragments }}\r\n              </template>\r\n            </td>\r\n            <td>\r\n              <span\r\n                :class=\"[\r\n                  'status-badge',\r\n                  doc.status === 'Procesado'\r\n                    ? 'status-success'\r\n                    : doc.status === 'Error'\r\n                    ? 'status-error'\r\n                    : 'status-pending'\r\n                ]\"\r\n              >\r\n                <i\r\n                  :class=\"[\r\n                    'fas',\r\n                    doc.status === 'Procesado'\r\n                      ? 'fa-check-circle'\r\n                      : doc.status === 'Error'\r\n                      ? 'fa-exclamation-circle'\r\n                      : 'fa-clock'\r\n                  ]\"\r\n                ></i>\r\n              </span>\r\n            </td>\r\n            <td class=\"actions-cell\">\r\n              <button class=\"action-btn action-view\" @click=\"viewDocument(doc)\">\r\n                <i class=\"fas fa-eye\"></i>\r\n              </button>\r\n              <button class=\"action-btn action-download\" @click=\"downloadDocument(doc)\">\r\n                <i class=\"fas fa-download\"></i>\r\n              </button>\r\n              <button class=\"action-btn action-delete\" @click=\"deleteDocument(doc)\">\r\n                <i class=\"fas fa-trash-alt\"></i>\r\n              </button>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n\r\n    <div v-else class=\"empty-state\">\r\n      <div class=\"empty-icon\">\r\n        <i class=\"fas fa-file-alt\"></i>\r\n      </div>\r\n      <p class=\"empty-title\">No se encontraron documentos</p>\r\n      <small class=\"empty-subtext\">\r\n        Sube un archivo o ajusta los filtros de búsqueda para visualizar tus documentos aquí.\r\n      </small>\r\n    </div>\r\n\r\n    <UploadDocument\r\n      v-if=\"showUploadModal\"\r\n      @close=\"showUploadModal = false\"\r\n      @document-uploaded=\"handleDocumentUpload\"\r\n    />\r\n\r\n    <DeleteConfirm\r\n      v-if=\"showDeleteModal\"\r\n      :document=\"documentToDelete\"\r\n      @cancel=\"cancelDelete\"\r\n      @confirm-delete=\"confirmDelete\"\r\n    />\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport UploadDocument from '../components/Documents/UploadDocument.vue'; \r\nimport DeleteConfirm from '../components/Documents/DeleteConfirm.vue';\r\n\r\nexport default {\r\n  name: 'DocumentsPanel',\r\n  components: {\r\n    UploadDocument,\r\n    DeleteConfirm,\r\n  },\r\n  data() {\r\n    return {\r\n      searchQuery: '',\r\n      showUploadModal: false,\r\n      showDeleteModal: false,\r\n      documentToDelete: null,\r\n      documents: [\r\n        { id: 1, name: 'Manual_KIIBOT.pdf', date: '2025-04-10', fragments: 23, status: 'Procesado' },\r\n        { id: 2, name: 'Ventas_Q1.txt', date: '2025-04-09', fragments: 0, status: 'Error' },\r\n        { id: 3, name: 'FAQs_KIIBOT.docx', date: '2025-04-08', fragments: 15, status: 'En espera' },\r\n      ],\r\n    };\r\n  },\r\n  computed: {\r\n    filteredDocuments() {\r\n      const query = this.searchQuery.toLowerCase();\r\n      return this.documents.filter((doc) => {\r\n        return (\r\n          doc.name.toLowerCase().includes(query) ||\r\n          doc.user.toLowerCase().includes(query) ||\r\n          doc.status.toLowerCase().includes(query)\r\n        );\r\n      });\r\n    },\r\n  },\r\n  methods: {\r\n    openAddDocumentModal() {\r\n      this.showUploadModal = true;\r\n    },\r\n    handleDocumentUpload(newDoc) {\r\n      this.documents.unshift(newDoc);\r\n    },\r\n    viewDocument(doc) {\r\n      console.log('Ver documento:', doc.name);\r\n    },\r\n    downloadDocument(doc) {\r\n      console.log('Descargar documento:', doc.name);\r\n    },\r\n    deleteDocument(doc) {\r\n      this.documentToDelete = doc;\r\n      this.showDeleteModal = true;\r\n    },\r\n    confirmDelete() {\r\n      this.documents = this.documents.filter(\r\n        (doc) => doc.id !== this.documentToDelete.id\r\n      );\r\n      this.showDeleteModal = false;\r\n      this.documentToDelete = null;\r\n    },\r\n    cancelDelete() {\r\n      this.showDeleteModal = false;\r\n      this.documentToDelete = null;\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.documents-panel {\r\n  padding: 0 2rem;\r\n  font-family: 'Inter', sans-serif;\r\n  max-width: 1000px;\r\n  margin: 0 auto;\r\n}\r\n\r\n/*  */\r\n.documents-header {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1.8rem;\r\n  margin-bottom: 2.5rem;\r\n  padding: 0 2rem;\r\n  font-family: 'Poppins', sans-serif;\r\n}\r\n\r\n.header-row {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.header-title {\r\n  font-size: 2rem;\r\n  font-weight: 700;\r\n  color: #333;\r\n  margin: 0;\r\n  letter-spacing: -0.3px;\r\n}\r\n\r\n.txt-blue {\r\n  color: #007bff;\r\n}\r\n\r\n.add-document-btn {\r\n  background: #007bff;\r\n  color: #fff;\r\n  font-size: 0.95rem;\r\n  font-weight: 600;\r\n  border: none;\r\n  border-radius: 12px;\r\n  padding: 0.65rem 1.3rem;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  transition: transform 0.2s ease;\r\n}\r\n\r\n.add-document-btn i {\r\n  font-size: 1.1rem;\r\n}\r\n\r\n.add-document-btn:hover {\r\n  transform: scale(1.03);\r\n}\r\n\r\n.header-filters {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 1rem;\r\n  width: 100%;\r\n}\r\n\r\n.filter-input {\r\n  flex: 1;\r\n  max-width: 350px;\r\n  padding: 0.65rem 1rem;\r\n  border: 1.6px solid #ddd;\r\n  border-radius: 12px;\r\n  font-size: 0.95rem;\r\n  background-color: #f7f9fc;\r\n  transition: border-color 0.2s ease, box-shadow 0.2s ease;\r\n  color: #333;\r\n}\r\n\r\n.filter-input::placeholder {\r\n  color: #999;\r\n  font-weight: 400;\r\n}\r\n\r\n.filter-input:focus {\r\n  outline: none;\r\n  border-color: #007bff;\r\n  box-shadow: 0 0 0 3px rgba(58, 142, 246, 0.15);\r\n  background-color: #fff;\r\n}\r\n\r\n/*  */\r\n.documents-table {\r\n  padding: 0 2rem;\r\n}\r\n\r\n.table {\r\n  width: 100%;\r\n  border-collapse: separate;\r\n  border-spacing: 0;\r\n  font-size: 0.9rem;\r\n  color: #111827;\r\n  background-color: #fff;\r\n  border-radius: 16px;\r\n  overflow: hidden;\r\n  box-shadow: 0 8px 20px rgba(1, 1, 1, 0.05);\r\n  font-family: 'Poppins', sans-serif;\r\n}\r\n\r\n.table tbody tr:hover {\r\n  background-color: #f1f1f1;\r\n  transition: background-color 0.2s ease-in-out;\r\n}\r\n\r\n.table thead {\r\n  background-color: #f9fafb;\r\n  color: #ccc;\r\n  font-weight: 500;\r\n  letter-spacing: 0.3px;\r\n  border-bottom: 1px solid #e5e7eb;\r\n}\r\n\r\n.table th,\r\n.table td {\r\n  padding: 0.85rem 1.2rem;\r\n  border-bottom: 1px solid #f3f4f6;\r\n  vertical-align: middle;\r\n  white-space: nowrap;\r\n  text-align: left;\r\n}\r\n\r\n.table th {\r\n  font-size: 0.82rem;\r\n  font-weight: 500;\r\n  color: #6b7280;\r\n}\r\n\r\n\r\n.table td:nth-child(1) {\r\n  color: #111827;\r\n  font-size: 0.93rem;\r\n  font-weight: 600;\r\n}\r\n\r\n.table td:nth-child(2) {\r\n  color: #4b5563;\r\n  font-weight: 400;\r\n  font-size: 0.88rem;\r\n}\r\n\r\n.table td:nth-child(3) {\r\n  color: #1f2937;\r\n  font-weight: 500;\r\n  font-size: 0.88rem;\r\n}\r\n\r\n.table th:nth-child(5) {\r\n  text-align: center;\r\n}\r\n\r\n.table th:nth-child(3),\r\n.table td:nth-child(3) {\r\n  text-align: center;\r\n}\r\n\r\n.table th:nth-child(4),\r\n.table td:nth-child(4) {\r\n  text-align: center;\r\n}\r\n\r\n.status-badge {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 1.1rem;\r\n  width: 2rem;\r\n  height: 2rem;\r\n  border-radius: 50%;\r\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);\r\n  transition: all 0.25s ease-in-out;\r\n}\r\n\r\n.status-success {\r\n  background-color: rgba(34, 197, 94, 0.15); \r\n  color: #22c55e;\r\n}\r\n\r\n.status-error {\r\n  background-color: rgba(239, 68, 68, 0.15); \r\n  color: #ef4444;\r\n}\r\n\r\n.status-pending {\r\n  background-color: rgba(234, 179, 8, 0.15);\r\n  color: #eab308;\r\n}\r\n\r\n.actions-cell {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  gap: 0.4rem;\r\n  margin: 0 auto;\r\n}\r\n\r\n.action-btn {\r\n  background-color: #ffffff;\r\n  border: 1.5px solid #e0e6ed;\r\n  border-radius: 10px;\r\n  padding: 0.50rem 0.55rem;\r\n  cursor: pointer;\r\n  color: #444;\r\n  font-size: 0.9rem;\r\n  transition: all 0.25s ease-in-out;\r\n  display: flex;\r\n  align-items: center;\r\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.action-btn i {\r\n  pointer-events: none;\r\n}\r\n\r\n.action-view:hover {\r\n  color: #2563eb;\r\n  border-color: rgba(37, 99, 235, 0.3);\r\n  background-color: rgba(37, 99, 235, 0.08);\r\n  transform: translateY(-1px) scale(1.05);\r\n}\r\n\r\n.action-download:hover {\r\n  color: #16a34a;\r\n  border-color: rgba(22, 163, 74, 0.3);\r\n  background-color: rgba(22, 163, 74, 0.08);\r\n  transform: translateY(-1px) scale(1.05);\r\n}\r\n\r\n.action-delete:hover {\r\n  color: #dc2626;\r\n  border-color: rgba(220, 38, 38, 0.3);\r\n  background-color: rgba(220, 38, 38, 0.08);\r\n  transform: translateY(-1px) scale(1.05);\r\n}\r\n\r\n.empty-state {\r\n  text-align: center;\r\n  padding: 2rem 1.5rem;\r\n  font-family: 'Poppins', sans-serif;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 1rem;\r\n  border-radius: 16px;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.empty-icon {\r\n  background-color: #eef2f8;\r\n  padding: 1.6rem;\r\n  border-radius: 50%;\r\n  box-shadow: 0 10px 24px rgba(0, 0, 0, 0.05);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  animation: pulseIcon 1.5s infinite ease-in-out;\r\n}\r\n\r\n.empty-icon i {\r\n  font-size: 3rem;\r\n  color: #9ca3af;\r\n}\r\n\r\n.empty-title {\r\n  font-size: 1.3rem;\r\n  font-weight: 700;\r\n  color: #1f2937;\r\n  margin: 0;\r\n}\r\n\r\n.empty-subtext {\r\n  font-size: 1rem;\r\n  color: #6b7280;\r\n  max-width: 440px;\r\n  line-height: 1.6;\r\n}\r\n\r\n@keyframes pulseIcon {\r\n  0% {\r\n    transform: scale(1);\r\n    opacity: 0.95;\r\n  }\r\n  50% {\r\n    transform: scale(1.08);\r\n    opacity: 1;\r\n  }\r\n  100% {\r\n    transform: scale(1);\r\n    opacity: 0.95;\r\n  }\r\n}\r\n\r\n/*  */\r\n@media (max-width: 800px) {\r\n  .documents-header {\r\n    padding: 1rem;\r\n    gap: 1rem;\r\n  }\r\n\r\n  .header-row {\r\n    flex-direction: column;\r\n    align-items: center;\r\n    gap: 0.75rem;\r\n  }\r\n\r\n  .header-title {\r\n    font-size: 1.4rem;\r\n    text-align: center;\r\n  }\r\n\r\n  .add-document-btn {\r\n    width: 55%;\r\n    justify-content: center;\r\n    padding: 0.65rem;\r\n    font-size: 0.92rem;\r\n  }\r\n\r\n  .add-document-btn i {\r\n    font-size: 0.9rem;\r\n  }\r\n\r\n  .header-filters {\r\n    justify-content: center;\r\n    width: 100%;\r\n  }\r\n\r\n  .filter-input {\r\n    width: 100%;\r\n    font-size: 0.88rem;\r\n    padding: 0.6rem 0.8rem;\r\n  }\r\n\r\n  .table th:nth-child(3),\r\n  .table td:nth-child(3) {\r\n    display: none;\r\n  }\r\n\r\n  .documents-table {\r\n    padding: 0 1rem;\r\n  }\r\n\r\n  .table {\r\n    font-size: 0.85rem;\r\n  }\r\n\r\n  .table th,\r\n  .table td {\r\n    padding: 0.7rem 0.9rem;\r\n  }\r\n\r\n  .table td:nth-child(1) {\r\n    font-size: 0.9rem;\r\n  }\r\n\r\n  .action-btn {\r\n    padding: 0.4rem 0.45rem;\r\n    font-size: 0.85rem;\r\n  }\r\n\r\n  .status-badge {\r\n    width: 1.8rem;\r\n    height: 1.8rem;\r\n    font-size: 1rem;\r\n  }\r\n}\r\n\r\n@media (max-width: 610px) {\r\n  .table th:nth-child(2),\r\n  .table td:nth-child(2) {\r\n    display: none;\r\n  }\r\n\r\n  .table {\r\n    font-size: 0.82rem;\r\n  }\r\n\r\n  .table th,\r\n  .table td {\r\n    padding: 0.6rem 0.8rem;\r\n  }\r\n\r\n  .table td:nth-child(1) {\r\n    font-size: 0.88rem;\r\n  }\r\n\r\n  .action-btn {\r\n    padding: 0.35rem 0.4rem;\r\n    font-size: 0.8rem;\r\n  }\r\n\r\n  .status-badge {\r\n    width: 1.6rem;\r\n    height: 1.6rem;\r\n    font-size: 0.9rem;\r\n  }\r\n\r\n  .actions-cell {\r\n    gap: 0.3rem;\r\n  }\r\n}\r\n\r\n@media (max-width: 480px) {\r\n  .documents-header {\r\n    padding: 0.8rem;\r\n    gap: 0.8rem;\r\n  }\r\n\r\n  .header-title {\r\n    font-size: 1.2rem;\r\n    text-align: center;\r\n  }\r\n\r\n  .add-document-btn {\r\n    width: 100%;\r\n    font-size: 0.88rem;\r\n    padding: 0.6rem 1rem;\r\n  }\r\n\r\n  .header-filters {\r\n    flex-direction: column;\r\n    align-items: stretch;\r\n    width: 90%;\r\n  }\r\n\r\n  .filter-input {\r\n    width: 100%;\r\n    font-size: 0.8rem;\r\n    padding: 0.5rem 0.8rem;\r\n  }\r\n\r\n  .table th:nth-child(4),\r\n  .table td:nth-child(4) {\r\n    display: none;\r\n  }\r\n\r\n  .documents-table {\r\n    padding: 0 0.6rem;\r\n  }\r\n\r\n  .table {\r\n    font-size: 0.8rem;\r\n  }\r\n\r\n  .table th,\r\n  .table td {\r\n    padding: 0.5rem 0.6rem;\r\n  }\r\n\r\n  .table td:nth-child(1) {\r\n    font-size: 0.85rem;\r\n  }\r\n\r\n  .action-btn {\r\n    padding: 0.3rem 0.35rem;\r\n    font-size: 0.78rem;\r\n    border-radius: 8px;\r\n  }\r\n\r\n  .status-badge {\r\n    width: 1.4rem;\r\n    height: 1.4rem;\r\n    font-size: 0.85rem;\r\n  }\r\n\r\n  .actions-cell {\r\n    gap: 0.25rem;\r\n  }\r\n}\r\n\r\n</style>\r\n","<template>\r\n  <div class=\"upload-modal\">\r\n    <div class=\"modal-overlay\" @click=\"$emit('close')\"></div>\r\n    <div class=\"modal-content\">\r\n\r\n      <div class=\"modal-header\">\r\n        <h2 class=\"modal-title\">\r\n          <i class=\"fas fa-cloud-upload-alt\"></i>\r\n          <span>Subir nuevo documento</span>\r\n        </h2>\r\n        <button class=\"close-btn\" @click=\"$emit('close')\">\r\n          <i class=\"fas fa-times\"></i>\r\n        </button>\r\n      </div>\r\n\r\n      <div class=\"modal-body\">\r\n        <label\r\n          class=\"file-label\"\r\n          :class=\"fileColorClass\"\r\n          for=\"fileInput\"\r\n        >\r\n          <div class=\"icon-section\">\r\n            <i :class=\"fileIconClass\"></i>\r\n          </div>\r\n          <div class=\"file-info\">\r\n            <span v-if=\"!selectedFile\" class=\"placeholder-text\">\r\n              Selecciona un archivo válido\r\n            </span>\r\n            <template v-else>\r\n              <strong>{{ selectedFile.name }}</strong>\r\n              <small>\r\n                {{ readableExtension }} · {{ readableSize }}\r\n              </small>\r\n            </template>\r\n          </div>\r\n          <input\r\n            id=\"fileInput\"\r\n            type=\"file\"\r\n            @change=\"handleFile\"\r\n            accept=\".pdf,.docx,.txt,.xlsx,.csv\"\r\n            hidden\r\n          />\r\n        </label>\r\n\r\n        <div v-if=\"errorMessage\" class=\"error-message\">\r\n          <i class=\"fas fa-exclamation-circle\"></i> {{ errorMessage }}\r\n        </div>\r\n\r\n        <div v-if=\"isUploading\" class=\"progress-bar-wrapper\">\r\n          <div class=\"progress-bar-track\">\r\n            <div class=\"progress-bar-fill\" :style=\"{ width: `${uploadProgress}%` }\"></div>\r\n          </div>\r\n          <small class=\"progress-text\">Subiendo documento ({{ Math.floor(uploadProgress) }}%)</small>\r\n        </div>\r\n\r\n        <div v-if=\"uploadSuccess\" class=\"upload-success\">\r\n          <i class=\"fas fa-check-circle\"></i> Documento subido correctamente\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"modal-footer\">\r\n        <button\r\n          class=\"upload-btn\"\r\n          @click=\"submitUpload\"\r\n          :disabled=\"!selectedFile || isUploading\"\r\n        >\r\n          <i class=\"fas fa-cloud-upload-alt\"></i> Subir Documento\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'UploadDocument',\r\n  data() {\r\n    return {\r\n      selectedFile: null,\r\n      errorMessage: '',\r\n      isUploading: false,\r\n      uploadProgress: 0,\r\n      uploadSuccess: false,\r\n      maxSizeMB: 10,\r\n      fileTypes: {\r\n        pdf:  { icon: 'fa-file-pdf', color: 'text-red-600', label: 'Archivo PDF', class: 'file-red' },\r\n        docx: { icon: 'fa-file-word', color: 'text-blue-600', label: 'Microsoft Word', class: 'file-blue' },\r\n        doc:  { icon: 'fa-file-word', color: 'text-blue-600', label: 'Microsoft Word', class: 'file-blue' },\r\n        txt:  { icon: 'fa-file-alt',  color: 'text-gray-600', label: 'Texto plano',     class: 'file-gray' },\r\n        xlsx: { icon: 'fa-file-excel', color: 'text-green-600', label: 'Excel',         class: 'file-green' },\r\n        csv:  { icon: 'fa-file-excel', color: 'text-green-600', label: 'CSV',           class: 'file-green' },\r\n      },\r\n    };\r\n  },\r\n  computed: {\r\n    fileExtension() {\r\n      return this.selectedFile?.name.split('.').pop().toLowerCase() || '';\r\n    },\r\n    fileData() {\r\n      return this.fileTypes[this.fileExtension] || {\r\n        icon: 'fa-file',\r\n        color: 'text-gray-400',\r\n        label: 'Desconocido',\r\n        class: 'file-default',\r\n      };\r\n    },\r\n    fileIconClass() {\r\n      return `fas ${this.fileData.icon} ${this.fileData.color}`;\r\n    },\r\n    fileColorClass() {\r\n      return this.fileData.class;\r\n    },\r\n    readableExtension() {\r\n      return this.fileData.label;\r\n    },\r\n    readableSize() {\r\n      if (!this.selectedFile) return '';\r\n      const sizeKB = this.selectedFile.size / 1024;\r\n      return sizeKB > 1024\r\n        ? `${(sizeKB / 1024).toFixed(2)} MB`\r\n        : `${sizeKB.toFixed(1)} KB`;\r\n    },\r\n  },\r\n  methods: {\r\n    handleFile(event) {\r\n      const file = event.target.files[0];\r\n      this.errorMessage = '';\r\n      this.selectedFile = null;\r\n\r\n      if (!file) return;\r\n\r\n      const extension = file.name.split('.').pop().toLowerCase();\r\n      const sizeMB = file.size / (1024 * 1024);\r\n\r\n      if (!Object.keys(this.fileTypes).includes(extension)) {\r\n        this.errorMessage = `Formato no soportado: .${extension}`;\r\n        return;\r\n      }\r\n\r\n      if (sizeMB > this.maxSizeMB) {\r\n        this.errorMessage = `El archivo supera los ${this.maxSizeMB}MB permitidos`;\r\n        return;\r\n      }\r\n\r\n      this.selectedFile = file;\r\n    },\r\n    submitUpload() {\r\n      if (!this.selectedFile || this.isUploading) return;\r\n\r\n      this.isUploading = true;\r\n      this.errorMessage = '';\r\n      this.uploadSuccess = false;\r\n      this.uploadProgress = 0;\r\n\r\n      const interval = setInterval(() => {\r\n        if (this.uploadProgress >= 100) {\r\n          clearInterval(interval);\r\n          this.isUploading = false;\r\n          this.uploadSuccess = true;\r\n\r\n          const newDocument = {\r\n            id: Date.now(),\r\n            name: this.selectedFile.name,\r\n            date: new Date().toISOString().slice(0, 10),\r\n            fragments: Math.floor(Math.random() * 30) + 5,\r\n            status: 'En espera',\r\n          };\r\n\r\n          this.$emit('document-uploaded', newDocument);\r\n\r\n          setTimeout(() => {\r\n            this.$emit('close');\r\n          }, 1200);\r\n        } else {\r\n          this.uploadProgress = Math.min(this.uploadProgress + Math.random() * 10, 100);\r\n        }\r\n      }, 150);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.upload-modal {\r\n  position: fixed;\r\n  inset: 0;\r\n  z-index: 1000;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.modal-overlay {\r\n  position: absolute;\r\n  inset: 0;\r\n  background-color: rgba(0, 0, 0, 0.4);\r\n  backdrop-filter: blur(3px);\r\n}\r\n\r\n.modal-content {\r\n  position: relative;\r\n  background: #ffffff;\r\n  border-radius: 18px;\r\n  width: 95%;\r\n  max-width: 480px;\r\n  padding: 2rem 1.7rem;\r\n  z-index: 1001;\r\n  font-family: 'Poppins', sans-serif;\r\n  box-shadow: 0 12px 30px rgba(0, 0, 0, 0.12);\r\n  animation: fadeIn 0.3s ease;\r\n}\r\n\r\n@keyframes fadeIn {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(10px) scale(0.97);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0) scale(1);\r\n  }\r\n}\r\n\r\n.modal-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 1.8rem;\r\n}\r\n\r\n.modal-title {\r\n  font-family: 'DM Serif Display', serif;\r\n  font-size: 1.5rem;\r\n  color: #0f172a;\r\n  font-weight: 600;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.6rem;\r\n}\r\n\r\n.modal-title i {\r\n  font-size: 1.4rem;\r\n  color: #3b82f6;\r\n}\r\n\r\n.close-btn {\r\n  background: transparent;\r\n  border: none;\r\n  font-size: 1.2rem;\r\n  color: #64748b;\r\n  cursor: pointer;\r\n  transition: color 0.2s ease;\r\n}\r\n\r\n.close-btn:hover {\r\n  color: #1e293b;\r\n}\r\n\r\n.modal-body {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1.3rem;\r\n}\r\n\r\n.file-label {\r\n  border: 2px dashed #cbd5e1;\r\n  border-radius: 14px;\r\n  padding: 1.4rem;\r\n  background-color: #f9fafb;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 1rem;\r\n  transition: all 0.3s ease;\r\n  cursor: pointer;\r\n  text-align: left;\r\n}\r\n\r\n.file-label:hover {\r\n  background-color: #f1f5f9;\r\n  border-color: #94a3b8;\r\n}\r\n\r\n.icon-section {\r\n  font-size: 2.2rem;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  min-width: 38px;\r\n}\r\n\r\n.file-info {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.3rem;\r\n  font-size: 0.92rem;\r\n  color: #475569;\r\n}\r\n\r\n.file-info strong {\r\n  color: #1e293b;\r\n  font-size: 0.95rem;\r\n}\r\n\r\n.placeholder-text {\r\n  font-size: 0.92rem;\r\n  color: #64748b;\r\n}\r\n\r\n.error-message {\r\n  font-size: 0.86rem;\r\n  color: #dc2626;\r\n  background-color: #fee2e2;\r\n  border: 1px solid #fecaca;\r\n  padding: 0.6rem 1rem;\r\n  border-radius: 8px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.4rem;\r\n}\r\n\r\n.upload-status,\r\n.upload-success {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.6rem;\r\n  font-size: 0.9rem;\r\n  padding: 0.7rem 1rem;\r\n  border-radius: 8px;\r\n  font-weight: 500;\r\n}\r\n\r\n.upload-status {\r\n  background-color: #eff6ff;\r\n  color: #2563eb;\r\n}\r\n\r\n.upload-success {\r\n  background-color: #ecfdf5;\r\n  color: #16a34a;\r\n}\r\n\r\n/* Progress bar */\r\n.progress-bar-wrapper {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.4rem;\r\n  padding: 0.4rem 0;\r\n}\r\n\r\n.progress-bar-track {\r\n  background-color: #e5e7eb;\r\n  border-radius: 10px;\r\n  height: 10px;\r\n  width: 100%;\r\n  overflow: hidden;\r\n}\r\n\r\n.progress-bar-fill {\r\n  background-color: #3b82f6;\r\n  height: 100%;\r\n  width: 0%;\r\n  transition: width 0.3s ease-in-out;\r\n  border-radius: 10px;\r\n}\r\n\r\n.progress-text {\r\n  font-size: 0.8rem;\r\n  color: #475569;\r\n  text-align: right;\r\n  margin-top: 2px;\r\n}\r\n\r\n.modal-footer {\r\n  margin-top: 1.8rem;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n}\r\n\r\n.upload-btn {\r\n  background-color: #007bff;\r\n  color: #fff;\r\n  padding: 0.7rem 1.3rem;\r\n  font-size: 0.9rem;\r\n  font-weight: 600;\r\n  border: none;\r\n  border-radius: 10px;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.upload-btn:hover {\r\n  background-color: #0369a1;\r\n}\r\n\r\n.upload-btn:disabled {\r\n  background-color: #cbd5e1;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.file-red {\r\n  border-color: #fca5a5; \r\n  background-color: rgba(252, 165, 165, 0.18);\r\n}\r\n\r\n.file-blue {\r\n  border-color: #93c5fd; \r\n  background-color: rgba(147, 197, 253, 0.18);\r\n}\r\n\r\n.file-green {\r\n  border-color: #6ee7b7; \r\n  background-color: rgba(110, 231, 183, 0.18);\r\n}\r\n\r\n.file-gray {\r\n  border-color: #cbd5e1; \r\n  background-color: rgba(203, 213, 225, 0.2);\r\n}\r\n\r\n.file-default {\r\n  border-color: #e2e8f0;\r\n  background-color: #f8fafc;\r\n}\r\n</style>","import { render } from \"./UploadDocument.vue?vue&type=template&id=730015d0&scoped=true\"\nimport script from \"./UploadDocument.vue?vue&type=script&lang=js\"\nexport * from \"./UploadDocument.vue?vue&type=script&lang=js\"\n\nimport \"./UploadDocument.vue?vue&type=style&index=0&id=730015d0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-730015d0\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"delete-modal\">\r\n\r\n    <div class=\"modal-overlay\" @click=\"$emit('cancel')\"></div>\r\n    <div class=\"modal-content\">\r\n\r\n      <div class=\"modal-header\">\r\n        <h2 class=\"modal-title\">\r\n          <i class=\"fas fa-exclamation-triangle\"></i>\r\n          Confirmar eliminación\r\n        </h2>\r\n        <button class=\"close-btn\" @click=\"$emit('cancel')\">\r\n          <i class=\"fas fa-times\"></i>\r\n        </button>\r\n      </div>\r\n\r\n      <div class=\"modal-body\">\r\n        <p class=\"main-text\">\r\n          Estás a punto de eliminar permanentemente el documento\r\n          <span class=\"doc-name\">{{ document.name }}</span><br />\r\n          Se eliminarán todos los fragmentos de conocimiento relacionados y\r\n          <strong>KIIBOT olvidará su información.</strong><br />\r\n          <span class=\"warning\">Esta acción no se puede deshacer.</span>\r\n        </p>\r\n\r\n        <label for=\"confirm-input\" class=\"confirm-label\">\r\n          Escribe el nombre del archivo para confirmar:\r\n        </label>\r\n        <input\r\n          id=\"confirm-input\"\r\n          type=\"text\"\r\n          v-model=\"confirmInput\"\r\n          :placeholder=\"document.name\"\r\n          class=\"confirm-input\"\r\n        />\r\n\r\n        <div v-if=\"errorMessage\" class=\"error-message\">\r\n          <i class=\"fas fa-exclamation-circle\"></i> {{ errorMessage }}\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"modal-footer\">\r\n        <button\r\n          class=\"delete-btn\"\r\n          :disabled=\"!canDelete || isDeleting\"\r\n          @click=\"confirmDeletion\"\r\n        >\r\n          <i v-if=\"!isDeleting\" class=\"fas fa-trash-alt\"></i>\r\n          <i v-else class=\"fas fa-spinner fa-spin\"></i>\r\n          Eliminar\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'DeleteConfirm',\r\n  props: {\r\n    document: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      confirmInput: '',\r\n      errorMessage: '',\r\n      isDeleting: false,\r\n    };\r\n  },\r\n  computed: {\r\n    canDelete() {\r\n      return this.confirmInput.trim() === this.document.name;\r\n    },\r\n  },\r\n  methods: {\r\n    confirmDeletion() {\r\n      if (!this.canDelete) {\r\n        this.errorMessage = 'El nombre no coincide exactamente con el archivo.';\r\n        return;\r\n      }\r\n\r\n      this.errorMessage = '';\r\n      this.isDeleting = true;\r\n\r\n      setTimeout(() => {\r\n        this.$emit('confirm-delete', this.document);\r\n\r\n        this.confirmInput = '';\r\n        this.isDeleting = false;\r\n\r\n        this.$emit('close');\r\n      }, 1200);\r\n    },\r\n  },\r\n  watch: {\r\n    document() {\r\n      this.confirmInput = '';\r\n      this.errorMessage = '';\r\n      this.isDeleting = false;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.delete-modal {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  z-index: 9999;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  backdrop-filter: blur(4px);\r\n  background-color: rgba(0, 0, 0, 0.4);\r\n  animation: fadeIn 0.3s ease-in-out;\r\n}\r\n\r\n.modal-overlay {\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  cursor: pointer;\r\n}\r\n\r\n.modal-content {\r\n  position: relative;\r\n  background-color: #f8f9fa;\r\n  border-radius: 16px;\r\n  padding: 2rem;\r\n  width: 90%;\r\n  max-width: 500px;\r\n  color: #1f2937;\r\n  box-shadow: 0 8px 28px rgba(0, 0, 0, 0.2);\r\n  animation: scaleIn 0.4s ease;\r\n  border: 1px solid #e5e7eb;\r\n}\r\n\r\n.modal-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.modal-title {\r\n  font-size: 1.5rem;\r\n  font-weight: 700;\r\n  color: #dc2626;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.6rem;\r\n}\r\n\r\n.modal-title i {\r\n  font-size: 1.4rem;\r\n}\r\n\r\n.close-btn {\r\n  background: transparent;\r\n  border: none;\r\n  font-size: 1.3rem;\r\n  color: #6b7280;\r\n  cursor: pointer;\r\n  transition: transform 0.2s ease;\r\n}\r\n\r\n.close-btn:hover {\r\n  color: #414141;\r\n}\r\n\r\n.modal-body {\r\n  text-align: left;\r\n}\r\n\r\n.main-text {\r\n  font-size: 1rem;\r\n  margin-bottom: 1.5rem;\r\n  color: #374151;\r\n  line-height: 1.5;\r\n}\r\n\r\n.doc-name {\r\n  font-weight: bold;\r\n  color: #111827;\r\n}\r\n\r\n.warning {\r\n  color: #f59e0b;\r\n  font-weight: 600;\r\n}\r\n\r\n.confirm-label {\r\n  display: block;\r\n  margin-bottom: 0.4rem;\r\n  font-size: 0.95rem;\r\n  color: #4b5563;\r\n}\r\n\r\n.confirm-input {\r\n  width: 58%;\r\n  padding: 0.7rem 1rem;\r\n  border-radius: 8px;\r\n  border: 1px solid #d1d5db;\r\n  background-color: #ffffff;\r\n  color: #111827;\r\n  font-size: 1rem;\r\n  transition: border 0.3s ease, box-shadow 0.3s ease;\r\n}\r\n\r\n.confirm-input:focus {\r\n  border-color: #dc2626;\r\n  box-shadow: 0 0 6px rgba(220, 38, 38, 0.4);\r\n  outline: none;\r\n}\r\n\r\n.error-message {\r\n  margin-top: 0.8rem;\r\n  color: #dc2626;\r\n  font-size: 0.9rem;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.modal-footer {\r\n  margin-top: 2rem;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 1rem;\r\n}\r\n\r\n.cancel-btn,\r\n.delete-btn {\r\n  padding: 0.7rem 1.4rem;\r\n  border: none;\r\n  border-radius: 8px;\r\n  font-weight: 600;\r\n  font-size: 0.95rem;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.cancel-btn {\r\n  background-color: #e5e7eb;\r\n  color: #374151;\r\n}\r\n\r\n.cancel-btn:hover {\r\n  background-color: #d1d5db;\r\n}\r\n\r\n.delete-btn {\r\n  background: #dc2626;\r\n  color: #fff;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.6rem;\r\n}\r\n\r\n.delete-btn:hover {\r\n  background: #b91c1c;\r\n}\r\n\r\n.delete-btn:disabled {\r\n  opacity: 0.5;\r\n  cursor: not-allowed;\r\n}\r\n\r\n@keyframes fadeIn {\r\n  from {\r\n    opacity: 0;\r\n    transform: scale(0.98);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: scale(1);\r\n  }\r\n}\r\n\r\n@keyframes scaleIn {\r\n  from {\r\n    opacity: 0;\r\n    transform: scale(0.85);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: scale(1);\r\n  }\r\n}\r\n\r\n/*  */\r\n@media (max-width: 768px) {\r\n  .modal-content {\r\n    width: 92%;\r\n    padding: 1.6rem 1.2rem;\r\n  }\r\n\r\n  .modal-title {\r\n    font-size: 1.3rem;\r\n  }\r\n\r\n  .modal-title i {\r\n    font-size: 1.3rem;\r\n  }\r\n\r\n  .confirm-input {\r\n    width: 91%;\r\n    font-size: 0.95rem;\r\n  }\r\n\r\n  .modal-footer {\r\n    flex-direction: column;\r\n    align-items: stretch;\r\n  }\r\n\r\n  .delete-btn,\r\n  .cancel-btn {\r\n    width: 100%;\r\n    justify-content: center;\r\n    font-size: 0.95rem;\r\n  }\r\n}\r\n\r\n@media (max-width: 480px) {\r\n  .modal-content {\r\n    border-radius: 0;\r\n    height: 100%;\r\n    max-width: 100%;\r\n    padding: 1.4rem 1rem;\r\n  }\r\n\r\n  .modal-title {\r\n    font-size: 1.2rem;\r\n  }\r\n\r\n  .main-text {\r\n    font-size: 0.95rem;\r\n  }\r\n\r\n  .confirm-label {\r\n    font-size: 0.9rem;\r\n  }\r\n\r\n  .confirm-input {\r\n    font-size: 0.9rem;\r\n    padding: 0.6rem 0.9rem;\r\n  }\r\n\r\n  .modal-footer {\r\n    margin-top: 1.5rem;\r\n    gap: 0.8rem;\r\n  }\r\n\r\n  .delete-btn,\r\n  .cancel-btn {\r\n    font-size: 0.9rem;\r\n    padding: 0.65rem 1rem;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./DeleteConfirm.vue?vue&type=template&id=6926a633&scoped=true\"\nimport script from \"./DeleteConfirm.vue?vue&type=script&lang=js\"\nexport * from \"./DeleteConfirm.vue?vue&type=script&lang=js\"\n\nimport \"./DeleteConfirm.vue?vue&type=style&index=0&id=6926a633&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6926a633\"]])\n\nexport default __exports__","import { render } from \"./DocumentsPanel.vue?vue&type=template&id=560df71a&scoped=true\"\nimport script from \"./DocumentsPanel.vue?vue&type=script&lang=js\"\nexport * from \"./DocumentsPanel.vue?vue&type=script&lang=js\"\n\nimport \"./DocumentsPanel.vue?vue&type=style&index=0&id=560df71a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-560df71a\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"knowledge-panel\">\r\n\r\n    <div class=\"knowledge-header\">\r\n      <div class=\"header-row\">\r\n        <h2 class=\"header-title\">\r\n          Base de Conocimiento <span class=\"txt-blue\">KIIBOT</span>\r\n        </h2>\r\n      </div>\r\n\r\n      <div class=\"header-filters\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Buscar por palabra o frase...\"\r\n          class=\"filter-input\"\r\n          v-model=\"searchQuery\"\r\n        />\r\n        <select class=\"filter-select\" v-model=\"selectedDocument\">\r\n          <option value=\"\">Todos los documentos</option>\r\n          <option v-for=\"doc in availableDocuments\" :key=\"doc\" :value=\"doc\">\r\n            {{ doc }}\r\n          </option>\r\n        </select>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"knowledge-table\">\r\n      <template v-if=\"filteredFragments.length > 0\">\r\n        <table class=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th>Fragmento</th>\r\n              <th>Documento</th>\r\n              <th class=\"col-fecha\">Fecha</th>\r\n              <th>Estado</th>\r\n              <th>Acciones</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"fragment in filteredFragments\" :key=\"fragment.id\" :class=\"{ expanded: expandedIds.includes(fragment.id) }\" >\r\n              <td>\r\n                <div class=\"fragment-text\" :class=\"{ expanded: expandedIds.includes(fragment.id) }\">\r\n                  <span>{{ fragment.text }}</span>\r\n                  <button\r\n                    v-if=\"shouldShowToggle(fragment.text)\"\r\n                    class=\"readmore-btn\"\r\n                    @click=\"toggleFragment(fragment.id)\"\r\n                    :title=\"expandedIds.includes(fragment.id) ? 'Ocultar' : 'Ver completo'\"\r\n                  >\r\n                    <i :class=\"expandedIds.includes(fragment.id) ? 'fas fa-eye-slash' : 'fas fa-eye'\"></i>\r\n                  </button>\r\n                </div>\r\n              </td>\r\n              <td>{{ fragment.document }}</td>\r\n              <td class=\"col-fecha\">{{ fragment.date }}</td>\r\n              <td>\r\n                <span\r\n                  :class=\"['status-chip', fragment.was_edited ? 'edited' : 'original']\"\r\n                >\r\n                  <i\r\n                    :class=\"[\r\n                      'fas',\r\n                      fragment.was_edited ? 'fa-edit' : 'fa-file-alt'\r\n                    ]\"\r\n                  ></i>\r\n                </span>\r\n              </td>\r\n              <td class=\"actions-cell\">\r\n                <button\r\n                  class=\"action-btn action-edit\"\r\n                  @click=\"editFragment(fragment)\"\r\n                >\r\n                  <i class=\"fas fa-pen\"></i>\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </template>\r\n\r\n      <div v-else class=\"empty-state\">\r\n        <div class=\"empty-icon\">\r\n          <i class=\"fas fa-folder-open\"></i>\r\n        </div>\r\n        <p class=\"empty-title\">No hay fragmentos disponibles</p>\r\n        <small class=\"empty-subtext\">\r\n          Ajusta los filtros o carga un documento procesado para ver los fragmentos aquí.\r\n        </small>\r\n      </div>\r\n\r\n    </div>\r\n\r\n    <EditFragmentModal\r\n      v-if=\"showEditModal\"\r\n      :fragment=\"fragmentBeingEdited\"\r\n      @close=\"closeEditModal\"\r\n      @save=\"handleFragmentSave\"\r\n    />\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport EditFragmentModal from '../components/Knowledge/EditFragmentModal.vue';\r\n\r\nexport default {\r\n  name: 'BaseConocimiento',\r\n  components: {\r\n    EditFragmentModal\r\n  },\r\n  data() {\r\n    return {\r\n      searchQuery: '',\r\n      selectedDocument: '',\r\n      showEditModal: false,\r\n      fragmentBeingEdited: null,\r\n      expandedIds: [],\r\n      fragments: [\r\n        {\r\n          id: 1,\r\n          text: 'Yo ofrezco esnudas, vírgenes, intactas y sencillas, para mis delicias y el placer de mis amigos, estas noches árabes vividas, soñadas y traducidas sobre su tierra natal y sobre el agua Ellas me fueron dulces durante los ocios en remotos mares, bajo un cielo ahora lejano. Por eso las doy. Sencillas, sonrientes y llenas de ingenuidad, como la musulmana Schehrazada, su madre suculenta que las dió a luz en el misterio; fermentando con emoción en los brazos de un príncipe sublime —lúbrico y feroz—, bajo la mirada enternecida de Alah, clemente y misericordioso. Al venir al mundo fueron delicadamente mecidas por las manos de la lustral Doniazada, su buena tía, que grabó sus nombres sobre hojas de oro coloreadas de húmedas pedrerías y las cuidó bajo el terciopelo de sus pupilas hasta la adolescencia dura, para esparcirlas después, voluptuosas y libres, sobre el mundo oriental, eternizado por su sonrisa. Yo os las entrego tales como son, en su frescor de carne y de rosa. Sólo existe un método honrado y lógico de traducción: la «literalidad», una literalidad impersonal, apenas atenuada por un leve parpadeo y una ligera sonrisa del traductor. Ella crea, sugestiva, la más grande potencia literaria. Ella produce el placer de la evocación. Ella es la garantía de la verdad. Ella es firme e inmutable, en su desnudez de piedra. Ella cautiva el aroma primitivo y lo cristaliza. Ella separa y desata... Ella fija. La literalidad encadena el espíritu divagador y lo doma, al mismo tiempo que detiene la infernal facilidad de la pluma. Yo me felicito de que así sea; porque ¿dónde encontrar un traductor de genio simple, anónimo, libre de la necia manía de su renombre?...',\r\n          document: 'manual_kiibot.pdf',\r\n          date: '2025-04-10',\r\n          was_edited: false\r\n        },\r\n        {\r\n          id: 2,\r\n          text: 'Los usuarios pueden interactuar con el bot mediante comandos personalizados...',\r\n          document: 'faq_general.docx',\r\n          date: '2025-04-09',\r\n          was_edited: true\r\n        },\r\n        {\r\n          id: 3,\r\n          text: 'Para acceder a las configuraciones avanzadas, dirígete al panel de administrador...',\r\n          document: 'manual_admin.pdf',\r\n          date: '2025-04-08',\r\n          was_edited: false\r\n        }\r\n      ]\r\n    };\r\n  },\r\n  computed: {\r\n    availableDocuments() {\r\n      const docs = this.fragments.map(f => f.document);\r\n      return [...new Set(docs)];\r\n    },\r\n    filteredFragments() {\r\n      return this.fragments.filter(fragment => {\r\n        const matchesQuery =\r\n          fragment.text.toLowerCase().includes(this.searchQuery.toLowerCase());\r\n        const matchesDocument =\r\n          this.selectedDocument === '' || fragment.document === this.selectedDocument;\r\n        return matchesQuery && matchesDocument;\r\n      });\r\n    }\r\n  },\r\n  methods: {\r\n    editFragment(fragment) {\r\n      this.fragmentBeingEdited = { ...fragment }; \r\n      this.showEditModal = true;\r\n    },\r\n    closeEditModal() {\r\n      this.fragmentBeingEdited = null;\r\n      this.showEditModal = false;\r\n    },\r\n    handleFragmentSave(updatedFragment) {\r\n      const index = this.fragments.findIndex(f => f.id === updatedFragment.id);\r\n      if (index !== -1) {\r\n        this.fragments[index] = {\r\n          ...updatedFragment,\r\n          was_edited: true,\r\n          date: new Date().toISOString().slice(0, 10)\r\n        };\r\n      }\r\n    },\r\n    toggleFragment(id) {\r\n      const index = this.expandedIds.indexOf(id);\r\n      if (index === -1) {\r\n        this.expandedIds.push(id);\r\n      } else {\r\n        this.expandedIds.splice(index, 1);\r\n      }\r\n    },\r\n    shouldShowToggle(text) {\r\n      return text.length > 180;\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.knowledge-panel {\r\n  padding: 0 2rem;\r\n  font-family: 'Inter', sans-serif;\r\n  max-width: 1000px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.knowledge-header {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1.8rem;\r\n  margin-bottom: 2.5rem;\r\n  padding: 0 2rem;\r\n  font-family: 'Poppins', sans-serif;\r\n}\r\n\r\n.header-row {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.header-title {\r\n  font-size: 2rem;\r\n  font-weight: 700;\r\n  color: #333;\r\n  margin: 0;\r\n  letter-spacing: -0.3px;\r\n}\r\n\r\n.txt-blue {\r\n  color: #007bff;\r\n}\r\n\r\n.header-filters {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 1rem;\r\n  width: 100%;\r\n}\r\n\r\n.filter-input,\r\n.filter-select {\r\n  flex: 1;\r\n  max-width: 300px;\r\n  padding: 0.65rem 1rem;\r\n  border: 1.6px solid #ddd;\r\n  border-radius: 12px;\r\n  font-size: 0.95rem;\r\n  background-color: #f7f9fc;\r\n  transition: border-color 0.2s ease, box-shadow 0.2s ease;\r\n  color: #333;\r\n}\r\n\r\n.filter-input::placeholder {\r\n  color: #999;\r\n  font-weight: 400;\r\n}\r\n\r\n.filter-input:focus,\r\n.filter-select:focus {\r\n  outline: none;\r\n  border-color: #007bff;\r\n  box-shadow: 0 0 0 3px rgba(58, 142, 246, 0.15);\r\n  background-color: #fff;\r\n}\r\n\r\n.knowledge-table {\r\n  padding: 0 1rem;\r\n  margin-top: 1rem;\r\n}\r\n\r\n.table {\r\n  width: 100%;\r\n  border-collapse: separate;\r\n  border-spacing: 0;\r\n  background: #fff;\r\n  border-radius: 14px;\r\n  overflow: hidden;\r\n  box-shadow: 0 4px 14px rgba(0, 0, 0, 0.05);\r\n  font-family: 'Poppins', sans-serif;\r\n  font-size: 0.88rem;\r\n}\r\n\r\n.table thead th {\r\n  background: #f8f9fb;\r\n  font-weight: 600;\r\n  color: #1f2937;\r\n  padding: 0.9rem 1rem;\r\n  text-align: left;\r\n  border-bottom: 1.5px solid #e5e7eb;\r\n  white-space: nowrap;\r\n}\r\n\r\n.table tr {\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.table tr td {\r\n  vertical-align: middle;\r\n  transition: vertical-align 0.3s ease;\r\n}\r\n\r\n.table tr.expanded td {\r\n  vertical-align: top;\r\n}\r\n\r\n.table td {\r\n  padding: 0.8rem 1rem;\r\n  color: #374151;\r\n  background: #fff;\r\n  border-bottom: 1px solid #f3f4f6;\r\n  vertical-align: top;\r\n  transition: background-color 0.2s ease-in-out;\r\n}\r\n\r\n.table tbody tr:hover td {\r\n  background-color: #f9fafb;\r\n}\r\n\r\n.fragment-text {\r\n  position: relative;\r\n  max-width: 380px;\r\n  font-size: 0.85rem;\r\n  color: #1f2937;\r\n  overflow: hidden;\r\n  text-align: left;\r\n  padding-right: 1.8rem;\r\n  display: -webkit-box;\r\n  -webkit-box-orient: vertical;\r\n  -webkit-line-clamp: 2;\r\n  line-height: 1.5;\r\n  transition: max-height 1.3s ease, -webkit-line-clamp 1.3s ease;\r\n  max-height: 3.2em;\r\n}\r\n\r\n.fragment-text.expanded {\r\n  -webkit-line-clamp: unset;\r\n  display: block;\r\n  white-space: normal;\r\n  max-height: 9999px; \r\n}\r\n\r\n.readmore-btn {\r\n  position: absolute;\r\n  top: 0.25rem;\r\n  right: 0.1rem;\r\n  background: transparent;\r\n  border: none;\r\n  color: #007bff;\r\n  font-size: 0.85rem;\r\n  cursor: pointer;\r\n  transition: transform 0.2s ease;\r\n}\r\n\r\n.readmore-btn:hover {\r\n  transform: scale(1.1);\r\n}\r\n\r\n.status-chip {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 1.8rem;\r\n  height: 1.8rem;\r\n  font-size: 0.95rem;\r\n  border-radius: 50%;\r\n  box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.status-chip.original {\r\n  background-color: rgba(59, 130, 246, 0.1); \r\n  color: #3b82f6;\r\n}\r\n\r\n.status-chip.edited {\r\n  background-color: rgba(234, 179, 8, 0.15); \r\n  color: #eab308;\r\n}\r\n\r\n.actions-cell {\r\n  text-align: center;\r\n}\r\n\r\n.action-btn {\r\n  background-color: #ffffff;\r\n  border: 1.3px solid #d1d5db;\r\n  border-radius: 8px;\r\n  padding: 0.4rem 0.5rem;\r\n  cursor: pointer;\r\n  color: #444;\r\n  font-size: 0.9rem;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: all 0.25s ease;\r\n}\r\n\r\n.action-btn i {\r\n  pointer-events: none;\r\n}\r\n\r\n.action-edit:hover {\r\n  background-color: rgba(59, 130, 246, 0.08);\r\n  color: #2563eb;\r\n  border-color: rgba(59, 130, 246, 0.4);\r\n  transform: scale(1.05);\r\n}\r\n\r\n.empty-state {\r\n  text-align: center;\r\n  padding: 2rem 1.5rem;\r\n  font-family: 'Poppins', sans-serif;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 1rem;\r\n  border-radius: 16px;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.empty-icon {\r\n  background-color: #eef2f8;\r\n  padding: 1.6rem;\r\n  border-radius: 50%;\r\n  box-shadow: 0 10px 24px rgba(0, 0, 0, 0.05);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  animation: pulseIcon 1.5s infinite ease-in-out;\r\n}\r\n\r\n.empty-icon i {\r\n  font-size: 3rem;\r\n  color: #9ca3af;\r\n}\r\n\r\n.empty-title {\r\n  font-size: 1.3rem;\r\n  font-weight: 700;\r\n  color: #1f2937;\r\n  margin: 0;\r\n}\r\n\r\n.empty-subtext {\r\n  font-size: 1rem;\r\n  color: #6b7280;\r\n  max-width: 440px;\r\n  line-height: 1.6;\r\n}\r\n\r\n@keyframes pulseIcon {\r\n  0% {\r\n    transform: scale(1);\r\n    opacity: 0.95;\r\n  }\r\n  50% {\r\n    transform: scale(1.08);\r\n    opacity: 1;\r\n  }\r\n  100% {\r\n    transform: scale(1);\r\n    opacity: 0.95;\r\n  }\r\n}\r\n\r\n/*  */\r\n@media (max-width: 700px) {\r\n  .col-fecha {\r\n    display: none;\r\n  }\r\n\r\n  .table thead th,\r\n  .table td {\r\n    font-size: 0.78rem;\r\n    padding: 0.6rem 0.6rem;\r\n  }\r\n\r\n  .header-title {\r\n    font-size: 1.4rem;\r\n  }\r\n\r\n  .header-filters {\r\n    flex-direction: column;\r\n    align-items: center\r\n  }\r\n\r\n  .fragment-text {\r\n    max-width: 240px;\r\n  }\r\n\r\n  .status-chip {\r\n    width: 1.5rem;\r\n    height: 1.5rem;\r\n    font-size: 0.75rem;\r\n  }\r\n\r\n  .action-btn {\r\n    padding: 0.35rem 0.4rem;\r\n    font-size: 0.78rem;\r\n  }\r\n}\r\n\r\n@media (max-width: 480px) {\r\n  .table thead th,\r\n  .table td {\r\n    font-size: 0.75rem;\r\n    padding: 0.55rem 0.5rem;\r\n  }\r\n\r\n  .header-title {\r\n    font-size: 1.25rem;\r\n    text-align: center;\r\n  }\r\n\r\n  .header-row {\r\n    justify-content: center;\r\n  }\r\n\r\n  .fragment-text {\r\n    max-width: 200px;\r\n    font-size: 0.75rem;\r\n  }\r\n\r\n  .readmore-btn {\r\n    top: 0.2rem;\r\n    right: 0.1rem;\r\n    font-size: 0.75rem;\r\n  }\r\n}\r\n\r\n</style>\r\n","<template>\r\n  <dialog class=\"edit-fragment-modal\" open>\r\n    <form @submit.prevent=\"handleSave\" class=\"modal-content\">\r\n      <h2 class=\"modal-title\">\r\n        <i class=\"fas fa-pen\"></i> Editar Fragmento\r\n      </h2>\r\n      <p class=\"modal-subtitle\">Modifica el contenido del fragmento seleccionado</p>\r\n\r\n      <div class=\"textarea-wrapper\">\r\n        <textarea\r\n          v-model=\"editedText\"\r\n          placeholder=\"Edita el texto del fragmento...\"\r\n          :class=\"{ error: showError }\"\r\n        ></textarea>\r\n        <small class=\"char-count\">{{ editedText.length }} caracteres</small>\r\n      </div>\r\n\r\n      <p v-if=\"showError\" class=\"form-error\">El fragmento no puede estar vacío</p>\r\n      <p v-if=\"showSuccess\" class=\"form-success\">Fragmento guardado exitosamente.</p>\r\n\r\n      <div class=\"modal-actions\">\r\n        <button type=\"button\" class=\"cancel-btn\" @click=\"$emit('close')\">\r\n          <i class=\"fas fa-times\"></i> Cancelar\r\n        </button>\r\n        <button type=\"submit\" class=\"confirm-btn\">\r\n          <i class=\"fas fa-save\"></i> Guardar Cambios\r\n        </button>\r\n      </div>\r\n    </form>\r\n  </dialog>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'EditFragmentModal',\r\n  props: {\r\n    fragment: {\r\n      type: Object,\r\n      required: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      editedText: this.fragment.text,\r\n      showError: false,\r\n      showSuccess: false\r\n    };\r\n  },\r\n  watch: {\r\n    editedText(value) {\r\n      this.showError = value.trim() === '';\r\n      if (this.showSuccess) this.showSuccess = false;\r\n    }\r\n  },\r\n  methods: {\r\n    handleSave() {\r\n      const trimmed = this.editedText.trim();\r\n      if (trimmed === '') {\r\n        this.showError = true;\r\n        this.showSuccess = false;\r\n        return;\r\n      }\r\n\r\n      this.showSuccess = true;\r\n      this.showError = false;\r\n\r\n      this.$emit('save', {\r\n        ...this.fragment,\r\n        text: trimmed\r\n      });\r\n\r\n      setTimeout(() => {\r\n        this.$emit('close');\r\n      }, 1800);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.edit-fragment-modal {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  z-index: 9999;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: rgba(17, 24, 39, 0.4); \r\n  backdrop-filter: blur(8px) saturate(140%);\r\n  -webkit-backdrop-filter: blur(8px) saturate(140%);\r\n  animation: fadeInBackdrop 0.25s ease-out;\r\n}\r\n\r\n@keyframes fadeInBackdrop {\r\n  from {\r\n    opacity: 0;\r\n    transform: scale(0.96);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: scale(1);\r\n  }\r\n}\r\n\r\n.modal-content {\r\n  background-color: #fff;\r\n  padding: 1rem 2rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1.5rem;\r\n  border-radius: 16px;\r\n  width: 500px;\r\n}\r\n\r\n.modal-title {\r\n  font-size: 1.65rem;\r\n  font-weight: 800;\r\n  color: #1e293b;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.7rem;\r\n  letter-spacing: -0.3px;\r\n  text-shadow: 0.5px 0.5px 0 rgba(0, 0, 0, 0.03);\r\n}\r\n\r\n.modal-title i {\r\n  background-color: #e0edff;\r\n  color: #007bff;\r\n  font-size: 1rem;\r\n  padding: 0.5rem;\r\n  border-radius: 12px;\r\n  box-shadow: 0 2px 6px rgba(0, 123, 255, 0.1);\r\n  transition: all 0.2s ease-in-out;\r\n}\r\n\r\n.modal-subtitle {\r\n  font-size: 1rem;\r\n  color: #4b5563;\r\n  margin-top: -2.5rem;\r\n  line-height: 1.6;\r\n  padding-left: 2.8rem;\r\n  text-align: left; \r\n}\r\n\r\n.textarea-wrapper {\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.6rem;\r\n}\r\n\r\n.textarea-wrapper textarea {\r\n  width: 92%;\r\n  min-height: 160px;\r\n  max-height: 420px;\r\n  resize: none;\r\n  overflow-y: auto;\r\n  padding: 1rem 1.1rem;\r\n  font-size: 1rem;\r\n  font-family: 'Inter', sans-serif;\r\n  color: #1e293b;\r\n  border: 1.6px solid #d1d5db;\r\n  border-radius: 14px;\r\n  background-color: #f9fafb;\r\n  line-height: 1.65;\r\n  transition: border-color 0.25s ease, box-shadow 0.25s ease, background-color 0.25s ease;\r\n  box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.03);\r\n  margin-top: -2rem;\r\n}\r\n\r\n.textarea-wrapper textarea::placeholder {\r\n  color: #9ca3af;\r\n  font-weight: 400;\r\n}\r\n\r\n.textarea-wrapper textarea:focus {\r\n  outline: none;\r\n  border-color: #007bff;\r\n  background-color: #ffffff;\r\n  box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.1), inset 0 1px 2px rgba(0, 0, 0, 0.04);\r\n}\r\n\r\n.textarea-wrapper textarea.error {\r\n  border-color: #ec1a03;\r\n  background-color: #fffafa;\r\n  box-shadow: 0 0 0 3px rgba(236, 26, 3, 0.08), inset 0 1px 2px rgba(236, 26, 3, 0.1);\r\n}\r\n\r\n.char-count {\r\n  position: absolute;\r\n  bottom: -1.8rem;\r\n  right: 0.75rem;\r\n  font-size: 0.8rem;\r\n  font-weight: 500;\r\n  color: #4b5563;\r\n  background-color: #f1f5f9;\r\n  padding: 0.2rem 0.6rem;\r\n  border-radius: 8px;\r\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.04);\r\n  font-family: 'Inter', sans-serif;\r\n}\r\n\r\n.form-error {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.6rem;\r\n  color: #b91c1c;\r\n  background-color: #fef2f2;\r\n  padding: 0.8rem 1.2rem;\r\n  border-radius: 10px;\r\n  font-size: 0.92rem;\r\n  font-weight: 600;\r\n  border: 1.4px solid #f87171;\r\n  box-shadow: 0 2px 6px rgba(185, 28, 28, 0.08);\r\n  font-family: 'Poppins', sans-serif;\r\n  margin-bottom: -2rem;\r\n}\r\n\r\n.form-success {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.6rem;\r\n  color: #059669;\r\n  background-color: #ecfdf5;\r\n  padding: 0.8rem 1.2rem;\r\n  border-radius: 10px;\r\n  font-size: 0.92rem;\r\n  font-weight: 600;\r\n  border: 1.4px solid #34d399;\r\n  box-shadow: 0 2px 6px rgba(16, 185, 129, 0.1);\r\n  font-family: 'Poppins', sans-serif;\r\n  margin-bottom: -2rem;\r\n  animation: fadeInSuccess 0.3s ease;\r\n}\r\n\r\n@keyframes fadeInSuccess {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(-4px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n}\r\n\r\n.modal-actions {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 0.8rem;\r\n  margin-top: 1rem;\r\n}\r\n\r\n.cancel-btn,\r\n.confirm-btn {\r\n  padding: 0.6rem 1.3rem;\r\n  border: none;\r\n  font-weight: 600;\r\n  font-size: 0.9rem;\r\n  border-radius: 10px;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease-in-out;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.4rem;\r\n}\r\n\r\n.cancel-btn {\r\n  background-color: #e5e7eb;\r\n  color: #1f2937;\r\n}\r\n\r\n.cancel-btn:hover {\r\n  background-color: #d1d5db;\r\n}\r\n\r\n.confirm-btn {\r\n  background-color: #007bff;\r\n  color: #fff;\r\n}\r\n\r\n.confirm-btn:hover {\r\n  background-color: #0056b3;\r\n}\r\n\r\n@keyframes fadeIn {\r\n  from {\r\n    transform: translateY(-15px);\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    transform: translateY(0);\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n/*  */\r\n@media (max-width: 600px) {\r\n  .modal-content {\r\n    width: 90vw;\r\n    padding: 1.5rem 1.2rem;\r\n    border-radius: 14px;\r\n    gap: 1.2rem;\r\n  }\r\n\r\n  .modal-title {\r\n    font-size: 1.3rem;\r\n    gap: 0.5rem;\r\n  }\r\n\r\n  .modal-title i {\r\n    padding: 0.4rem;\r\n    font-size: 0.9rem;\r\n  }\r\n\r\n  .modal-subtitle {\r\n    font-size: 0.9rem;\r\n    padding-left: 2.4rem;\r\n    margin-top: -2rem;\r\n  }\r\n\r\n  .textarea-wrapper textarea {\r\n    width: 100%;\r\n    font-size: 0.95rem;\r\n    padding: 0.9rem 1rem;\r\n    border-radius: 12px;\r\n    margin-top: -1.5rem;\r\n  }\r\n\r\n  .char-count {\r\n    font-size: 0.75rem;\r\n    right: 0.5rem;\r\n    bottom: -1.5rem;\r\n  }\r\n\r\n  .form-error,\r\n  .form-success {\r\n    font-size: 0.85rem;\r\n    padding: 0.7rem 1rem;\r\n    margin-bottom: -1.5rem;\r\n  }\r\n\r\n  .modal-actions {\r\n    flex-direction: column-reverse;\r\n    align-items: stretch;\r\n  }\r\n\r\n  .cancel-btn,\r\n  .confirm-btn {\r\n    width: 100%;\r\n    justify-content: center;\r\n    padding: 0.7rem 1rem;\r\n    font-size: 0.9rem;\r\n    border-radius: 10px;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./EditFragmentModal.vue?vue&type=template&id=30171962&scoped=true\"\nimport script from \"./EditFragmentModal.vue?vue&type=script&lang=js\"\nexport * from \"./EditFragmentModal.vue?vue&type=script&lang=js\"\n\nimport \"./EditFragmentModal.vue?vue&type=style&index=0&id=30171962&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-30171962\"]])\n\nexport default __exports__","import { render } from \"./KnowledgeBase.vue?vue&type=template&id=708b23c5&scoped=true\"\nimport script from \"./KnowledgeBase.vue?vue&type=script&lang=js\"\nexport * from \"./KnowledgeBase.vue?vue&type=script&lang=js\"\n\nimport \"./KnowledgeBase.vue?vue&type=style&index=0&id=708b23c5&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-708b23c5\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"chat-new-container\">\r\n    <div class=\"chat-new-content\">\r\n      <!-- Imagen -->\r\n      <div class=\"chat-image\">\r\n        <img src=\"../assets/img/inicio.webp\" alt=\"KIIBOT\" loading=\"lazy\"/>\r\n      </div>\r\n\r\n      <!-- Texto -->\r\n      <div class=\"chat-text\">\r\n        <h1 class=\"chat-new-title\">\r\n          <span class=\"highlight\">KIIBOT</span> te acompaña en lo que necesites\r\n        </h1>\r\n      </div>\r\n\r\n     <MessageInput class=\"input-new\" @send=\"handleSendMessage\" />\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MessageInput from '../components/Chat/MessageInput.vue';\r\n\r\nexport default {\r\n  components: {\r\n    MessageInput\r\n  },\r\n  methods: {\r\n    handleSendMessage(message) {\r\n      console.log(\"Mensaje enviado desde input:\", message);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.chat-new-container {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  padding: 2rem;\r\n  text-align: center;\r\n}\r\n\r\n.chat-new-content {\r\n  max-width: 1000px;\r\n  width: 100%;\r\n  margin: 0 auto;\r\n}\r\n\r\n.chat-image img {\r\n  height: 140px;\r\n  width: auto;\r\n  margin: 0 auto 1rem;\r\n  display: block;\r\n  animation: floatIn 0.8s ease-in-out;\r\n  margin-top: -2rem;\r\n  background-color: transparent;\r\n}\r\n\r\n.chat-new-title {\r\n  font-size: 1.3rem;\r\n  font-weight: 700;\r\n  color: #1f2937;\r\n  line-height: 1.4;\r\n  animation: fadeSlideIn 0.8s ease-in-out;\r\n}\r\n\r\n.chat-new-title .highlight {\r\n  color: #2563eb;\r\n  font-weight: 800;\r\n  letter-spacing: 0.5px;\r\n}\r\n\r\n@keyframes floatIn {\r\n  0% {\r\n    transform: translateY(-20px);\r\n    opacity: 0;\r\n  }\r\n  60% {\r\n    transform: translateY(10px);\r\n    opacity: 1;\r\n  }\r\n  100% {\r\n    transform: translateY(0);\r\n  }\r\n}\r\n\r\n@keyframes fadeSlideIn {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(20px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n}\r\n\r\n/* Responsive */\r\n@media (max-width: 768px) {\r\n  .chat-new-container {\r\n    padding: 1.5rem 1rem;\r\n  }\r\n\r\n  .chat-new-title {\r\n    font-size: 1.2rem;\r\n    padding: 0 0.5rem;\r\n  }\r\n\r\n  .chat-image img {\r\n    width: 130px;\r\n    height: auto;\r\n    margin-bottom: 1rem;\r\n    margin-top: -1rem;\r\n  }\r\n}\r\n\r\n@media (max-width: 480px) {\r\n  .chat-new-container {\r\n    padding: 1rem 0.5rem;\r\n  }\r\n\r\n  .chat-new-title {\r\n    font-size: 1.1rem;\r\n    line-height: 1.3;\r\n  }\r\n\r\n  .chat-image img {\r\n    width: 110px;\r\n    margin-top: 0;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./ChatNew.vue?vue&type=template&id=5a05c364&scoped=true\"\nimport script from \"./ChatNew.vue?vue&type=script&lang=js\"\nexport * from \"./ChatNew.vue?vue&type=script&lang=js\"\n\nimport \"./ChatNew.vue?vue&type=style&index=0&id=5a05c364&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5a05c364\"]])\n\nexport default __exports__","import { createRouter, createWebHashHistory } from \"vue-router\";\r\n\r\nimport LoginForm from \"@/views/LoginForm.vue\";\r\nimport MainLayout from \"@/layouts/MainLayout.vue\";\r\nimport HomeView from \"@/views/HomeView.vue\";\r\nimport ChatView from \"@/views/ChatView.vue\";\r\nimport BackOffice from \"@/views/BackOffice.vue\";\r\nimport UserManagement from \"@/views/UserManagement.vue\";\r\nimport MetricsPanel from \"@/views/MetricsPanel.vue\";\r\nimport DocumentsPanel from \"@/views/DocumentsPanel.vue\";\r\nimport KnowledgeBase from \"@/views/KnowledgeBase.vue\";\r\nimport ChatNew from \"@/views/ChatNew.vue\";\r\n\r\nconst routes = [\r\n  { path: \"/\", redirect: \"/login\" },\r\n  { path: \"/login\", component: LoginForm },\r\n\r\n  {\r\n    path: \"/\",\r\n    component: MainLayout,\r\n    meta: { requiresAuth: true },\r\n    children: [\r\n      { path: \"home\", name: \"Home\", component: HomeView },\r\n      { path: \"chat/new\", name: \"ChatNew\", component: ChatNew },\r\n      { path: \"chat/:id\", name: \"Chat\", component: ChatView },\r\n      {\r\n        path: \"backoffice\",\r\n        name: \"BackOffice\",\r\n        component: BackOffice,\r\n        meta: { requiresAuth: true, requiresAdmin: true },\r\n      },\r\n      { path: \"users\", name: \"UserManagement\", component: UserManagement },\r\n      { path: \"metrics\", name: \"MetricsPanel\", component: MetricsPanel },\r\n      { path: \"documents\", name: \"DocumentsPanel\", component: DocumentsPanel },\r\n      { path: \"embeddings\", name: \"KnowledgeBase\", component: KnowledgeBase },\r\n    ],\r\n  },\r\n\r\n  { path: \"/:catchAll(.*)\", redirect: \"/home\" },\r\n];\r\n\r\nconst router = createRouter({\r\n  history: createWebHashHistory(),\r\n  routes,\r\n});\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n  const isAuthenticated = !!localStorage.getItem(\"token\");\r\n  const userRole = localStorage.getItem(\"role\");\r\n\r\n  if (to.meta.requiresAuth && !isAuthenticated) {\r\n    next(\"/login\");\r\n  } else if (to.path === \"/login\" && isAuthenticated) {\r\n    next(\"/home\");\r\n  } else if (to.meta.requiresAdmin && userRole !== \"admin\") {\r\n    next(\"/home\");\r\n  } else {\r\n    next();\r\n  }\r\n});\r\n\r\nexport default router;\r\n","import { createApp } from 'vue';\nimport App from './App.vue';\nimport router from './router';\n\nwindow.__VUE_PROD_HYDRATION_MISMATCH_DETAILS__ = false;\n\nimport '@fortawesome/fontawesome-free/css/all.min.css';\nimport 'github-markdown-css/github-markdown-light.css';\nimport 'highlight.js/styles/github.css';\nimport 'katex/dist/katex.min.css';\n\nconst app = createApp(App);\napp.use(router);\napp.mount('#app');\n\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","__webpack_require__.p = \"/kiibot-frontend/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkkiibot_frontend\"] = self[\"webpackChunkkiibot_frontend\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(4267); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_createBlock","_component_router_view","name","__exports__","render","class","key","_createElementBlock","_hoisted_1","_createStaticVNode","_createElementVNode","onSubmit","_cache","_withModifiers","args","$options","handleLogin","_normalizeClass","$data","emailError","_hoisted_2","type","id","$event","email","onFocus","focusedField","onBlur","validateEmail","active","for","_hoisted_3","_toDisplayString","_createCommentVNode","passwordError","_hoisted_4","showPassword","password","validatePassword","_hoisted_5","onClick","togglePassword","_hoisted_6","disabled","isLocked","_hoisted_9","_hoisted_8","_hoisted_7","_createVNode","_Transition","default","_withCtx","errorMessage","_hoisted_10","_","fake_user","role","profile_photo","data","methods","this","trim","test","length","setTimeout","localStorage","setItem","$router","push","handleTokenExpired","mounted","window","addEventListener","beforeUnmount","removeEventListener","isSidebarOpen","isMobile","toggleSidebar","_component_SidebarView","onToggleSidebar","expanded","Component","mode","_resolveDynamicComponent","showSessionExpiredModal","redirectToLogin","$props","openSearchModal","handleStartNewChat","_Fragment","_renderList","chats","chat","Number","_ctx","$route","params","editingChatId","_component_router_link","to","handleSidebarSelect","newChatName","onKeyup","_withKeys","confirmRename","cancelRename","placeholder","autofocus","openChatOptions","showModal","closeModal","style","_normalizeStyle","top","modalPosition","left","renameChat","_createTextVNode","deleteChat","profileImage","src","alt","_hoisted_11","_hoisted_12","userRole","_hoisted_13","handleBackofficeClick","showConfirmDelete","_component_ConfirmDeleteModal","chatToDelete","getChatNameById","onConfirmDelete","handleConfirmedDelete","onCancelDelete","handleCancelDelete","showSearchModal","_component_SearchModal","onClose","chatName","_imports_0","loading","$emit","chatId","props","String","required","appear","ref","search","onInput","handleSearch","filteredResults","item","selectResult","modelValue","Boolean","Array","emits","results","computed","text","toLowerCase","chatResults","map","combined","filter","isMatch","includes","isChat","$nextTick","$refs","searchInput","focus","result","bus","mitt","components","ConfirmDeleteModal","SearchModal","watch","immediate","handler","newId","selectedChatId","getItem","require","document","handleClickOutside","handleClickOutsideRename","on","updateProfilePhoto","getUserRole","off","newBase64","startNewChat","event","rect","target","getBoundingClientRect","scrollY","scrollX","modal","$el","querySelector","contains","shareChat","console","log","found","find","startRenaming","newName","c","innerWidth","activeInput","SidebarView","documentElement","overflow","body","cssText","updateIsMobile","isEditing","onChange","updateProfileImage","hidden","readonly","nameError","toastMessage","toastType","closeToast","isSaving","saveChanges","title","toggleEdit","showChangePassword","handleLogout","_hoisted_14","metrics","sentMessages","_hoisted_15","botReplies","_hoisted_16","totalChats","closeChangePasswordModal","_hoisted_17","_hoisted_18","showNewPassword","newPassword","_hoisted_19","_hoisted_20","showConfirmPassword","confirmPassword","_hoisted_21","_hoisted_22","passwordToastMessage","passwordToastType","closePasswordToast","_hoisted_23","valid","passwordValidations","hasUppercase","hasLowercase","minLength","hasNumberOrSpecial","changePassword","isChangingPassword","_hoisted_25","_hoisted_24","_hoisted_26","isLoggingOut","_hoisted_27","_hoisted_28","pwd","newVal","nameValid","emailValid","showToast","message","file","files","reader","FileReader","onload","e","base64Image","emit","readAsDataURL","v","showPasswordToast","field","removeItem","_TransitionGroup","tag","flows","activeFlowIndex","msg","index","ref_for","onMouseenter","hoveredMessageId","onMouseleave","editingMessageId","innerHTML","versions","activeVersion","content","contenteditable","updateEditingText","onKeydown","saveEdit","editingText","cancelEdit","copyMessage","copiedMessageId","startEditing","isTyping","showScrollDownButton","scrollToBottomSmooth","_component_MessageInput","onSend","handleSendMessage","routeClass","previewImages","previewFiles","img","previewModal","removePreview","getFileColorClass","handleEnter","rows","triggerFileInput","multiple","handleFileChange","isGeneralMode","toggleGeneralMode","emitMessage","maxFiles","path","shiftKey","textarea","pos","selectionStart","slice","selectionEnd","adjustHeight","trimmed","generalMode","height","scrollHeight","maxHeight","fileInput","click","from","total","allowedExtensions","value","forEach","extension","split","pop","isImage","startsWith","nameWithoutExtension","replace","colors","splice","marked","setOptions","highlight","code","hljs","highlightAuto","MessageInput","loadMessages","container","updateScrollButtonVisibility","scrollToBottomIfUserIsAtBottom","formatted","formatResponseText","currentFlow","Date","now","reply","generateFakeBotReply","formattedBot","applyEnhancements","force","last","lastMsg","isAtBottom","scrollTop","clientHeight","isArray","scrollIntoView","behavior","scrollTo","atBottom","parseInline","formula","katex","displayMode","rawHtml","parse","cleanHtml","DOMPurify","sanitize","ADD_ATTR","ADD_TAGS","highlightAllCode","labelAllLanguages","addAllCopyButtons","codeBlocks","querySelectorAll","innerText","langAliasMap","arcade","isbl","xml","csharp","haskell","n1ql","preBlocks","pre","rawLang","language","prettyLang","langLabel","createElement","className","insertBefore","btn","navigator","clipboard","writeText","then","position","appendChild","html","tempDiv","catch","err","error","div","updatedText","cutAfter","previousVersion","oldFlow","pivotIndex","findIndex","m","clonedFlow","JSON","stringify","editedMsg","botMsg","newBot","nextVersion","flow","script","openAddUserModal","searchQuery","isLoading","filteredUsers","user","last_seen_text","is_online","openUserActionsModal","_component_UserActionsModal","selectedUser","isOpen","showUserActionsModal","onChangePassword","handlePasswordChange","onChangeRole","handleRoleChange","onDeleteUser","handleUserDelete","_component_AddUserModal","showAddUserModal","previewPhoto","invalidFields","formError","closeAddUserModal","handleAddUser","onUploadPhoto","handlePhotoUpload","onTogglePassword","onUpdateNewPassword","val","togglePasswordChange","showPasswordInput","isAnyLoading","isLoadingPassword","toggleRole","isLoadingRole","toggleDeleteConfirm","showDeleteConfirm","isLoadingDelete","newUserPassword","successMessage","submitNewPassword","deleteUser","_hoisted_29","close","_hoisted_30","Object","dialog","resetState","errors","join","newRole","onDialogClose","validateAndSubmit","isClosing","emitTriggerFile","draggable","isDisabled","accept","emitUploadPhoto","emitTogglePassword","selected","localFormError","emitClose","isSubmitting","resetForm","emailRegex","passwordRegex","done","onSubmitDone","success","users","UserActionsModal","AddUserModal","query","fetchUsers","saved","mockUsers","saveUsers","Math","max","u","newUser","showSuccessToast","filters","updateMetrics","openModal","appliedFilters","time","date","toggleFilterDropdown","showFilterDropdown","startDisplay","endDisplay","clearTimeFilter","display","clearDateFilter","activeModal","_component_ModalTime","onApply","applyTimeFilter","_component_ModalDate","applyDateFilter","_component_GeneralMetrics","_component_UserMetrics","userId","customStart","validateTimes","customEnd","validationError","applyCustom","openDialog","start12h","formatTo12h","end12h","time24","hourStr","minute","hour","parseInt","ampm","toString","padStart","startDate","validateRange","endDate","applyDateRange","range","start","end","formatDisplay","dateStr","year","month","day","_component_MetricCard","icon","totalMessages","deletedMessages","avgDuration","_component_MetricProgressGroup","activeChats","deletedChats","generativeUses","intentRate","_component_MetricPie","successfulResponses","emptyResponses","conContexto","totalDocs","totalEmbeddings","_component_MetricList","items","topDocs","doc","Documento","topFrags","frag","Fragmento","responseTime","apiErrors","deletedBotReplies","tokens","animatedValue","interval","undefined","startCountAnimation","handleStringValue","suffix","clearInterval","duration","frameRate","steps","increment","current","setInterval","round","toLocaleString","match","number","parseFloat","isNaN","animatedMetrics","label","hasValidValue","displayValue","width","animatedWidth","startAnimation","animateBoth","startTime","performance","animate","currentTime","elapsed","progress","min","eased","easeOutCubic","currentVal","floor","percent","formatValue","toFixed","requestAnimationFrame","t","pow","animationDelay","viewBox","x","y","hasNoData","cx","cy","r","percentage","sinContexto","pct","MetricCard","MetricProgressGroup","MetricList","MetricPie","userMessages","botMessages","fetchMetrics","totalConsultas","starredChats","titulo","fecha","fetchUserMetrics","ModalTime","ModalDate","GeneralMetrics","UserMetrics","timeFilter","start24","convertTo24","end24","dateRange","time12h","modifier","hours","minutes","openAddDocumentModal","filteredDocuments","status","fragments","viewDocument","downloadDocument","deleteDocument","showUploadModal","_component_UploadDocument","onDocumentUploaded","handleDocumentUpload","showDeleteModal","_component_DeleteConfirm","documentToDelete","onCancel","cancelDelete","confirmDelete","fileColorClass","fileIconClass","selectedFile","readableExtension","readableSize","handleFile","isUploading","uploadProgress","uploadSuccess","submitUpload","maxSizeMB","fileTypes","pdf","color","docx","txt","xlsx","csv","fileExtension","fileData","sizeKB","size","sizeMB","keys","newDocument","toISOString","random","confirmInput","canDelete","isDeleting","confirmDeletion","UploadDocument","DeleteConfirm","documents","newDoc","unshift","selectedDocument","availableDocuments","filteredFragments","fragment","expandedIds","shouldShowToggle","toggleFragment","was_edited","editFragment","showEditModal","_component_EditFragmentModal","fragmentBeingEdited","closeEditModal","onSave","handleFragmentSave","open","handleSave","editedText","showError","showSuccess","EditFragmentModal","docs","f","Set","matchesQuery","matchesDocument","updatedFragment","indexOf","routes","redirect","component","LoginForm","MainLayout","meta","requiresAuth","children","HomeView","ChatNew","ChatView","BackOffice","requiresAdmin","UserManagement","MetricsPanel","DocumentsPanel","KnowledgeBase","router","createRouter","history","createWebHashHistory","beforeEach","next","isAuthenticated","__VUE_PROD_HYDRATION_MISMATCH_DETAILS__","app","createApp","App","use","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","every","d","definition","o","defineProperty","enumerable","get","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}